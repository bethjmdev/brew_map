/*! For license information please see main.2267f3e0.js.LICENSE.txt */
(()=>{var e={497:(e,t,n)=>{"use strict";var r=n(218);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,i,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,s,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=m.hasOwnProperty(t)?m[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,j=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==i[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case S:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Ce=null;function Se(e){if(e=bs(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=_s(t),Ee(e.stateNode,e.type,t))}}function xe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Le(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Le(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_s(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Re=!1}function Me(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,je=null,Ue=!1,Fe=null,ze={onError:function(e){De=!0,je=e}};function Be(e,t,n,r,s,i,o,a,l){De=!1,je=null,Me.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return We(s),e;if(o===r)return We(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Ze=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?r=ht(a):0!==(i&=o)&&(r=ht(i))}else 0!==(o=n&~s)?r=ht(o):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,kt,Ct,St,xt=!1,Tt=[],It=null,Lt=null,Pt=null,Ot=new Map,Nt=new Map,Rt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function jt(e){var t=ys(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){xt=!1,null!==It&&Ut(It)&&(It=null),null!==Lt&&Ut(Lt)&&(Lt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Ot.forEach(Ft),Nt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Lt&&Bt(Lt,e),null!==Pt&&Bt(Pt,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var s=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=s,Ht.transition=i}}function Kt(e,t,n,r){var s=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=s,Ht.transition=i}}function Gt(e,t,n,r){if(Wt){var s=Yt(e,t,n,r);if(null===s)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return It=Dt(It,e,t,n,r,s),!0;case"dragenter":return Lt=Dt(Lt,e,t,n,r,s),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nt.set(i,Dt(Nt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==s;){var i=bs(s);if(null!==i&&_t(i),null===(i=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=ys(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,s="value"in Zt?Zt.value:Zt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(j({},fn,{dataTransfer:0})),mn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var xn=j({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(xn),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(On),Rn=[9,13,27,32],An=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Mn,jn=u&&(!An||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){xe(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(ws(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,_e(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var o=ur(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Cr={};function Sr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Lr=Sr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Ar=Or[Rr];Nr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Nr(xr,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,a,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var u=je;De=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jr(s,a,c),i=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jr(s,a,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var s=qt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=ys(a)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=i,s=_e(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case xr:case Tr:case Ir:l=vn;break;case Lr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ne(p,d))&&u.push(qr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ws(l),f=null==c?a:ws(c),(a=new u(g,p+"leave",l,n,s)).target=h,a.relatedTarget=f,g=null,ys(s)===r&&((u=new u(d,p+"enter",c,n,s)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?ws(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Wn(a))if(Zn)m=or;else{m=sr;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ir);switch(m&&(m=m(e,r))?qn(o,m,n,s):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?ws(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,s)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Zt=s)?Zt.value:Zt.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,s),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!An&&zn(e,t)?(e=en(),$t=Jt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=y))}Ur(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ne(e,n))&&r.unshift(qr(e,i,s)),null!=(i=Ne(e,t))&&r.push(qr(e,i,s))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=Ne(n,i))&&o.unshift(qr(n,l,a)):s||null!=(l=Ne(n,i))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function $r(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,fs="__reactProps$"+hs,ps="__reactContainer$"+hs,gs="__reactEvents$"+hs,ms="__reactListeners$"+hs,vs="__reactHandles$"+hs;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ds])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ds]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _s(e){return e[fs]||null}var Es=[],ks=-1;function Cs(e){return{current:e}}function Ss(e){0>ks||(e.current=Es[ks],Es[ks]=null,ks--)}function xs(e,t){ks++,Es[ks]=e.current,e.current=t}var Ts={},Is=Cs(Ts),Ls=Cs(!1),Ps=Ts;function Os(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ns(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rs(){Ss(Ls),Ss(Is)}function As(e,t,n){if(Is.current!==Ts)throw Error(i(168));xs(Is,t),xs(Ls,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,H(e)||"Unknown",s));return j({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,Ps=Is.current,xs(Is,e),xs(Ls,Ls.current),!0}function js(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ms(e,t,Ps),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ls),Ss(Is),xs(Is,e)):Ss(Ls),xs(Ls,n)}var Us=null,Fs=!1,zs=!1;function Bs(e){null===Us?Us=[e]:Us.push(e)}function Vs(){if(!zs&&null!==Us){zs=!0;var e=0,t=bt;try{var n=Us;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Us=null,Fs=!1}catch(s){throw null!==Us&&(Us=Us.slice(e+1)),Ge($e,Vs),s}finally{bt=t,zs=!1}}return null}var Hs=[],Ws=0,qs=null,Ks=0,Gs=[],Qs=0,Ys=null,Xs=1,Zs="";function Js(e,t){Hs[Ws++]=Ks,Hs[Ws++]=qs,qs=e,Ks=t}function $s(e,t,n){Gs[Qs++]=Xs,Gs[Qs++]=Zs,Gs[Qs++]=Ys,Ys=e;var r=Xs;e=Zs;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xs=1<<32-ot(t)+s|n<<s|r,Zs=i+e}else Xs=1<<i|n<<s|r,Zs=e}function ei(e){null!==e.return&&(Js(e,1),$s(e,1,0))}function ti(e){for(;e===qs;)qs=Hs[--Ws],Hs[Ws]=null,Ks=Hs[--Ws],Hs[Ws]=null;for(;e===Ys;)Ys=Gs[--Qs],Gs[Qs]=null,Zs=Gs[--Qs],Gs[Qs]=null,Xs=Gs[--Qs],Gs[Qs]=null}var ni=null,ri=null,si=!1,ii=null;function oi(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Xs,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!ai(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&ai(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function hi(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)oi(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var gi=w.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===N&&yi(i)===t.type)?((r=s(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===s?c(e,t,n,r):null;case E:return n.key===s?u(e,t,n,r):null;case N:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||M(n))return null!==s?null:h(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}function g(s,i,a,l){for(var c=null,u=null,h=i,g=i=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(s,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(s,h),i=o(v,i,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(s,h),si&&Js(s,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(s,a[g],l))&&(i=o(h,i,g),null===u?c=h:u.sibling=h,u=h);return si&&Js(s,g),c}for(h=r(s,h);g<a.length;g++)null!==(m=p(h,s,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),i=o(m,i,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(s,e)})),si&&Js(s,g),c}function m(s,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(s,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(s,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(s,g),si&&Js(s,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(s,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return si&&Js(s,m),u}for(g=r(s,g);!y.done;m++,y=l.next())null!==(y=p(g,s,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(s,e)})),si&&Js(s,m),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(i=s(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&yi(c)===u.type){n(r,u.sibling),(i=s(u,o.props)).ref=mi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((i=Mc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Ac(o.type,o.key,o.props,null,r.mode,l)).ref=mi(r,i,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=s(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uc(o,r.mode,l)).return=r,r=i}return a(r);case N:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return g(r,i,o,l);if(M(o))return m(r,i,o,l);vi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,o)).return=r,r=i):(n(r,i),(i=jc(o,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=bi(!0),_i=bi(!1),Ei=Cs(null),ki=null,Ci=null,Si=null;function xi(){Si=Ci=ki=null}function Ti(e){var t=Ei.current;Ss(Ei),e._currentValue=t}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Li(e,t){ki=e,Si=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===ki)throw Error(i(308));Ci=e,ki.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Oi=null;function Ni(e){null===Oi?Oi=[e]:Oi.push(e)}function Ri(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ni(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ai(e,r)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ji(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ai(e,n)}return null===(s=r.interleaved)?(t.next=t,Ni(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ai(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var s=e.updateQueue;Mi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(o=0,u=c=l=null,a=i;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(d=a).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=h}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Wi={},qi=Cs(Wi),Ki=Cs(Wi),Gi=Cs(Wi);function Qi(e){if(e===Wi)throw Error(i(174));return e}function Yi(e,t){switch(xs(Gi,t),xs(Ki,e),xs(qi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(qi),xs(qi,t)}function Xi(){Ss(qi),Ss(Ki),Ss(Gi)}function Zi(e){Qi(Gi.current);var t=Qi(qi.current),n=le(t,e.type);t!==n&&(xs(Ki,e),xs(qi,n))}function Ji(e){Ki.current===e&&(Ss(qi),Ss(Ki))}var $i=Cs(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,io=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(i(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,s,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:ea,e=n(r,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,s)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,io=0,lo=ao=oo=null,co=!1,t)throw Error(i(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ao,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((io&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Dl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Dl|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function Co(e,t){var n=oo,r=bo(),s=t(),o=!ar(r.memoizedState,s);if(o&&(r.memoizedState=s,ba=!0),r=r.queue,Do(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,xo.bind(null,n,r,s,t),void 0,null),null===Ll)throw Error(i(349));0!==(30&io)||So(n,t,s)}return s}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xo(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Lo(e)}function To(e,t,n){return n((function(){Io(t)&&Lo(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Lo(e){var t=Ai(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function No(){return bo().memoizedState}function Ro(e,t,n,r){var s=yo();oo.flags|=e,s.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Ao(e,t,n,r){var s=bo();r=void 0===r?null:r;var i=void 0;if(null!==ao){var o=ao.memoizedState;if(i=o.destroy,null!==r&&go(r,o.deps))return void(s.memoizedState=Oo(t,n,i,r))}oo.flags|=e,s.memoizedState=Oo(1|t,n,i,r)}function Mo(e,t){return Ro(8390656,8,e,t)}function Do(e,t){return Ao(2048,8,e,t)}function jo(e,t){return Ao(4,2,e,t)}function Uo(e,t){return Ao(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4,4,Fo.bind(null,t,e),n)}function Bo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Ri(e,t,n,r))){nc(n,e,r,ec()),Zo(n,t,r)}}function Qo(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(s.next=s,Ni(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ri(e,t,s,r))&&(nc(n,e,r,s=ec()),Zo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Pi,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:Pi,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Bo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=yo();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ll)throw Error(i(349));0!==(30&io)||So(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Mo(To.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,xo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Ll.identifierPrefix;if(si){var n=Zs;t=":"+t+"R"+(n=(Xs&~(1<<32-ot(Xs)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Pi,useCallback:Vo,useContext:Pi,useEffect:Do,useImperativeHandle:zo,useInsertionEffect:jo,useLayoutEffect:Uo,useMemo:Ho,useReducer:_o,useRef:No,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){return Wo(bo(),ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Co,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:Pi,useCallback:Vo,useContext:Pi,useEffect:Do,useImperativeHandle:zo,useInsertionEffect:jo,useLayoutEffect:Uo,useMemo:Ho,useReducer:Eo,useRef:No,useState:function(){return Eo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Co,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Ui(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,s))&&(nc(t,e,s,r),zi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Ui(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,s))&&(nc(t,e,s,r),zi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Ui(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Fi(e,s,r))&&(nc(t,e,r,n),zi(t,e,r))}};function ia(e,t,n,r,s,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oa(e,t,n){var r=!1,s=Ts,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(s=Ns(t)?Ps:Is.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Os(e,s):Ts),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Pi(i):(i=Ns(t)?Ps:Is.current,s.context=Os(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Vi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),ha(0,t)},n}function pa(e,t,n){(n=Ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ha(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?_i(t,null,n,r):wi(t,e.child,n,r)}function _a(e,t,n,r,s){n=n.render;var i=t.ref;return Li(t,s),r=mo(e,t,n,r,i,s),n=vo(),null===e||ba?(si&&n&&ei(t),t.flags|=1,wa(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s))}function Ea(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Nc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ka(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Wa(e,t,s)}return t.flags|=1,(e=Rc(i,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Wa(e,t,s);0!==(131072&e.flags)&&(ba=!0)}}return xa(e,t,n,r,s)}function Ca(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xs(Rl,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xs(Rl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,xs(Rl,Nl),Nl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,xs(Rl,Nl),Nl|=r;return wa(e,t,s,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,s){var i=Ns(n)?Ps:Is.current;return i=Os(t,i),Li(t,s),n=mo(e,t,n,r,i,s),r=vo(),null===e||ba?(si&&r&&ei(t),t.flags|=1,wa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s))}function Ta(e,t,n,r,s){if(Ns(n)){var i=!0;Ds(t)}else i=!1;if(Li(t,s),null===t.stateNode)Ha(e,t),oa(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pi(c):c=Os(t,c=Ns(n)?Ps:Is.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Mi=!1;var d=t.memoizedState;o.state=d,Vi(t,r,o,s),l=t.memoizedState,a!==r||d!==l||Ls.current||Mi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ji(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Os(t,l=Ns(n)?Ps:Is.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Mi=!1,d=t.memoizedState,o.state=d,Vi(t,r,o,s);var p=t.memoizedState;a!==h||d!==p||Ls.current||Mi?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mi||ia(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,i,s)}function Ia(e,t,n,r,s,i){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&js(t,n,!1),Wa(e,t,i);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,s&&js(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?As(0,t.pendingContext,t.pendingContext!==t.context):t.context&&As(0,t.context,!1),Yi(e,t.containerInfo)}function Pa(e,t,n,r,s){return fi(),pi(s),t.flags|=256,wa(e,t,n,r),t.child}var Oa,Na,Ra,Aa,Ma={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,s=t.pendingProps,o=$i.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xs($i,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,s,0,null),e=Mc(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Dc({mode:"visible",children:r.children},s,0,null),(o=Mc(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(o=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Ll)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ai(e,s),nc(r,e,s,-1))}return gc(),Fa(e,t,a,r=ua(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Gs[Qs++]=Xs,Gs[Qs++]=Zs,Gs[Qs++]=Ys,Xs=e.id,Zs=e.overflow,Ys=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(a){a=s.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Rc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,s}return e=(a=e.child).sibling,s=Rc(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ua(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&pi(r),wi(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function Ba(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Va(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=$i.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xs($i,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ba(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ns(t.type)&&Rs(),Ka(t),null;case 3:return r=t.stateNode,Xi(),Ss(Ls),Ss(Is),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Na(e,t),Ka(t),null;case 5:Ji(t);var s=Qi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ka(t),null}if(e=Qi(qi.current),hi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ds]=t,r[fs]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)Fr(Mr[s],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":se(r,o),Fr("invalid",r)}for(var l in ye(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[fs]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),s=r;break;case"iframe":case"object":case"embed":Fr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)Fr(Mr[s],e);s=r;break;case"source":Fr("error",e),s=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),s=r;break;case"details":Fr("toggle",e),s=r;break;case"input":X(e,r),s=Y(e,r),Fr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Fr("invalid",e)}for(o in ye(n,s),c=s)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Aa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Gi.current),Qi(qi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ss($i),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),fi(),t.flags|=98560,o=!1;else if(o=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ds]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$i.current)?0===Al&&(Al=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xi(),Na(e,t),null===e&&Vr(t.stateNode.containerInfo),Ka(t),null;case 10:return Ti(t.type._context),Ka(t),null;case 19:if(Ss($i),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xs($i,1&$i.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Vl&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!si)return Ka(t),null}else 2*Ze()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=$i.current,xs($i,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qa(e,t){switch(ti(t),t.tag){case 1:return Ns(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Ss(Ls),Ss(Is),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Ss($i),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss($i),null;case 4:return Xi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Ra=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qi(qi.current);var i,o=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),o=[];break;case"select":s=j({},s,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Ja=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[fs],delete t[gs],delete t[ms],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Xa||$a(n,t);case 6:var r=ul,s=hl;ul=null,dl(e,t,n),hl=s,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Vt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=s;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Xa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(o,a,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Cc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Cc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(s,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):b(s,h,d,u)}switch(l){case"input":J(s,o);break;case"textarea":ie(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(s,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[fs]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Ze())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gl(t,e),Xa=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$a(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:$a(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Ja=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Cc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(i(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var s=Ja,i=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Ya;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for(Ja=s;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?El(s):null!==l?(l.return=o,Ja=l):El(s);for(;null!==i;)Ja=i,bl(i,t,n),i=i.sibling;Ja=s,Ya=a,Xa=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Ja=i):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hi(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(i(163))}Xa||512&t.flags&&sl(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function _l(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Cc(t,s,l)}}var i=t.return;try{sl(t)}catch(l){Cc(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Cc(t,o,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,Cl=Math.ceil,Sl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Ll=null,Pl=null,Ol=0,Nl=0,Rl=Cs(0),Al=0,Ml=null,Dl=0,jl=0,Ul=0,Fl=null,zl=null,Bl=0,Vl=1/0,Hl=null,Wl=!1,ql=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Zl=null,Jl=-1,$l=0;function ec(){return 0!==(6&Il)?Ze():-1!==Jl?Jl:Jl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ol?Ol&-Ol:null!==gi.transition?(0===$l&&($l=gt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(i(185));vt(e,n,r),0!==(2&Il)&&e===Ll||(e===Ll&&(0===(2&Il)&&(jl|=n),4===Al&&ac(e,Ol)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Vl=Ze()+500,Fs&&Vs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&r)||(s[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=dt(e,e===Ll?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fs=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),os((function(){0===(6&Il)&&Vs()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jl=-1,$l=0,0!==(6&Il))throw Error(i(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Ll?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var s=Il;Il|=2;var o=pc();for(Ll===e&&Ol===t||(Hl=null,Vl=Ze()+500,dc(e,t));;)try{yc();break}catch(l){fc(e,l)}xi(),Sl.current=o,Il=s,null!==Pl?t=0:(Ll=null,Ol=0,t=Al)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ml,dc(e,0),ac(e,r),rc(e,Ze()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ml,dc(e,0),ac(e,r),rc(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:_c(e,zl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(_c.bind(null,e,zl,Hl),t);break}_c(e,zl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>s&&(s=a),r&=~o}if(r=s,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=rs(_c.bind(null,e,zl,Hl),r);break}_c(e,zl,Hl);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(i(327));Ec();var t=dt(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ml,dc(e,0),ac(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,Hl),rc(e,Ze()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Vl=Ze()+500,Fs&&Vs())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Vs()}}function hc(){Nl=Rl.current,Ss(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Rs();break;case 3:Xi(),Ss(Ls),Ss(Is),no();break;case 5:Ji(r);break;case 4:Xi();break;case 13:case 19:Ss($i);break;case 10:Ti(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ll=e,Pl=e=Rc(e.current,null),Ol=Nl=t,Al=0,Ml=null,Ul=jl=Dl=0,zl=Fl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=s,r.next=o}n.pending=r}Oi=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(xi(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}co=!1}if(io=0,lo=ao=oo=null,uo=!1,ho=0,xl.current=null,null===n||null===n.return){Al=1,Ml=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(i(426))}else if(si&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),pi(ca(c,l));break e}}o=c=ca(c,l),4!==Al&&(Al=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,fa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Jo,null===e?Jo:e}function gc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Ll||0===(268435455&Dl)&&0===(268435455&jl)||ac(Ll,Ol)}function mc(e,t){var n=Il;Il|=2;var r=pc();for(Ll===e&&Ol===t||(Hl=null,dc(e,t));;)try{vc();break}catch(s){fc(e,s)}if(xi(),Il=n,Sl.current=r,null!==Pl)throw Error(i(261));return Ll=null,Ol=0,Al}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Ye();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,xl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Nl)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function _c(e,t,n){var r=bt,s=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Il))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,o),e===Ll&&(Pl=Ll=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Lc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Il;Il|=4,xl.current=null,function(e,t){if(es=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){Cc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ts),Wt=!!es,ts=es=null,e.current=n,yl(n,e,s),Xe(),Il=l,bt=a,Tl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=s),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Vs()}(e,t,n,r)}finally{Tl.transition=s,bt=r}return null}function Ec(){if(null!==Ql){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Il))throw Error(i(331));var s=Il;for(Il|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(il(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Cc(l,l.return,E)}if(l===a){Ja=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ja=_;break e}Ja=l.return}}if(Il=s,Vs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(E){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function kc(e,t,n){e=Fi(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Fi(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Ol&n)===n&&(4===Al||3===Al&&(130023424&Ol)===Ol&&500>Ze()-Bl?dc(e,0):Ul|=n),rc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ai(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),xc(e,n)}function Lc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,s,o){var a=2;if(r=e,"function"===typeof e)Nc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Mc(n.children,s,o,t);case C:a=8,s|=8;break;case S:return(e=Oc(12,n,t,2|s)).elementType=S,e.lanes=o,e;case L:return(e=Oc(13,n,t,s)).elementType=L,e.lanes=o,e;case P:return(e=Oc(19,n,t,s)).elementType=P,e.lanes=o,e;case R:return Dc(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case T:a=9;break e;case I:a=11;break e;case O:a=14;break e;case N:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,s,i,o,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Bc(e){if(!e)return Ts;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ns(n))return Ms(e,n,t)}return t}function Vc(e,t,n,r,s,i,o,a,l){return(e=zc(n,r,!0,e,0,i,0,a,l)).context=Bc(null),n=e.current,(i=Ui(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,s),e.current.lanes=s,vt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,i=ec(),o=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(s,t,o))&&(nc(e,s,o,i),zi(e,s,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ls.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:La(t),fi();break;case 5:Zi(t);break;case 1:Ns(t.type)&&Ds(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xs(Ei,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xs($i,1&$i.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(xs($i,1&$i.current),null!==(e=Wa(e,t,n))?e.sibling:null);xs($i,1&$i.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),xs($i,$i.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,si&&0!==(1048576&t.flags)&&$s(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var s=Os(t,Is.current);Li(t,n),s=mo(null,t,r,e,s,n);var o=vo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ns(r)?(o=!0,Ds(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Di(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,si&&o&&ei(t),wa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=na(r,e),s){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,xa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ta(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(La(t),null===e)throw Error(i(387));r=t.pendingProps,s=(o=t.memoizedState).element,ji(e,t),Vi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,s=ca(Error(i(423)),t));break e}if(r!==s){t=Pa(e,t,r,n,s=ca(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=Wa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==o&&ns(r,o)&&(t.flags|=32),Sa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return ja(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,_a(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,xs(Ei,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===s.children&&!Ls.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ui(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ii(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Li(t,n),r=r(s=Pi(s)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),Ea(e,t,r,s=na(r.type,s),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Ha(e,t),t.tag=1,Ns(r)?(e=!0,Ds(t)):e=!1,Li(t,n),oa(t,r,s),la(t,r,s,n),Ia(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return Ca(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof s){var a=s;s=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Wc(o);i.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[ps]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ps]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,s,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&Il)&&(Vl=Ze()+500,Vs()))}break;case 13:uc((function(){var t=Ai(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},Et=function(e){if(13===e.tag){var t=Ai(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ai(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_s(r);if(!s)throw Error(i(90));G(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Le=uc;var eu={usingClientEntryPoint:!1,Events:[bs,ws,_s,xe,Te,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,s,0,o,a),e[ps]=t.current,Vr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,i={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,s)&&!C.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:i,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,s,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+I(l,0):i,_(o)?(s="",null!=e&&(s=e.replace(T,"$&/")+"/"),L(o,t,s,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",_(e))for(var c=0;c<e.length;c++){var u=i+I(a=e[c],c);l+=L(a,t,s,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=L(a=a.value,t,s,u=i+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],s=0;return L(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!C.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(u);null!==t&&A(_,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,y(x),x=-1),p=!0;var i=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!L());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&s(c),w(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&A(_,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,x=-1,T=5,I=-1;function L(){return!(t.unstable_now()-I<T)}function P(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=P,k=function(){N.postMessage(null)}}else k=function(){v(P,0)};function R(e){S=e,C||(C=!0,k())}function A(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(y(x),x=-1):m=!0,A(_,i-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},158:e=>{function t(e,t){if((e=e.replace(/\s+/g,""))===(t=t.replace(/\s+/g,"")))return 1;if(e.length<2||t.length<2)return 0;let n=new Map;for(let s=0;s<e.length-1;s++){const t=e.substring(s,s+2),r=n.has(t)?n.get(t)+1:1;n.set(t,r)}let r=0;for(let s=0;s<t.length-1;s++){const e=t.substring(s,s+2),i=n.has(e)?n.get(e):0;i>0&&(n.set(e,i-1),r++)}return 2*r/(e.length+t.length-2)}e.exports={compareTwoStrings:t,findBestMatch:function(e,n){if(!function(e,t){return"string"===typeof e&&(!!Array.isArray(t)&&(!!t.length&&!t.find((function(e){return"string"!==typeof e}))))}(e,n))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const r=[];let s=0;for(let o=0;o<n.length;o++){const i=n[o],a=t(e,i);r.push({target:i,rating:a}),a>r[s].rating&&(s=o)}const i=r[s];return{ratings:r,bestMatch:i,bestMatchIndex:s}}}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".7e6d4e22.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="brewmap:";n.l=(r,s,i,o)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+i){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[s];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkbrewmap=self.webpackChunkbrewmap||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(43),r=n.t(t,2),s=n(391),i=n(950),o=n.t(i,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(t,n,r,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:o=!1}=s,u=i.history,p=e.Pop,g=null,m=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-m;m=t,g&&g({action:p,location:w.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,u.replaceState(a({},u.state,{idx:m}),""));let w={get action(){return p},get location(){return t(i,u)},listen(e){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(l,y),g=e,()=>{i.removeEventListener(l,y),g=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let s=d(w.location,t,n);r&&r(s,t),m=v()+1;let a=h(s,m),l=w.createHref(s);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(l)}o&&g&&g({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let s=d(w.location,t,n);r&&r(s,t),m=v();let i=h(s,m),a=w.createHref(s);u.replaceState(i,"",a),o&&g&&g({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let s=N(("string"===typeof t?p(t):t).pathname||"/",n);if(null==s)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=O(s);o=L(i[a],e,r)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=j([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))s(e,t,r);else s(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let o=w(r.join("/")),a=[];return a.push(...o.map((e=>""===e?i:[i,e].join("/")))),s&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,E=3,k=2,C=1,S=10,x=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=x),t&&(r+=k),n.filter((e=>!T(e))).reduce(((e,t)=>e+(_.test(t)?E:""===t?C:S)),r)}function L(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:j([i,u.pathname]),pathnameBase:U(j([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=j([i,u.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=A(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=p(e):(s=a({},e),c(!s.pathname||!s.pathname.includes("?"),R("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),R("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),R("#","search","hash",s)));let i,o=""===e||""===s.pathname,l=o?"/":s.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?p(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:z(s)}}(s,i),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const j=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const q=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function Z(){return null!=t.useContext(Q)}function J(){return Z()||c(!1),t.useContext(Q).location}function $(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ce(ae.UseNavigateStable),n=he(le.UseNavigateStable),r=t.useRef(!1);return $((()=>{r.current=!0})),t.useCallback((function(t,s){void 0===s&&(s={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,W({fromRouteId:n},s)))}),[e,n])}():function(){Z()||c(!1);let e=t.useContext(q),{basename:n,future:r,navigator:s}=t.useContext(G),{matches:i}=t.useContext(Y),{pathname:o}=J(),a=JSON.stringify(M(i,r.v7_relativeSplatPath)),l=t.useRef(!1);return $((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void s.go(t);let i=D(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:j([n,i.pathname])),(r.replace?s.replace:s.push)(i,r.state,r)}),[n,s,a,o,e])}()}function te(n,r,s,i){Z()||c(!1);let{navigator:o}=t.useContext(G),{matches:a}=t.useContext(Y),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=J();if(r){var g;let e="string"===typeof r?p(r):r;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),d=e}else d=f;let m=d.pathname||"/",y=m;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let w=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:j([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:j([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,s,i);return r&&w?t.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},w):w}function ne(){let e=function(){var e;let n=t.useContext(X),r=ue(le.UseRouteError),s=he(le.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[s]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const re=t.createElement(ne,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(q);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},s)}function oe(e,n,r,s){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=s)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let a=e,l=null==(i=r)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(r&&s&&s.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,s,i)=>{let o,c=!1,d=null,f=null;var p;r&&(o=l&&s.route.id?l[s.route.id]:void 0,d=s.route.errorElement||re,u&&(h<0&&0===i?(p="route-fallback",!1||de[p]||(de[p]=!0),c=!0,f=null):h===i&&(c=!0,f=s.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,i+1)),m=()=>{let n;return n=o?d:c?f:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(ie,{match:s,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let n=t.useContext(q);return n||c(!1),n}function ue(e){let n=t.useContext(K);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Y);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const de={};const fe={};const pe=(e,t,n)=>{var r;fe[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(fe[r]=!0,console.warn(r))};function ge(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&pe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||pe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&pe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&pe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&pe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&pe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}r.startTransition;function me(e){let{to:n,replace:r,state:s,relative:i}=e;Z()||c(!1);let{future:o,static:a}=t.useContext(G),{matches:l}=t.useContext(Y),{pathname:u}=J(),h=ee(),d=D(n,M(l,o.v7_relativeSplatPath),u,"path"===i),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:r,state:s,relative:i})),[h,f,i,r,s]),null}function ve(e){c(!1)}function ye(n){let{basename:r="/",children:s=null,location:i,navigationType:o=e.Pop,navigator:a,static:l=!1,future:u}=n;Z()&&c(!1);let h=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof i&&(i=p(i));let{pathname:f="/",search:g="",hash:m="",state:v=null,key:y="default"}=i,b=t.useMemo((()=>{let e=N(f,h);return null==e?null:{location:{pathname:e,search:g,hash:m,state:v,key:y},navigationType:o}}),[h,f,g,m,v,y,o]);return null==b?null:t.createElement(G.Provider,{value:d},t.createElement(Q.Provider,{children:s,value:b}))}function be(e){let{children:t,location:n}=e;return te(we(t),n)}new Promise((()=>{}));t.Component;function we(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,s)=>{if(!t.isValidElement(e))return;let i=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,we(e.props.children,i));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,i)),r.push(o)})),r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(hS){}new Map;const _e=r.startTransition;o.flushSync,r.useId;function Ee(e){let{basename:n,children:r,future:s,window:i}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return d("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let l=o.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=s||{},p=t.useCallback((e=>{h&&_e?_e((()=>u(e))):u(e)}),[u,h]);return t.useLayoutEffect((()=>l.listen(p)),[l,p]),t.useEffect((()=>ge(s)),[s]),t.createElement(ye,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ke,Ce;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ce||(Ce={}));const Se=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"===typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!==typeof s||null===s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,i={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,s,i);return i},xe=e=>e;const Te=e=>{const n=(e=>e?Se(e):Se)(e),r=e=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe;const r=t.useSyncExternalStore(e.subscribe,(()=>n(e.getState())),(()=>n(e.getInitialState())));return t.useDebugValue(r),r}(n,e);return Object.assign(r,n),r},Ie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,o=i?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ie(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==o||null==a)throw new Pe;const l=t<<2|i>>4;if(r.push(l),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(e){return function(e){const t=Ie(e);return Le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ne=function(e){try{return Le.decodeString(e,!0)}catch(hS){console.error("base64Decode failed: ",hS)}return null};const Re=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ae=()=>{try{return Re()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API:"AIzaSyDLnwoYRTRKCcPp88lNH2MWyZCPURCzQ8U",REACT_APP_GOOGLE_MAPS_API:"AIzaSyCQ9wOr82fTxxlBg1vBBhhKtPx8wazG5L8"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(hS){return}const t=e&&Ne(e[1]);return t&&JSON.parse(t)})()}catch(hS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(hS))}},Me=e=>{var t,n;return null===(n=null===(t=Ae())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},De=e=>{const t=Me(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},je=()=>{var e;return null===(e=Ae())||void 0===e?void 0:e.config},Ue=e=>{var t;return null===(t=Ae())||void 0===t?void 0:t["_".concat(e)]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ze(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(i)),""].join(".")}function Be(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return!function(){var e;const t=null===(e=Ae())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(hS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"===typeof indexedDB}catch(hS){return!1}}class We extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(Ke,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new We(n,i,t)}}const Ke=/\{\$([^}]+)}/g;function Ge(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(Qe(n)&&Qe(i)){if(!Ge(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qe(e){return null!==e&&"object"===typeof e}function Ye(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Xe(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ze(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Je{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$e),void 0===r.error&&(r.error=$e),void 0===r.complete&&(r.complete=$e);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(hS){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(hS){"undefined"!==typeof console&&console.error&&console.error(hS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function $e(){}function et(e){return e&&e._delegate?e._delegate:e}class tt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nt="[DEFAULT]";class rt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Fe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(hS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(hS){if(r)return null;throw hS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch(hS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(hS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===nt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class st{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const it=[];var ot;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ot||(ot={}));const at={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},lt=ot.INFO,ct={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},ut=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ct[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class ht{constructor(e){this.name=e,this._logLevel=lt,this._logHandler=ut,this._userLogHandler=null,it.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?at[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...t),this._logHandler(this,ot.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...t),this._logHandler(this,ot.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.INFO,...t),this._logHandler(this,ot.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.WARN,...t),this._logHandler(this,ot.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...t),this._logHandler(this,ot.ERROR,...t)}}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ft(e){var t=function(e,t){if("object"!=dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dt(t)?t:t+""}function pt(e,t,n){return(t=ft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let vt,yt;const bt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Et=new WeakMap,kt=new WeakMap;let Ct={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_t.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function St(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yt||(yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(It(this),n),Tt(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(e.apply(It(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(It(this),t,...r);return _t.set(i,t.sort?t.sort():[t]),Tt(i)}}function xt(e){return"function"===typeof e?St(e):(e instanceof IDBTransaction&&function(e){if(wt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));wt.set(e,t)}(e),t=e,(vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Ct):e);var t}function Tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Tt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&bt.set(t,e)})).catch((()=>{})),kt.set(t,e),t}(e);if(Et.has(e))return Et.get(e);const t=xt(e);return t!==e&&(Et.set(e,t),kt.set(t,e)),t}const It=e=>kt.get(e);const Lt=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],Ot=new Map;function Nt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ot.get(t))return Ot.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Lt.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),s&&t.done]))[0]};return Ot.set(t,i),i}Ct=(e=>mt(mt({},e),{},{get:(t,n,r)=>Nt(t,n)||e.get(t,n,r),has:(t,n)=>!!Nt(t,n)||e.has(t,n)}))(Ct);class Rt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const At="@firebase/app",Mt="0.10.17",Dt=new ht("@firebase/app"),jt="@firebase/app-compat",Ut="@firebase/analytics-compat",Ft="@firebase/analytics",zt="@firebase/app-check-compat",Bt="@firebase/app-check",Vt="@firebase/auth",Ht="@firebase/auth-compat",Wt="@firebase/database",qt="@firebase/data-connect",Kt="@firebase/database-compat",Gt="@firebase/functions",Qt="@firebase/functions-compat",Yt="@firebase/installations",Xt="@firebase/installations-compat",Zt="@firebase/messaging",Jt="@firebase/messaging-compat",$t="@firebase/performance",en="@firebase/performance-compat",tn="@firebase/remote-config",nn="@firebase/remote-config-compat",rn="@firebase/storage",sn="@firebase/storage-compat",on="@firebase/firestore",an="@firebase/vertexai",ln="@firebase/firestore-compat",cn="firebase",un="[DEFAULT]",hn={[At]:"fire-core",[jt]:"fire-core-compat",[Ft]:"fire-analytics",[Ut]:"fire-analytics-compat",[Bt]:"fire-app-check",[zt]:"fire-app-check-compat",[Vt]:"fire-auth",[Ht]:"fire-auth-compat",[Wt]:"fire-rtdb",[qt]:"fire-data-connect",[Kt]:"fire-rtdb-compat",[Gt]:"fire-fn",[Qt]:"fire-fn-compat",[Yt]:"fire-iid",[Xt]:"fire-iid-compat",[Zt]:"fire-fcm",[Jt]:"fire-fcm-compat",[$t]:"fire-perf",[en]:"fire-perf-compat",[tn]:"fire-rc",[nn]:"fire-rc-compat",[rn]:"fire-gcs",[sn]:"fire-gcs-compat",[on]:"fire-fst",[ln]:"fire-fst-compat",[an]:"fire-vertex","fire-js":"fire-js",[cn]:"fire-js-all"},dn=new Map,fn=new Map,pn=new Map;function gn(e,t){try{e.container.addComponent(t)}catch(hS){Dt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),hS)}}function mn(e){const t=e.name;if(pn.has(t))return Dt.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);for(const n of dn.values())gn(n,e);for(const n of fn.values())gn(n,e);return!0}function vn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yn(e){return void 0!==e.settings}const bn=new qe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const _n="11.1.0";function En(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:un,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw bn.create("bad-app-name",{appName:String(s)});if(n||(n=je()),!n)throw bn.create("no-options");const i=dn.get(s);if(i){if(Ge(n,i.options)&&Ge(r,i.config))return i;throw bn.create("duplicate-app",{appName:s})}const o=new st(s);for(const l of pn.values())o.addComponent(l);const a=new wn(n,r,o);return dn.set(s,a),a}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un;const t=dn.get(e);if(!t&&e===un&&je())return En();if(!t)throw bn.create("no-app",{appName:e});return t}function Cn(e,t,n){var r;let s=null!==(r=hn[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Dt.warn(e.join(" "))}mn(new tt("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const Sn="firebase-heartbeat-store";let xn=null;function Tn(){return xn||(xn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Tt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Tt(o.result),e.oldVersion,e.newVersion,Tt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Sn)}catch(hS){console.warn(hS)}}}).catch((e=>{throw bn.create("idb-open",{originalErrorMessage:e.message})}))),xn}async function In(e,t){try{const n=(await Tn()).transaction(Sn,"readwrite"),r=n.objectStore(Sn);await r.put(t,Ln(e)),await n.done}catch(hS){if(hS instanceof We)Dt.warn(hS.message);else{const t=bn.create("idb-set",{originalErrorMessage:null===hS||void 0===hS?void 0:hS.message});Dt.warn(t.message)}}}function Ln(e){return"".concat(e.name,"!").concat(e.options.appId)}class Pn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=On();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(hS){Dt.warn(hS)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=On(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Rn(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Oe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(hS){return Dt.warn(hS),""}}}function On(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!He()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Tn()).transaction(Sn),n=await t.objectStore(Sn).get(Ln(e));return await t.done,n}catch(hS){if(hS instanceof We)Dt.warn(hS.message);else{const t=bn.create("idb-get",{originalErrorMessage:null===hS||void 0===hS?void 0:hS.message});Dt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Rn(e){return Oe(JSON.stringify({version:2,heartbeats:e})).length}var An;An="",mn(new tt("platform-logger",(e=>new Rt(e)),"PRIVATE")),mn(new tt("heartbeat",(e=>new Pn(e)),"PRIVATE")),Cn(At,Mt,An),Cn(At,Mt,"esm2017"),Cn("fire-js","");function Mn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Dn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jn=Dn,Un=new qe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fn=new ht("@firebase/auth");function zn(e){if(Fn.logLevel<=ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fn.error("Auth (".concat(_n,"): ").concat(e),...n)}}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qn(e,...n)}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qn(e,...n)}function Hn(e,t,n){const r=Object.assign(Object.assign({},jn()),{[t]:n});return new qe("auth","Firebase",r).create(t,{appName:e.name})}function Wn(e){return Hn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Un.create(e,...n)}function Kn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw qn(t,...r)}}function Gn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zn(t),new Error(t)}function Qn(e,t){e||Gn(t)}function Yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xn(){return"http:"===Zn()||"https:"===Zn()}function Zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Jn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class $n{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Jn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function er(e,t){Qn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class tr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rr=new $n(3e4,6e4);function sr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ir(e,t,n,r){return or(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const o=Ye(Object.assign({key:e.config.apiKey},i)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),tr.fetch()(lr(e,e.config.apiHost,n,o),l)}))}async function or(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nr),t);try{const t=new ur(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw hr(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw hr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw hr(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Hn(e,a,o);Bn(e,a)}}catch(hS){if(hS instanceof We)throw hS;Bn(e,"network-request-failed",{message:String(hS)})}}async function ar(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await ir(e,t,n,r,s);return"mfaPendingCredential"in i&&Bn(e,"multi-factor-auth-required",{_serverResponse:i}),i}function lr(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r);return e.config.emulator?er(e.config,s):"".concat(e.config.apiScheme,"://").concat(s)}function cr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ur{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Vn(this.auth,"network-request-failed"))),rr.get())}))}}function hr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vn(e,t,r);return s.customData._tokenResponse=n,s}function dr(e){return void 0!==e&&void 0!==e.enterprise}class fr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pr(e,t){return ir(e,"GET","/v2/recaptchaConfig",sr(e,t))}async function gr(e,t){return ir(e,"POST","/v1/accounts:lookup",t)}function mr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(hS){}}function vr(e){return 1e3*Number(e)}function yr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ne(n);return e?JSON.parse(e):(zn("Failed to decode base64 JWT payload"),null)}catch(hS){return zn("Caught error parsing JWT payload as JSON",null===hS||void 0===hS?void 0:hS.toString()),null}}function br(e){const t=yr(e);return Kn(t,"internal-error"),Kn("undefined"!==typeof t.exp,"internal-error"),Kn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function wr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(hS){throw hS instanceof We&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(hS)&&e.auth.currentUser===e&&await e.auth.signOut(),hS}}class _r{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(hS){return void((null===hS||void 0===hS?void 0:hS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Er{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kr(e){var t;const n=e.auth,r=await e.getIdToken(),s=await wr(e,gr(n,{idToken:r}));Kn(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Cr(i.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Er(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function Cr(e){return e.map((e=>{var{providerId:t}=e,n=Mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kn(e.idToken,"internal-error"),Kn("undefined"!==typeof e.idToken,"internal-error"),Kn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):br(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Kn(0!==e.length,"internal-error");const t=br(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Kn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await or(e,{},(async()=>{const n=Ye({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=lr(e,r,"/v1/token","key=".concat(s)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",tr.fetch()(i,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Sr;return n&&(Kn("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Kn("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Kn("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sr,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function xr(e,t){Kn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Tr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Er(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wr(this,this.stsTokenManager.getToken(this.auth,e));return Kn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=et(e),r=await n.getIdToken(t),s=yr(r);Kn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,o=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:mr(vr(s.auth_time)),issuedAtTime:mr(vr(s.iat)),expirationTime:mr(vr(s.exp)),signInProvider:o||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=et(e);await kr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Kn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Kn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await kr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Wn(this.auth));const e=await this.getIdToken();return await wr(this,async function(e,t){return ir(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Kn(y&&E,e,"internal-error");const k=Sr.fromJSON(this.name,E);Kn("string"===typeof y,e,"internal-error"),xr(u,e.name),xr(h,e.name),Kn("boolean"===typeof b,e,"internal-error"),Kn("boolean"===typeof w,e,"internal-error"),xr(d,e.name),xr(f,e.name),xr(p,e.name),xr(g,e.name),xr(m,e.name),xr(v,e.name);const C=new Tr({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(C.providerData=_.map((e=>Object.assign({},e)))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Sr;r.updateFromServerResponse(t);const s=new Tr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await kr(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Kn(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Cr(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),o=new Sr;o.updateFromIdToken(n);const a=new Tr({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Er(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(a,l),a}}const Ir=new Map;function Lr(e){Qn(e instanceof Function,"Expected a class definition");let t=Ir.get(e);return t?(Qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ir.set(e,t),t)}class Pr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pr.type="NONE";const Or=Pr;function Nr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Rr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Nr(this.userKey,r.apiKey,s),this.fullPersistenceKey=Nr("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Rr(Lr(Or),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||Lr(Or);const i=Nr(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(i);if(t){const n=Tr._fromJSON(e,t);c!==s&&(o=n),s=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&a.length?(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(i)}catch(l){}}))),new Rr(s,e,n)):new Rr(s,e,n)}}function Ar(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ur(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zr(t))return"Blackberry";if(Br(t))return"Webos";if(Dr(t))return"Safari";if((t.includes("chrome/")||jr(t))&&!t.includes("edge/"))return"Chrome";if(Fr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/firefox\//i.test(e)}function Dr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/crios\//i.test(e)}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iemobile/i.test(e)}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/android/i.test(e)}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/blackberry/i.test(e)}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/webos/i.test(e)}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hr(){return function(){const e=Be();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return Vr(e)||Fr(e)||Br(e)||zr(e)||/windows phone/i.test(e)||Ur(e)}function qr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ar(Be());break;case"Worker":t="".concat(Ar(Be()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_n,"/").concat(r)}class Kr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(hS){r(hS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(hS){t.reverse();for(const n of t)try{n()}catch(uv){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===hS||void 0===hS?void 0:hS.message})}}}class Gr{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsUppercaseLetter)||void 0===s||s),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Qr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xr(this),this.idTokenSubscription=new Xr(this),this.beforeStateQueue=new Kr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Un,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Lr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Rr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(hS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await gr(this,{idToken:e}),n=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==i||!(null===o||void 0===o?void 0:o.user)||(r=o.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(hS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(hS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Kn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(hS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kr(e)}catch(hS){if((null===hS||void 0===hS?void 0:hS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Wn(this));const t=e?et(e):null;return t&&Kn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Kn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return yn(this.app)?Promise.reject(Wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Wn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Lr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ir(e,"GET","/v2/passwordPolicy",sr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Gr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ir(e,"POST","/v2/accounts:revokeToken",sr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Lr(e)||this._popupRedirectResolver;Kn(t,this,"argument-error"),this.redirectPersistenceManager=await Rr.create(this,[Lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kn(o,this,"internal-error"),o.then((()=>{i||s(this.currentUser)})),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Fn.logLevel<=ot.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fn.warn("Auth (".concat(_n,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Yr(e){return et(e)}class Xr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Je(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Kn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jr(e){return Zr.loadJS(e)}function $r(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class es{constructor(){this.enterprise=new ts}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ts{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ns="NO_RECAPTCHA";class rs{constructor(e){this.type="recaptcha-enterprise",this.auth=Yr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;dr(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ns)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new es).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{pr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new fr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&dr(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Zr.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Jr(t).then((()=>{n(s,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new rs(e);let o;if(s)o=ns;else try{o=await i.verify(n)}catch(l){o=await i.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function is(e,t,n,r,s){var i,o;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ss(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch((async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await ss(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)}))}if("PHONE_PROVIDER"===s){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const s=await ss(e,t,n);return r(e,s).catch((async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await ss(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)}))}{const s=await ss(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function os(e){const t=Yr(e),n=await pr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new rs(t).verify()}}function as(e,t,n){const r=Yr(e);Kn(r._canInitEmulator,r,"emulator-config-failed"),Kn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=ls(t),{host:o,port:a}=function(e){const t=ls(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:cs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:cs(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(i,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ls(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class us{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,t){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function hs(e,t){return ir(e,"POST","/v1/accounts:signUp",t)}async function ds(e,t){return ar(e,"POST","/v1/accounts:signInWithPassword",sr(e,t))}class fs extends us{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new fs(e,t,"password")}static _fromEmailAndCode(e,t){return new fs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return is(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ds,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ar(e,"POST","/v1/accounts:signInWithEmailLink",sr(e,t))}(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return is(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return ar(e,"POST","/v1/accounts:signInWithEmailLink",sr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ps(e,t){return ar(e,"POST","/v1/accounts:signInWithIdp",sr(e,t))}class gs extends us{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Mn(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new gs(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return ps(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ps(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ps(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ye(t)}return e}}async function ms(e,t){return ir(e,"POST","/v1/accounts:sendVerificationCode",sr(e,t))}const vs={USER_NOT_FOUND:"user-not-found"};class ys extends us{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ys({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ys({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ar(e,"POST","/v1/accounts:signInWithPhoneNumber",sr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ar(e,"POST","/v1/accounts:signInWithPhoneNumber",sr(e,t));if(n.temporaryProof)throw hr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ar(e,"POST","/v1/accounts:signInWithPhoneNumber",sr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),vs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new ys({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class bs{constructor(e){var t,n,r,s,i,o;const a=Xe(Ze(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Kn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=a.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=a.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Xe(Ze(e)).link,n=t?Xe(Ze(t)).deep_link_id:null,r=Xe(Ze(e)).deep_link_id;return(r?Xe(Ze(r)).link:null)||r||n||t||e}(e);try{return new bs(t)}catch(n){return null}}}class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(e,t){return fs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bs.parseLink(t);return Kn(n,"argument-error"),fs._fromEmailAndCode(e,n.code,n.tenantId)}}ws.PROVIDER_ID="password",ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Es extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends Es{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch(n){return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com",ks.PROVIDER_ID="facebook.com";class Cs extends Es{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gs._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch(s){return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com",Cs.PROVIDER_ID="google.com";class Ss extends Es{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ss.credential(t.oauthAccessToken)}catch(n){return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com",Ss.PROVIDER_ID="github.com";class xs extends Es{constructor(){super("twitter.com")}static credential(e,t){return gs._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return xs.credential(n,r)}catch(s){return null}}}async function Ts(e,t){return ar(e,"POST","/v1/accounts:signUp",sr(e,t))}xs.TWITTER_SIGN_IN_METHOD="twitter.com",xs.PROVIDER_ID="twitter.com";class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Tr._fromIdTokenResponse(e,n,r),i=Ls(n);return new Is({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ls(n);return new Is({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ls(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ps extends We{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ps.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ps(e,t,n,r)}}function Os(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ps._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await wr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Is._forOperation(e,"link",r)}async function Rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(yn(r.app))return Promise.reject(Wn(r));const s="reauthenticate";try{const i=await wr(e,Os(r,s,t,e),n);Kn(i.idToken,r,"internal-error");const o=yr(i.idToken);Kn(o,r,"internal-error");const{sub:a}=o;return Kn(e.uid===a,r,"user-mismatch"),Is._forOperation(e,s,i)}catch(hS){throw(null===hS||void 0===hS?void 0:hS.code)==="auth/".concat("user-not-found")&&Bn(r,"user-mismatch"),hS}}async function As(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yn(e.app))return Promise.reject(Wn(e));const r="signIn",s=await Os(e,r,t),i=await Is._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function Ms(e,t){return As(Yr(e),t)}async function Ds(e){const t=Yr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function js(e){return et(e).signOut()}function Us(e,t){return ir(e,"POST","/v2/accounts/mfaEnrollment:start",sr(e,t))}new WeakMap;const Fs="__sak";class zs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Bs extends zs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Hr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bs.type="LOCAL";const Vs=Bs;class Hs extends zs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hs.type="SESSION";const Ws=Hs;class qs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new qs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map((async e=>e(t.origin,s))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qs.receivers=[];class Gs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise(((o,a)=>{const l=Ks("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Qs(){return window}function Ys(){return"undefined"!==typeof Qs().WorkerGlobalScope&&"function"===typeof Qs().importScripts}const Xs="firebaseLocalStorageDb",Zs="firebaseLocalStorage",Js="fbase_key";class $s{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ei(e,t){return e.transaction([Zs],t?"readwrite":"readonly").objectStore(Zs)}function ti(){const e=indexedDB.open(Xs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Zs,{keyPath:Js})}catch(hS){n(hS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Zs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Xs);return new $s(e).toPromise()}(),t(await ti()))}))}))}async function ni(e,t,n){const r=ei(e,!0).put({[Js]:t,value:n});return new $s(r).toPromise()}function ri(e,t){const n=ei(e,!0).delete(t);return new $s(n).toPromise()}class si{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ti()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(hS){if(t++>3)throw hS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ys()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qs._getInstance(Ys()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Gs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ti();return await ni(e,Fs,"1"),await ri(e,Fs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ni(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ei(e,!1).get(t),r=await new $s(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ri(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ei(e,!1).getAll();return new $s(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}si.type="LOCAL";const ii=si;function oi(e,t){return ir(e,"POST","/v2/accounts/mfaSignIn:start",sr(e,t))}$r("rcb"),new $n(3e4,6e4);const ai="recaptcha";async function li(e,t,n){var r;if(!e._getRecaptchaConfig())try{await os(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Kn("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=is(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ns){Kn((null===n||void 0===n?void 0:n.type)===ai,e,"argument-error");return Us(e,await ci(e,t,n))}return Us(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Kn("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Kn(i,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=is(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ns){Kn((null===n||void 0===n?void 0:n.type)===ai,e,"argument-error");return oi(e,await ci(e,t,n))}return oi(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=is(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ns){Kn((null===n||void 0===n?void 0:n.type)===ai,e,"argument-error");return ms(e,await ci(e,t,n))}return ms(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ci(e,t,n){Kn(n.type===ai,e,"argument-error");const r=await n.verify();Kn("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class ui{constructor(e){this.providerId=ui.PROVIDER_ID,this.auth=Yr(e)}verifyPhoneNumber(e,t){return li(this.auth,e,et(t))}static credential(e,t){return ys._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ui.credentialFromTaggedObject(t)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ys._fromTokenResponse(n,r):null}}function hi(e,t){return t?Lr(t):(Kn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ui.PROVIDER_ID="phone",ui.PHONE_SIGN_IN_METHOD="phone";class di extends us{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ps(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fi(e){return As(e.auth,new di(e),e.bypassAuthState)}function pi(e){const{auth:t,user:n}=e;return Kn(n,t,"internal-error"),Rs(n,new di(e),e.bypassAuthState)}async function gi(e){const{auth:t,user:n}=e;return Kn(n,t,"internal-error"),Ns(n,new di(e),e.bypassAuthState)}class mi{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(hS){this.reject(hS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(hS){this.reject(hS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fi;case"linkViaPopup":case"linkViaRedirect":return gi;case"reauthViaPopup":case"reauthViaRedirect":return pi;default:Bn(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vi=new $n(2e3,1e4);class yi extends mi{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,yi.currentPopupAction&&yi.currentPopupAction.cancel(),yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kn(e,this.auth,"internal-error"),e}async onExecution(){Qn(1===this.filter.length,"Popup operations only handle one event");const e=Ks();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Vn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,vi.get())};e()}}yi.currentPopupAction=null;const bi=new Map;class wi extends mi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=bi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ki(t),r=Ei(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(hS){e=()=>Promise.reject(hS)}bi.set(this.auth._key(),e)}return this.bypassAuthState||bi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _i(e,t){bi.set(e._key(),t)}function Ei(e){return Lr(e._redirectPersistence)}function ki(e){return Nr("pendingRedirect",e.config.apiKey,e.name)}async function Ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yn(e.app))return Promise.reject(Wn(e));const r=Yr(e),s=hi(r,t),i=new wi(r,s,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Si{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ti(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ti(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xi(e))}saveEventToCache(e){this.cachedEventUids.add(xi(e)),this.lastProcessedEventTime=Date.now()}}function xi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ti(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ii=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Li=/^https?/;async function Pi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ir(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Oi(r))return}catch(n){}Bn(e,"unauthorized-domain")}function Oi(e){const t=Yn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Li.test(n))return!1;if(Ii.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Ni=new $n(3e4,6e4);function Ri(){const e=Qs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ai(e){return new Promise(((t,n)=>{var r,s,i;function o(){Ri(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ri(),n(Vn(e,"network-request-failed"))},timeout:Ni.get()})}if(null===(s=null===(r=Qs().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Qs().gapi)||void 0===i?void 0:i.load)){const t=$r("iframefcb");return Qs()[t]=()=>{gapi.load?o():n(Vn(e,"network-request-failed"))},Jr("".concat(Zr.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Mi=null,e}))}let Mi=null;const Di=new $n(5e3,15e3),ji={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ui=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fi(e){const t=e.config;Kn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?er(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_n},s=Ui.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Ye(r).slice(1))}async function zi(e){const t=await function(e){return Mi=Mi||Ai(e),Mi}(e),n=Qs().gapi;return Kn(n,e,"internal-error"),t.open({where:document.body,url:Fi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ji,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Vn(e,"network-request-failed"),i=Qs().setTimeout((()=>{r(s)}),Di.get());function o(){Qs().clearTimeout(i),n(t)}t.ping(o).then(o,(()=>{r(s)}))}))))}const Bi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(hS){}}}function Hi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Bi),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Be().toLowerCase();n&&(a=jr(c)?"_blank":n),Mr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Vr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Vi(null);const h=window.open(t||"",a,u);Kn(h,e,"popup-blocked");try{h.focus()}catch(hS){}return new Vi(h)}const Wi="__/auth/handler",qi="emulator/auth/handler",Ki=encodeURIComponent("fac");async function Gi(e,t,n,r,s,i){Kn(e.config.authDomain,e,"auth-domain-config-required"),Kn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_n,eventId:s};if(t instanceof _s){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))o[e]=t}if(t instanceof Es){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ki,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wi);return er(t,qi)}(e),"?").concat(Ye(a).slice(1)).concat(c)}const Qi="webStorageSupport";const Yi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=Ci,this._overrideRedirectResult=_i}async _openPopup(e,t,n,r){var s;Qn(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Hi(e,await Gi(e,t,n,Yn(),r),Ks())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Qs().location.href=e}(await Gi(e,t,n,Yn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Qn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await zi(e),n=new Si(e);return t.register("authEvent",(t=>{Kn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qi,{type:Qi},(n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Qi];void 0!==s&&t(!!s),Bn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wr()||Dr()||Vr()}};var Xi="@firebase/auth",Zi="1.8.1";class Ji{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $i=Ue("authIdTokenMaxAge")||300;let eo=null;function to(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();const t=vn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=vn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ge(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Bn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Yi,persistence:[ii,Vs,Ws]}),r=Ue("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>$i)return;const r=null===t||void 0===t?void 0:t.token;eo!==r&&(eo=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){et(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){et(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var s;const i=Me("auth");return i&&as(n,"http://".concat(i)),n}var no;!function(e){Zr=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),no="Browser",mn(new tt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Kn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:no,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(no)},c=new Qr(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),mn(new tt("auth-internal",(e=>(e=>new Ji(e))(Yr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(Xi,Zi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(no)),Cn(Xi,Zi,"esm2017");Cn("firebase","11.1.0","app");var ro,so,io="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},oo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;o=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=i+((o=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(s[i++]=e.charCodeAt(o++),i==this.blockSize){n(this,s),i=0;break}}else for(;o<t;)if(s[i++]=e[o++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=f(e,s.j(t)),new g(s,t)}for(s=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=o(n)).j(t);h(c)||0<c.l(e);)c=(i=o(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new g(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],o=0;o<s;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var s=m(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var o=s+(65535&this.i(i))+(65535&e.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),g=e.i(i)>>>16,m=65535&e.i(i);n[2*s+2*i]+=f*m,p(n,2*s+2*i),n[2*s+2*i+1]+=l*m,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*g,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*g,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,so=oo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),s=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=o(Math.pow(n,l)),s=s.j(l).add(o(c))):s=(s=s.j(r)).add(o(c))}return s},ro=oo.Integer=r}).apply("undefined"!==typeof io?io:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ao,lo,co,uo,ho,fo,po,go,mo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mo&&mo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in s))break e;s=s[o]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){s.setTimeout((()=>{throw e}),0)}function C(){var e=L;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new x),(e=>e.reset()));class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,L=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=s.Promise.resolve(void 0);T=()=>{e.then(O)}};var O=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(Zm){k(Zm)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function N(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(Zm){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,R);var D={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++U,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}B.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=H(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,s){if(r&&r.once)return Q(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[j]?e.K(t,n,o(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,l=$(e);if(l||(e[W]=l=new B(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);return null}return n=te(n),e&&e[j]?e.L(t,n,o(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function Y(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,s);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,s))&&(z(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,s)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(V(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function Z(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function $(e){return(e=e[W])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;_(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=se(o,r,!0,t)&&s}if(s=se(o=t.g=e,r,!0,t)&&s,s=se(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(o=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),s=!1!==a.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function oe(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,N),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}h(le,N);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=s.JSON.stringify,de=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}h(ye,R),h(be,R);var we={},_e=null;function Ee(){return _e=_e||new ne}function ke(e){R.call(this,we.La,e)}function Ce(e){const t=Ee();re(t,new ke(t))}function Se(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function xe(e){const t=Ee();re(t,new Se(t,e))}function Te(e,t){R.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Le(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return he(n)}catch(tv){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(ke,R),we.STAT_EVENT="statevent",h(Se,R),we.Ma="timingevent",h(Te,R),Le.prototype.xa=function(){this.g=!1},Le.prototype.info=function(){};var Oe,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ae(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}h(Ae,pe),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},Oe=new Ae;var je={},Ue={};function Fe(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var o=K(n,s[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function qe(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Xt(n)}rn(n),xe(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),He(a)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ce()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ce(),qe(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Kt(this.g);e="";var i=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,xe(12),Ge(this),Ke(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Ue){4==d&&(this.s=4,xe(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,xe(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,xe(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Pe(this.i,this.l,a,null),Qe(this,a);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ge(this),Ke(this)}}}catch(yo){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ce(),xe(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,o=0;o<s;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new it(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){Et(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return Et(e),t=xt(e,t),e.g.has(t)}function St(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function It(){this.g=new fe}function Lt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;o(e)&&(s=he(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(hS){throw t.push(r+"type="+encodeURIComponent("_badmap")),hS}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,Ct(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var s=i;""!==o[r]&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new Ot(this.l,this.j)},Pt.prototype.i=(gt={},function(){return gt}),h(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):At(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(jt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var o=String(e.D).match(st)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),i=!Ut.test(o?o.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(tv){a=""}e.l=a+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Wt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(hS){}}}function Wt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_o){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Le,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Zt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(Jm){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Zt(e){Xt(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),I||(T(),I=!0),L.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=s[o].g;const a=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),i=!1;else try{Lt(a,e,"req"+n+"_")}catch(yo){r&&r(a)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),I||(T(),I=!0),L.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=Ee(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Le;if(s.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Le;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),hn(e),Zt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof it?ot(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new it(null);r&&at(o,r),t&&(o.g=t),i&&lt(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Pt({eb:n})):new jt(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?ge(this.o):ge(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Me(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),_(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Mt(i)))+"&"+t:this.m&&Dt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Fe(s,n,null)):Fe(s,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Ze(this.h)||$t(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Xt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,go=vo.createWebChannelTransport=function(){return new gn},po=vo.getStatEventTarget=function(){return Ee()},fo=vo.Event=we,ho=vo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,uo=vo.ErrorCode=Ne,Re.COMPLETE="complete",co=vo.EventType=Re,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,lo=vo.WebChannel=me,vo.FetchXmlHttpFactory=Pt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,ao=vo.XhrIo=jt}).apply("undefined"!==typeof mo?mo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const yo="@firebase/firestore";class bo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bo.UNAUTHENTICATED=new bo(null),bo.GOOGLE_CREDENTIALS=new bo("google-credentials-uid"),bo.FIRST_PARTY=new bo("first-party-uid"),bo.MOCK_USER=new bo("mock-user");let wo="11.0.2";const _o=new ht("@firebase/firestore");function Eo(){return _o.logLevel}function ko(e){if(_o.logLevel<=ot.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(xo);_o.debug("Firestore (".concat(wo,"): ").concat(e),...s)}}function Co(e){if(_o.logLevel<=ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(xo);_o.error("Firestore (".concat(wo,"): ").concat(e),...s)}}function So(e){if(_o.logLevel<=ot.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(xo);_o.warn("Firestore (".concat(wo,"): ").concat(e),...s)}}function xo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(ty){return e}}function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wo,") INTERNAL ASSERTION FAILED: ")+e;throw Co(t),new Error(t)}function Io(e,t){e||To()}function Lo(e,t){return e}const Po={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oo extends We{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class No{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ro{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ao{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bo.UNAUTHENTICATED)))}shutdown(){}}class Mo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Do{constructor(e){this.t=e,this.currentUser=bo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Io(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new No;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new No,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ko("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ko("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new No)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ko("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Io("string"==typeof t.accessToken),new Ro(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Io(null===e||"string"==typeof e),new bo(e)}}class jo{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=bo.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Uo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new jo(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(bo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zo{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Io(void 0===this.o);const n=e=>{null!=e.error&&ko("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ko("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ko("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ko("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Io("string"==typeof e.token),this.R=e.token,new Fo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Bo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Vo{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Bo(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function Ho(e,t){return e<t?-1:e>t?1:0}function Wo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class qo{static now(){return qo.fromMillis(Date.now())}static fromDate(e){return qo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new qo(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oo(Po.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oo(Po.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oo(Po.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oo(Po.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ho(this.nanoseconds,e.nanoseconds):Ho(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ko{static fromTimestamp(e){return new Ko(e)}static min(){return new Ko(new qo(0,0))}static max(){return new Ko(new qo(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Go{constructor(e,t,n){void 0===t?t=0:t>e.length&&To(),void 0===n?n=e.length-t:n>e.length-t&&To(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Go.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qo extends Go{construct(e,t,n){return new Qo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Oo(Po.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter((e=>e.length>0)))}return new Qo(e)}static emptyPath(){return new Qo([])}}const Yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xo extends Go{construct(e,t,n){return new Xo(e,t,n)}static isValidIdentifier(e){return Yo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xo(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Oo(Po.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Oo(Po.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Oo(Po.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Oo(Po.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xo(t)}static emptyPath(){return new Xo([])}}class Zo{constructor(e){this.path=e}static fromPath(e){return new Zo(Qo.fromString(e))}static fromName(e){return new Zo(Qo.fromString(e).popFirst(5))}static empty(){return new Zo(Qo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zo(new Qo(e.slice()))}}class Jo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Jo.UNKNOWN_ID=-1;function $o(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ko.fromTimestamp(1e9===r?new qo(n+1,0):new qo(n,r));return new ta(s,Zo.empty(),t)}function ea(e){return new ta(e.readTime,e.key,-1)}class ta{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ta(Ko.min(),Zo.empty(),-1)}static max(){return new ta(Ko.max(),Zo.empty(),-1)}}function na(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zo.comparator(e.documentKey,t.documentKey),0!==n?n:Ho(e.largestBatchId,t.largestBatchId))}const ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ia(e){if(e.code!==Po.FAILED_PRECONDITION||e.message!==ra)throw e;ko("LocalStore","Unexpectedly lost primary lease")}class oa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&To(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oa?t:oa.resolve(t)}catch(e){return oa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oa.reject(t)}static resolve(e){return new oa(((t,n)=>{t(e)}))}static reject(e){return new oa(((t,n)=>{n(e)}))}static waitFor(e){return new oa(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=oa.resolve(!1);for(const n of e)t=t.next((e=>e?oa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new oa(((n,r)=>{const s=e.length,i=new Array(s);let o=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next((e=>{i[l]=e,++o,o===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new oa(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function aa(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function la(e){return"IndexedDbTransactionError"===e.name}class ca{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ua(e){return null==e}function ha(e){return 0===e&&1/e==-1/0}function da(e){return"number"==typeof e&&Number.isInteger(e)&&!ha(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function fa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ga(t)),t=pa(e.get(n),t);return ga(t)}function pa(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function ga(e){return e+"\x01\x01"}ca.oe=-1;const ma=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],va=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ya=va,ba=[...ya,"indexConfiguration","indexState","indexEntries"];function wa(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _a(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ea(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ka{constructor(e,t){this.comparator=e,this.root=t||Sa.EMPTY}insert(e,t){return new ka(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sa.BLACK,null,null))}remove(e){return new ka(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ca(this.root,e,this.comparator,!0)}}class Ca{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sa{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Sa.RED,this.left=null!=r?r:Sa.EMPTY,this.right=null!=s?s:Sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Sa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw To();if(this.right.isRed())throw To();const e=this.left.check();if(e!==this.right.check())throw To();return e+(this.isRed()?0:1)}}Sa.EMPTY=null,Sa.RED=!0,Sa.BLACK=!1,Sa.EMPTY=new class{constructor(){this.size=0}get key(){throw To()}get value(){throw To()}get color(){throw To()}get left(){throw To()}get right(){throw To()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Sa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xa{constructor(e){this.comparator=e,this.data=new ka(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ta(this.data.getIterator())}getIteratorFrom(e){return new Ta(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof xa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xa(this.comparator);return t.data=e,t}}class Ta{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ia{constructor(e){this.fields=e,e.sort(Xo.comparator)}static empty(){return new Ia([])}unionWith(e){let t=new xa(Xo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ia(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class La extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new La("Invalid base64 string: "+e):e}}(e);return new Pa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Pa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ho(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pa.EMPTY_BYTE_STRING=new Pa("");const Oa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(e){if(Io(!!e),"string"==typeof e){let t=0;const n=Oa.exec(e);if(Io(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ra(e.seconds),nanos:Ra(e.nanos)}}function Ra(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Aa(e){return"string"==typeof e?Pa.fromBase64String(e):Pa.fromUint8Array(e)}function Ma(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Da(e){const t=e.mapValue.fields.__previous_value__;return Ma(t)?Da(t):t}function ja(e){const t=Na(e.mapValue.fields.__local_write_time__.timestampValue);return new qo(t.seconds,t.nanos)}class Ua{constructor(e,t,n,r,s,i,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}const za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ba(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ma(e)?4:sl(e)?9007199254740991:nl(e)?10:11:To()}function Va(e,t){if(e===t)return!0;const n=Ba(e);if(n!==Ba(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ja(e).isEqual(ja(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Na(e.timestampValue),r=Na(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Aa(e.bytesValue).isEqual(Aa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ra(e.geoPointValue.latitude)===Ra(t.geoPointValue.latitude)&&Ra(e.geoPointValue.longitude)===Ra(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ra(e.integerValue)===Ra(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ra(e.doubleValue),r=Ra(t.doubleValue);return n===r?ha(n)===ha(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wo(e.arrayValue.values||[],t.arrayValue.values||[],Va);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wa(n)!==wa(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Va(n[s],r[s])))return!1;return!0}(e,t);default:return To()}}function Ha(e,t){return void 0!==(e.values||[]).find((e=>Va(e,t)))}function Wa(e,t){if(e===t)return 0;const n=Ba(e),r=Ba(t);if(n!==r)return Ho(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ho(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ra(e.integerValue||e.doubleValue),r=Ra(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qa(e.timestampValue,t.timestampValue);case 4:return qa(ja(e),ja(t));case 5:return Ho(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Aa(e),r=Aa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Ho(n[s],r[s]);if(0!==e)return e}return Ho(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ho(Ra(e.latitude),Ra(t.latitude));return 0!==n?n:Ho(Ra(e.longitude),Ra(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ka(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=Ho((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ka(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===za.mapValue&&t===za.mapValue)return 0;if(e===za.mapValue)return 1;if(t===za.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=Ho(r[o],i[o]);if(0!==e)return e;const t=Wa(n[r[o]],s[i[o]]);if(0!==t)return t}return Ho(r.length,i.length)}(e.mapValue,t.mapValue);default:throw To()}}function qa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ho(e,t);const n=Na(e),r=Na(t),s=Ho(n.seconds,r.seconds);return 0!==s?s:Ho(n.nanos,r.nanos)}function Ka(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Wa(n[s],r[s]);if(e)return e}return Ho(n.length,r.length)}function Ga(e){return Qa(e)}function Qa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Na(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Aa(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qa(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Qa(e.fields[s]));return n+"}"}(e.mapValue):To()}function Ya(e){switch(Ba(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Da(e);return t?16+Ya(t):16;case 5:return 2*e.stringValue.length;case 6:return Aa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ya(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return _a(e.fields,((e,n)=>{t+=e.length+Ya(n)})),t}(e.mapValue);default:throw To()}}function Xa(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Za(e){return!!e&&"integerValue"in e}function Ja(e){return!!e&&"arrayValue"in e}function $a(e){return!!e&&"nullValue"in e}function el(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tl(e){return!!e&&"mapValue"in e}function nl(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _a(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=rl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=rl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class il{constructor(e){this.value=e}static empty(){return new il({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!tl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(t)}setAll(e){let t=Xo.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=rl(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());tl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];tl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_a(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new il(rl(this.value))}}function ol(e){const t=[];return _a(e.fields,((e,n)=>{const r=new Xo([e]);if(tl(n)){const e=ol(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ia(t)}class al{constructor(e,t,n,r,s,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(e){return new al(e,0,Ko.min(),Ko.min(),Ko.min(),il.empty(),0)}static newFoundDocument(e,t,n,r){return new al(e,1,t,Ko.min(),n,r,0)}static newNoDocument(e,t){return new al(e,2,t,Ko.min(),Ko.min(),il.empty(),0)}static newUnknownDocument(e,t){return new al(e,3,t,Ko.min(),Ko.min(),il.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ko.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=il.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=il.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ko.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof al&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new al(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ll{constructor(e,t){this.position=e,this.inclusive=t}}function cl(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?Zo.comparator(Zo.fromName(o.referenceValue),n.key):Wa(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function ul(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Va(e.position[n],t.position[n]))return!1;return!0}class hl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function dl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fl{}class pl extends fl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new El(e,t,n):"array-contains"===t?new xl(e,n):"in"===t?new Tl(e,n):"not-in"===t?new Il(e,n):"array-contains-any"===t?new Ll(e,n):new pl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kl(e,n):new Cl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wa(t,this.value)):null!==t&&Ba(this.value)===Ba(t)&&this.matchesComparison(Wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return To()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gl extends fl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new gl(e,t)}matches(e){return ml(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ml(e){return"and"===e.op}function vl(e){return yl(e)&&ml(e)}function yl(e){for(const t of e.filters)if(t instanceof gl)return!1;return!0}function bl(e){if(e instanceof pl)return e.field.canonicalString()+e.op.toString()+Ga(e.value);if(vl(e))return e.filters.map((e=>bl(e))).join(",");{const t=e.filters.map((e=>bl(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function wl(e,t){return e instanceof pl?function(e,t){return t instanceof pl&&e.op===t.op&&e.field.isEqual(t.field)&&Va(e.value,t.value)}(e,t):e instanceof gl?function(e,t){return t instanceof gl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wl(n,t.filters[r])),!0)}(e,t):void To()}function _l(e){return e instanceof pl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ga(e.value))}(e):e instanceof gl?function(e){return e.op.toString()+" {"+e.getFilters().map(_l).join(" ,")+"}"}(e):"Filter"}class El extends pl{constructor(e,t,n){super(e,t,n),this.key=Zo.fromName(n.referenceValue)}matches(e){const t=Zo.comparator(e.key,this.key);return this.matchesComparison(t)}}class kl extends pl{constructor(e,t){super(e,"in",t),this.keys=Sl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Cl extends pl{constructor(e,t){super(e,"not-in",t),this.keys=Sl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Sl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zo.fromName(e.referenceValue)))}class xl extends pl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ja(t)&&Ha(t.arrayValue,this.value)}}class Tl extends pl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ha(this.value.arrayValue,t)}}class Il extends pl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ha(this.value.arrayValue,t)}}class Ll extends pl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ja(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ha(this.value.arrayValue,e)))}}class Pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.ue=null}}function Ol(e){return new Pl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Nl(e){const t=Lo(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ua(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ga(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ga(e))).join(",")),t.ue=e}return t.ue}function Rl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ul(e.startAt,t.startAt)&&ul(e.endAt,t.endAt)}function Al(e){return Zo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ml{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dl(e,t,n,r,s,i,o,a){return new Ml(e,t,n,r,s,i,o,a)}function jl(e){return new Ml(e)}function Ul(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fl(e){return null!==e.collectionGroup}function zl(e){const t=Lo(e);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xa(Xo.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new hl(r,n))})),e.has(Xo.keyField().canonicalString())||t.ce.push(new hl(Xo.keyField(),n))}return t.ce}function Bl(e){const t=Lo(e);return t.le||(t.le=Vl(t,zl(e))),t.le}function Vl(e,t){if("F"===e.limitType)return Ol(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new hl(e.field,t)}));const n=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;return Ol(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hl(e,t){const n=e.filters.concat([t]);return new Ml(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wl(e,t,n){return new Ml(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ql(e,t){return Rl(Bl(e),Bl(t))&&e.limitType===t.limitType}function Kl(e){return"".concat(Nl(Bl(e)),"|lt:").concat(e.limitType)}function Gl(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>_l(e))).join(", "),"]")),ua(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ga(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ga(e))).join(",")),"Target(".concat(t,")")}(Bl(e)),"; limitType=").concat(e.limitType,")")}function Ql(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zl(e),t))&&!(e.endAt&&!function(e,t,n){const r=cl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zl(e),t))}(e,t)}function Yl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xl(e){return(t,n)=>{let r=!1;for(const s of zl(e)){const e=Zl(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Zl(e,t,n){const r=e.field.isKeyField()?Zo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Wa(r,s):To()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return To()}}class Jl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return Ea(this.inner)}size(){return this.innerSize}}const $l=new ka(Zo.comparator);function ec(){return $l}const tc=new ka(Zo.comparator);function nc(){let e=tc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function rc(e){let t=tc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function sc(){return oc()}function ic(){return oc()}function oc(){return new Jl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ac=new ka(Zo.comparator),lc=new xa(Zo.comparator);function cc(){let e=lc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const uc=new xa(Ho);function hc(){return uc}function dc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ha(t)?"-0":t}}function fc(e){return{integerValue:""+e}}function pc(e,t){return da(t)?fc(t):dc(e,t)}class gc{constructor(){this._=void 0}}function mc(e,t,n){return e instanceof bc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ma(t)&&(t=Da(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wc?_c(e,t):e instanceof Ec?kc(e,t):function(e,t){const n=yc(e,t),r=Sc(n)+Sc(e.Pe);return Za(n)&&Za(e.Pe)?fc(r):dc(e.serializer,r)}(e,t)}function vc(e,t,n){return e instanceof wc?_c(e,t):e instanceof Ec?kc(e,t):n}function yc(e,t){return e instanceof Cc?function(e){return Za(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bc extends gc{}class wc extends gc{constructor(e){super(),this.elements=e}}function _c(e,t){const n=xc(t);for(const r of e.elements)n.some((e=>Va(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ec extends gc{constructor(e){super(),this.elements=e}}function kc(e,t){let n=xc(t);for(const r of e.elements)n=n.filter((e=>!Va(e,r)));return{arrayValue:{values:n}}}class Cc extends gc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Sc(e){return Ra(e.integerValue||e.doubleValue)}function xc(e){return Ja(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Tc{constructor(e,t){this.field=e,this.transform=t}}class Ic{constructor(e,t){this.version=e,this.transformResults=t}}class Lc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lc}static exists(e){return new Lc(void 0,e)}static updateTime(e){return new Lc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Oc{}function Nc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vc(e.key,Lc.none()):new jc(e.key,e.data,Lc.none());{const n=e.data,r=il.empty();let s=new xa(Xo.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Uc(e.key,r,new Ia(s.toArray()),Lc.none())}}function Rc(e,t,n){e instanceof jc?function(e,t,n){const r=e.value.clone(),s=zc(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Uc?function(e,t,n){if(!Pc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zc(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Fc(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ac(e,t,n,r){return e instanceof jc?function(e,t,n,r){if(!Pc(e.precondition,t))return n;const s=e.value.clone(),i=Bc(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uc?function(e,t,n,r){if(!Pc(e.precondition,t))return n;const s=Bc(e.fieldTransforms,r,t),i=t.data;return i.setAll(Fc(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Pc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=yc(r.transform,e||null);null!=s&&(null===n&&(n=il.empty()),n.set(r.field,s))}return n||null}function Dc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wc&&t instanceof wc||e instanceof Ec&&t instanceof Ec?Wo(e.elements,t.elements,Va):e instanceof Cc&&t instanceof Cc?Va(e.Pe,t.Pe):e instanceof bc&&t instanceof bc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jc extends Oc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Uc extends Oc{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Fc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function zc(e,t,n){const r=new Map;Io(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,vc(o,a,n[s]))}return r}function Bc(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,mc(e,i,t))}return r}class Vc extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hc extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ac(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ac(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ic();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=t.has(r.key)?null:o;const a=Nc(i,o);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(Ko.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),cc())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((e,t)=>Dc(e,t)))&&Wo(this.baseMutations,e.baseMutations,((e,t)=>Dc(e,t)))}}class qc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Io(e.mutations.length===n.length);let r=ac;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new qc(e,t,n,r)}}class Kc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Gc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qc,Yc;function Xc(e){switch(e){default:return To();case Po.CANCELLED:case Po.UNKNOWN:case Po.DEADLINE_EXCEEDED:case Po.RESOURCE_EXHAUSTED:case Po.INTERNAL:case Po.UNAVAILABLE:case Po.UNAUTHENTICATED:return!1;case Po.INVALID_ARGUMENT:case Po.NOT_FOUND:case Po.ALREADY_EXISTS:case Po.PERMISSION_DENIED:case Po.FAILED_PRECONDITION:case Po.ABORTED:case Po.OUT_OF_RANGE:case Po.UNIMPLEMENTED:case Po.DATA_LOSS:return!0}}function Zc(e){if(void 0===e)return Co("GRPC error has no .code"),Po.UNKNOWN;switch(e){case Qc.OK:return Po.OK;case Qc.CANCELLED:return Po.CANCELLED;case Qc.UNKNOWN:return Po.UNKNOWN;case Qc.DEADLINE_EXCEEDED:return Po.DEADLINE_EXCEEDED;case Qc.RESOURCE_EXHAUSTED:return Po.RESOURCE_EXHAUSTED;case Qc.INTERNAL:return Po.INTERNAL;case Qc.UNAVAILABLE:return Po.UNAVAILABLE;case Qc.UNAUTHENTICATED:return Po.UNAUTHENTICATED;case Qc.INVALID_ARGUMENT:return Po.INVALID_ARGUMENT;case Qc.NOT_FOUND:return Po.NOT_FOUND;case Qc.ALREADY_EXISTS:return Po.ALREADY_EXISTS;case Qc.PERMISSION_DENIED:return Po.PERMISSION_DENIED;case Qc.FAILED_PRECONDITION:return Po.FAILED_PRECONDITION;case Qc.ABORTED:return Po.ABORTED;case Qc.OUT_OF_RANGE:return Po.OUT_OF_RANGE;case Qc.UNIMPLEMENTED:return Po.UNIMPLEMENTED;case Qc.DATA_LOSS:return Po.DATA_LOSS;default:return To()}}(Yc=Qc||(Qc={}))[Yc.OK=0]="OK",Yc[Yc.CANCELLED=1]="CANCELLED",Yc[Yc.UNKNOWN=2]="UNKNOWN",Yc[Yc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yc[Yc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yc[Yc.NOT_FOUND=5]="NOT_FOUND",Yc[Yc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yc[Yc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yc[Yc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yc[Yc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yc[Yc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yc[Yc.ABORTED=10]="ABORTED",Yc[Yc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yc[Yc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yc[Yc.INTERNAL=13]="INTERNAL",Yc[Yc.UNAVAILABLE=14]="UNAVAILABLE",Yc[Yc.DATA_LOSS=15]="DATA_LOSS";let Jc=null;function $c(){return new TextEncoder}const eu=new ro([4294967295,4294967295],0);function tu(e){const t=$c().encode(e),n=new so;return n.update(t),new Uint8Array(n.digest())}function nu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ro([n,r],0),new ro([s,i],0)]}class ru{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new su("Invalid padding: ".concat(t));if(n<0)throw new su("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new su("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new su("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=ro.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(ro.fromNumber(n)));return 1===r.compare(eu)&&(r=new ro([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=tu(e),[n,r]=nu(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ru(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.Te)return;const t=tu(e),[n,r]=nu(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iu{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new iu(Ko.min(),r,new ka(Ho),ec(),cc())}}class ou{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ou(n,t,cc(),cc(),cc())}}class au{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class lu{constructor(e,t){this.targetId=e,this.me=t}}class cu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class uu{constructor(){this.fe=0,this.ge=fu(),this.pe=Pa.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=cc(),t=cc(),n=cc();return this.ge.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:To()}})),new ou(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=fu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Io(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hu{constructor(e){this.Le=e,this.Be=new Map,this.ke=ec(),this.qe=du(),this.Qe=du(),this.Ke=new ka(Ho)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:To()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const s=r.target;if(Al(s))if(0===n){const e=new Zo(s.path);this.We(t,e,al.newNoDocument(e,Ko.min()))}else Io(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),s=n?this.et(n,e,r):1;if(0!==s){this.He(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Jc||Jc.tt(function(e,t,n,r,s){var i,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===s,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.nt(),n,s))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,o;try{i=Aa(n).toUint8Array()}catch(e){if(e instanceof La)return So("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ru(i,r,s)}catch(e){return So(e instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.Le.nt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const s=this.Ye(r);if(s){if(n.current&&Al(s.target)){const t=new Zo(s.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,al.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=cc();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new iu(e,t,this.Ke,this.ke,n);return this.ke=ec(),this.qe=du(),this.Qe=du(),this.Ke=new ka(Ho),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new uu,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new xa(Ho),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new xa(Ho),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ko("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new uu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function du(){return new ka(Zo.comparator)}function fu(){return new ka(Zo.comparator)}const pu={asc:"ASCENDING",desc:"DESCENDING"},gu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mu={and:"AND",or:"OR"};class vu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yu(e,t){return e.useProto3Json||ua(t)?t:{value:t}}function bu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _u(e,t){return bu(e,t.toTimestamp())}function Eu(e){return Io(!!e),Ko.fromTimestamp(function(e){const t=Na(e);return new qo(t.seconds,t.nanos)}(e))}function ku(e,t){return Cu(e,t).canonicalString()}function Cu(e,t){const n=function(e){return new Qo(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Su(e){const t=Qo.fromString(e);return Io(qu(t)),t}function xu(e,t){return ku(e.databaseId,t.path)}function Tu(e,t){const n=Su(t);if(n.get(1)!==e.databaseId.projectId)throw new Oo(Po.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oo(Po.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zo(Ou(n))}function Iu(e,t){return ku(e.databaseId,t)}function Lu(e){const t=Su(e);return 4===t.length?Qo.emptyPath():Ou(t)}function Pu(e){return new Qo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ou(e){return Io(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nu(e,t,n){return{name:xu(e,t),fields:n.value.mapValue.fields}}function Ru(e,t){let n;if(t instanceof jc)n={update:Nu(e,t.key,t.value)};else if(t instanceof Vc)n={delete:xu(e,t.key)};else if(t instanceof Uc)n={update:Nu(e,t.key,t.data),updateMask:Wu(t.fieldMask)};else{if(!(t instanceof Hc))return To();n={verify:xu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof bc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ec)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw To()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_u(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:To()}(e,t.precondition)),n}function Au(e,t){return{documents:[Iu(e,t.path)]}}function Mu(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Iu(e,s);const i=function(e){if(0!==e.length)return Hu(gl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Bu(e.field),direction:Uu(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:s}}function Du(e){let t=Lu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Io(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=ju(e);return t instanceof gl&&vl(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new hl(Vu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ua(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ll(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ll(n,t)}(n.endAt)),Dl(t,s,o,i,a,"F",l,c)}function ju(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vu(e.unaryFilter.field);return pl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vu(e.unaryFilter.field);return pl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vu(e.unaryFilter.field);return pl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vu(e.unaryFilter.field);return pl.create(s,"!=",{nullValue:"NULL_VALUE"});default:return To()}}(e):void 0!==e.fieldFilter?function(e){return pl.create(Vu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return To()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gl.create(e.compositeFilter.filters.map((e=>ju(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return To()}}(e.compositeFilter.op))}(e):To()}function Uu(e){return pu[e]}function Fu(e){return gu[e]}function zu(e){return mu[e]}function Bu(e){return{fieldPath:e.canonicalString()}}function Vu(e){return Xo.fromServerFormat(e.fieldPath)}function Hu(e){return e instanceof pl?function(e){if("=="===e.op){if(el(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NAN"}};if($a(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(el(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NOT_NAN"}};if($a(e.value))return{unaryFilter:{field:Bu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(e.field),op:Fu(e.op),value:e.value}}}(e):e instanceof gl?function(e){const t=e.getFilters().map((e=>Hu(e)));return 1===t.length?t[0]:{compositeFilter:{op:zu(e.op),filters:t}}}(e):To()}function Wu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function qu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ku{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ko.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ko.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pa.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gu{constructor(e){this.ht=e}}function Qu(e){const t=Du({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wl(t,t.limit,"L"):t}class Yu{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Ra(e.integerValue));else if("doubleValue"in e){const n=Ra(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),ha(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=Na(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Aa(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?sl(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):nl(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):To()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const s=e.fields||{};this.Rt(t,53);const i="value",o=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(Ra(o)),this.gt(i,t),this.dt(s[i],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),Zo.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}Yu.Ft=new Yu;class Xu{constructor(){this.ln=new Zu}addToCollectionParentIndex(e,t){return this.ln.add(t),oa.resolve()}getCollectionParents(e,t){return oa.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return oa.resolve()}deleteFieldIndex(e,t){return oa.resolve()}deleteAllFieldIndexes(e){return oa.resolve()}createTargetIndexes(e,t){return oa.resolve()}getDocumentsMatchingTarget(e,t){return oa.resolve(null)}getIndexType(e,t){return oa.resolve(0)}getFieldIndexes(e,t){return oa.resolve([])}getNextCollectionGroupToUpdate(e){return oa.resolve(null)}getMinOffset(e,t){return oa.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,t){return oa.resolve(ta.min())}updateCollectionGroup(e,t,n){return oa.resolve()}updateIndexEntries(e,t){return oa.resolve()}}class Zu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xa(Qo.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xa(Qo.comparator)).toArray()}}new Uint8Array(0);const Ju={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $u{static withCacheSize(e){return new $u(e,$u.DEFAULT_COLLECTION_PERCENTILE,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}$u.DEFAULT_COLLECTION_PERCENTILE=10,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$u.DEFAULT=new $u(41943040,$u.DEFAULT_COLLECTION_PERCENTILE,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$u.DISABLED=new $u(-1,0,0);class eh{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new eh(0)}static Qn(){return new eh(-1)}}function th(e,t){let[n,r]=e,[s,i]=t;const o=Ho(n,s);return 0===o?Ho(r,i):o}class nh{constructor(e){this.Gn=e,this.buffer=new xa(th),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();th(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){ko("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){la(e)?ko("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ia(e)}await this.Yn(3e5)}))}}class sh{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return oa.resolve(ca.oe);const n=new nh(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ko("LruGarbageCollector","Garbage collection skipped; disabled"),oa.resolve(Ju)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ko("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ju):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,s,i,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ko("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Eo()<=ot.DEBUG&&ko("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),oa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e}))))}}function ih(e,t){return new sh(e,t)}class oh{constructor(){this.changes=new Jl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,al.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?oa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ah{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ac(n.mutation,e,Ia.empty(),qo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,cc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc();const r=sc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=nc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=sc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,cc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=ec();const i=oc(),o=oc();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Uc)?s=s.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),Ac(o.mutation,t,o.mutation.getFieldMask(),qo.now())):i.set(t.key,Ia.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ah(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=oc();let r=new ka(((e,t)=>e-t)),s=cc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||Ia.empty();o=s.applyToLocalView(i,o),n.set(e,o);const a=(r.get(s.batchId)||cc()).add(e);r=r.insert(s.batchId,a)}))})).next((()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=ic();l.forEach((e=>{if(!s.has(e)){const r=Nc(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return oa.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):oa.resolve(sc());let o=-1,a=s;return i.next((t=>oa.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),s.get(t)?oa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,a,t,cc()))).next((e=>({batchId:o,changes:rc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zo(t)).next((e=>{let t=nc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=nc();return this.indexManager.getCollectionParents(e,s).next((o=>oa.forEach(o,(o=>{const a=function(e,t){return new Ml(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,al.newInvalidDocument(r)))}));let n=nc();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&Ac(i.mutation,r,Ia.empty(),qo.now()),Ql(t,r)&&(n=n.insert(e,r))})),n}))}}class ch{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return oa.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Eu(e.createTime)}}(t)),oa.resolve()}getNamedQuery(e,t){return oa.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:Qu(e.bundledQuery),readTime:Eu(e.readTime)}}(t)),oa.resolve()}}class uh{constructor(){this.overlays=new ka(Zo.comparator),this.Er=new Map}getOverlay(e,t){return oa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sc();return oa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),oa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),oa.resolve()}getOverlaysForCollection(e,t,n){const r=sc(),s=t.length+1,i=new Zo(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return oa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ka(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=sc(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=sc(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return oa.resolve(o)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kc(t,n));let s=this.Er.get(t);void 0===s&&(s=cc(),this.Er.set(t,s)),this.Er.set(t,s.add(n.key))}}class hh{constructor(){this.sessionToken=Pa.EMPTY_BYTE_STRING}getSessionToken(e){return oa.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oa.resolve()}}class dh{constructor(){this.dr=new xa(fh.Ar),this.Rr=new xa(fh.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new fh(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new fh(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Zo(new Qo([])),n=new fh(t,e),r=new fh(t,e+1),s=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),s.push(e.key)})),s}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Zo(new Qo([])),n=new fh(t,e),r=new fh(t,e+1);let s=cc();return this.Rr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new fh(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fh{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Zo.comparator(e.key,t.key)||Ho(e.br,t.br)}static Vr(e,t){return Ho(e.br,t.br)||Zo.comparator(e.key,t.key)}}class ph{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new xa(fh.Ar)}checkEmpty(e){return oa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Wc(s,t,n,r);this.mutationQueue.push(i);for(const o of r)this.vr=this.vr.add(new fh(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return oa.resolve(i)}lookupMutationBatch(e,t){return oa.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),s=r<0?0:r;return oa.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oa.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return oa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fh(t,0),r=new fh(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);s.push(t)})),oa.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xa(Ho);return t.forEach((e=>{const t=new fh(e,0),r=new fh(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),oa.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Zo.isDocumentKey(s)||(s=s.child(""));const i=new fh(new Zo(s),0);let o=new xa(Ho);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.br)),!0)}),i),oa.resolve(this.Mr(o))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Io(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return oa.forEach(t.mutations,(r=>{const s=new fh(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new fh(t,0),r=this.vr.firstAfterOrEqual(n);return oa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oa.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gh{constructor(e){this.Nr=e,this.docs=new ka(Zo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oa.resolve(n?n.document.mutableCopy():al.newInvalidDocument(t))}getEntries(e,t){let n=ec();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():al.newInvalidDocument(e))})),oa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=ec();const i=t.path,o=new Zo(i.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||na(ea(o),n)<=0||(r.has(o.key)||Ql(t,o))&&(s=s.insert(o.key,o.mutableCopy()))}return oa.resolve(s)}getAllFromCollectionGroup(e,t,n,r){To()}Lr(e,t){return oa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new mh(this)}getSize(e){return oa.resolve(this.size)}}class mh extends oh{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),oa.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class vh{constructor(e){this.persistence=e,this.Br=new Jl((e=>Nl(e)),Rl),this.lastRemoteSnapshotVersion=Ko.min(),this.highestTargetId=0,this.kr=0,this.qr=new dh,this.targetCount=0,this.Qr=eh.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),oa.resolve()}getLastRemoteSnapshotVersion(e){return oa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oa.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),oa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),oa.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new eh(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,oa.resolve()}updateTargetData(e,t){return this.Un(t),oa.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,oa.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Br.forEach(((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Br.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),oa.waitFor(s).next((()=>r))}getTargetCount(e){return oa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return oa.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),oa.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),oa.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),oa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return oa.resolve(n)}containsKey(e,t){return oa.resolve(this.qr.containsKey(t))}}class yh{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ca(0),this.Ur=!1,this.Ur=!0,this.Wr=new hh,this.referenceDelegate=e(this),this.Gr=new vh(this),this.indexManager=new Xu,this.remoteDocumentCache=function(e){return new gh(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new Gu(t),this.jr=new ch(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new ph(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){ko("MemoryPersistence","Starting transaction:",e);const r=new bh(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return oa.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class bh extends sa{constructor(e){super(),this.currentSequenceNumber=e}}class wh{constructor(e){this.persistence=e,this.Zr=new dh,this.Xr=null}static ei(e){return new wh(e)}get ti(){if(this.Xr)return this.Xr;throw To()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),oa.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),oa.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),oa.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oa.forEach(this.ti,(n=>{const r=Zo.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Ko.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return oa.or([()=>oa.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class _h{constructor(e,t){this.persistence=e,this.ri=new Jl((e=>fa(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ih(this,t)}static ei(e,t){return new _h(e,t)}Hr(){}Jr(e){return oa.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return oa.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?oa.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,s.removeEntry(r,Ko.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),oa.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),oa.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),oa.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),oa.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ya(e.data.value)),t}ir(e,t,n){return oa.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return oa.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=cc(),r=cc();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Eh(e,t.fromCache,n,r)}}class kh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ch{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=Ve()?8:aa(Be())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.Xi(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.es(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new kh;return this.ts(e,t,n).next((r=>{if(s.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>s.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(Eo()<=ot.DEBUG&&ko("QueryEngine","SDK will not create cache indexes for query:",Gl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),oa.resolve()):(Eo()<=ot.DEBUG&&ko("QueryEngine","Query:",Gl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(Eo()<=ot.DEBUG&&ko("QueryEngine","The SDK decides to create cache indexes for query:",Gl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bl(t))):oa.resolve())}Xi(e,t){if(Ul(t))return oa.resolve(null);let n=Bl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Wl(t,null,"F"),n=Bl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=cc(...r);return this.Zi.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.rs(t,r);return this.ss(t,i,s,n.readTime)?this.Xi(e,Wl(t,null,"F")):this.os(e,i,t,n)}))))})))))}es(e,t,n,r){return Ul(t)||r.isEqual(Ko.min())?oa.resolve(null):this.Zi.getDocuments(e,n).next((s=>{const i=this.rs(t,s);return this.ss(t,i,n,r)?oa.resolve(null):(Eo()<=ot.DEBUG&&ko("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gl(t)),this.os(e,i,t,$o(r,-1)).next((e=>e)))}))}rs(e,t){let n=new xa(Xl(e));return t.forEach(((t,r)=>{Ql(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ts(e,t,n){return Eo()<=ot.DEBUG&&ko("QueryEngine","Using full collection scan to execute query:",Gl(t)),this.Zi.getDocumentsMatchingQuery(e,t,ta.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Sh{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new ka(Ho),this.cs=new Jl((e=>Nl(e)),Rl),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lh(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function xh(e,t,n,r){return new Sh(e,t,n,r)}async function Th(e,t){const n=Lo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let o=cc();for(const e of r){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ts:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function Ih(e){const t=Lo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Lh(e,t,n){let r=cc(),s=cc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ec();return n.forEach(((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ko.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ko("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)})),{Is:r,Es:s}}))}function Ph(e,t){const n=Lo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Oh(e,t){const n=Lo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((s=>s?(r=s,oa.resolve(r)):n.Gr.allocateTargetId(e).next((s=>(r=new Ku(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function Nh(e,t,n){const r=Lo(e),s=r.us.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!la(e))throw e;ko("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(s.target)}function Rh(e,t,n){const r=Lo(e);let s=Ko.min(),i=cc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Lo(e),s=r.cs.get(n);return void 0!==s?oa.resolve(r.us.get(s)):r.Gr.getTargetData(t,n)}(r,e,Bl(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?s:Ko.min(),n?i:cc()))).next((e=>(Ah(r,Yl(t),e),{documents:e,ds:i})))))}function Ah(e,t,n){let r=e.ls.get(t)||Ko.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}class Mh{constructor(){this.activeTargetIds=hc()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dh{constructor(){this._o=new Mh,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Mh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jh{uo(e){}shutdown(){}}class Uh{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ko("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ko("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fh=null;function zh(){return null===Fh?Fh=268435456+Math.round(2147483648*Math.random()):Fh++,"0x"+Fh.toString(16)}const Bh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vh{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const Hh="WebChannelConnection";class Wh extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,s){const i=zh(),o=this.No(e,t.toUriEncodedString());ko("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),o,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,s),this.Bo(e,o,a,n).then((t=>(ko("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw So("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t}))}ko(e,t,n,r,s,i){return this.Oo(e,t,n,r,s)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=Bh[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const s=zh();return new Promise(((i,o)=>{const a=new ao;a.setWithCredentials(!0),a.listenOnce(co.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case uo.NO_ERROR:const t=a.getResponseJson();ko(Hh,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case uo.TIMEOUT:ko(Hh,"RPC '".concat(e,"' ").concat(s," timed out")),o(new Oo(Po.DEADLINE_EXCEEDED,"Request time out"));break;case uo.HTTP_ERROR:const n=a.getStatus();if(ko(Hh,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Po).indexOf(t)>=0?t:Po.UNKNOWN}(t.status);o(new Oo(e,t.message))}else o(new Oo(Po.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Oo(Po.UNAVAILABLE,"Connection failed."));break;default:To()}}finally{ko(Hh,"RPC '".concat(e,"' ").concat(s," completed."))}}));const l=JSON.stringify(r);ko(Hh,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=zh(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=go(),o=po(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=s.join("");ko(Hh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);let h=!1,d=!1;const f=new Vh({Eo:t=>{d?ko(Hh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ko(Hh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),ko(Hh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,lo.EventType.OPEN,(()=>{d||(ko(Hh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.So())})),p(u,lo.EventType.CLOSE,(()=>{d||(d=!0,ko(Hh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Do())})),p(u,lo.EventType.ERROR,(t=>{d||(d=!0,So(Hh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Do(new Oo(Po.UNAVAILABLE,"The operation could not be completed")))})),p(u,lo.EventType.MESSAGE,(t=>{var n;if(!d){const s=t.data[0];Io(!!s);const i=s,o=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){ko(Hh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Qc[e];if(void 0!==t)return Zc(t)}(t),s=o.message;void 0===n&&(n=Po.INTERNAL,s="Unknown error status: "+t+" with message "+o.message),d=!0,f.Do(new Oo(n,s)),u.close()}else ko(Hh,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.vo(s)}})),p(o,fo.STAT_EVENT,(t=>{t.stat===ho.PROXY?ko(Hh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ho.NOPROXY&&ko(Hh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.bo()}),0),f}}function qh(){return"undefined"!=typeof document?document:null}function Kh(e){return new vu(e,!0)}class Gh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&ko("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Qh{constructor(e,t,n,r,s,i,o,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Gh(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===Po.RESOURCE_EXHAUSTED?(Co(t.toString()),Co("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Po.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new Oo(Po.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return ko("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(ko("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yh extends Qh{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:To()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Io(void 0===t||"string"==typeof t),Pa.fromBase64String(t||"")):(Io(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Pa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Po.UNKNOWN:Zc(e.code);return new Oo(t,e.message||"")}(o);n=new cu(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tu(e,r.document.name),i=Eu(r.document.updateTime),o=r.document.createTime?Eu(r.document.createTime):Ko.min(),a=new il({mapValue:{fields:r.document.fields}}),l=al.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new au(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Tu(e,r.document),i=r.readTime?Eu(r.readTime):Ko.min(),o=al.newNoDocument(s,i),a=r.removedTargetIds||[];n=new au([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Tu(e,r.document),i=r.removedTargetIds||[];n=new au([],i,s,null)}else{if(!("filter"in t))return To();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Gc(r,s),o=e.targetId;n=new lu(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ko.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ko.min():t.readTime?Eu(t.readTime):Ko.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Pu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Al(r)?{documents:Au(e,r)}:{query:Mu(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wu(e,t.resumeToken);const r=yu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ko.min())>0){n.readTime=bu(e,t.snapshotVersion.toTimestamp());const r=yu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return To()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Pu(this.serializer),t.removeTarget=e,this.c_(t)}}class Xh extends Qh{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Io(!!e.streamToken),this.lastStreamToken=e.streamToken,Io(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Io(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Io(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Eu(e.updateTime):Eu(t);return n.isEqual(Ko.min())&&(n=Eu(t)),new Ic(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Eu(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Pu(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ru(this.serializer,e)))};this.c_(t)}}class Zh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new Oo(Po.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,o]=s;return this.connection.Oo(e,Cu(t,n),r,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Po.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Oo(Po.UNKNOWN,e.toString())}))}ko(e,t,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.ko(e,Cu(t,n),r,o,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Po.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Oo(Po.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Jh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(Co(t),this.C_=!1):ko("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class $h{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{ld(this)&&(ko("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Lo(e);t.k_.add(4),await td(t),t.K_.set("Unknown"),t.k_.delete(4),await ed(t)}(this))}))})),this.K_=new Jh(n,r)}}async function ed(e){if(ld(e))for(const t of e.q_)await t(!0)}async function td(e){for(const t of e.q_)await t(!1)}function nd(e,t){const n=Lo(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),ad(n)?od(n):Td(n).s_()&&sd(n,t))}function rd(e,t){const n=Lo(e),r=Td(n);n.B_.delete(t),r.s_()&&id(n,t),0===n.B_.size&&(r.s_()?r.a_():ld(n)&&n.K_.set("Unknown"))}function sd(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ko.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Td(e).V_(t)}function id(e,t){e.U_.xe(t),Td(e).m_(t)}function od(e){e.U_=new hu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Td(e).start(),e.K_.F_()}function ad(e){return ld(e)&&!Td(e).i_()&&e.B_.size>0}function ld(e){return 0===Lo(e).k_.size}function cd(e){e.U_=void 0}async function ud(e){e.K_.set("Online")}async function hd(e){e.B_.forEach(((t,n)=>{sd(e,t)}))}async function dd(e,t){cd(e),ad(e)?(e.K_.O_(t),od(e)):e.K_.set("Unknown")}async function fd(e,t,n){if(e.K_.set("Online"),t instanceof cu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){ko("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await pd(e,n)}else if(t instanceof au?e.U_.$e(t):t instanceof lu?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Ko.min()))try{const t=await Ih(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.B_.get(r);s&&e.B_.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(Pa.EMPTY_BYTE_STRING,r.snapshotVersion)),id(e,t);const s=new Ku(r.target,t,n,r.sequenceNumber);sd(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ko("RemoteStore","Failed to raise snapshot:",t),await pd(e,t)}}async function pd(e,t,n){if(!la(t))throw t;e.k_.add(1),await td(e),e.K_.set("Offline"),n||(n=()=>Ih(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ko("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await ed(e)}))}function gd(e,t){return t().catch((n=>pd(e,n,t)))}async function md(e){const t=Lo(e),n=Id(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;vd(t);)try{const e=await Ph(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,yd(t,e)}catch(e){await pd(t,e)}bd(t)&&wd(t)}function vd(e){return ld(e)&&e.L_.length<10}function yd(e,t){e.L_.push(t);const n=Id(e);n.s_()&&n.f_&&n.g_(t.mutations)}function bd(e){return ld(e)&&!Id(e).i_()&&e.L_.length>0}function wd(e){Id(e).start()}async function _d(e){Id(e).w_()}async function Ed(e){const t=Id(e);for(const n of e.L_)t.g_(n.mutations)}async function kd(e,t,n){const r=e.L_.shift(),s=qc.from(r,t,n);await gd(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await md(e)}async function Cd(e,t){t&&Id(e).f_&&await async function(e,t){if(function(e){return Xc(e)&&e!==Po.ABORTED}(t.code)){const n=e.L_.shift();Id(e).__(),await gd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await md(e)}}(e,t),bd(e)&&wd(e)}async function Sd(e,t){const n=Lo(e);n.asyncQueue.verifyOperationInProgress(),ko("RemoteStore","RemoteStore received new credentials");const r=ld(n);n.k_.add(3),await td(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await ed(n)}async function xd(e,t){const n=Lo(e);t?(n.k_.delete(2),await ed(n)):t||(n.k_.add(2),await td(n),n.K_.set("Unknown"))}function Td(e){return e.W_||(e.W_=function(e,t,n){const r=Lo(e);return r.b_(),new Yh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:ud.bind(null,e),mo:hd.bind(null,e),po:dd.bind(null,e),R_:fd.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),ad(e)?od(e):e.K_.set("Unknown")):(await e.W_.stop(),cd(e))}))),e.W_}function Id(e){return e.G_||(e.G_=function(e,t,n){const r=Lo(e);return r.b_(),new Xh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:_d.bind(null,e),po:Cd.bind(null,e),p_:Ed.bind(null,e),y_:kd.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await md(e)):(await e.G_.stop(),e.L_.length>0&&(ko("RemoteStore","Stopping write stream with ".concat(e.L_.length," pending writes")),e.L_=[]))}))),e.G_}class Ld{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new Ld(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oo(Po.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(e,t){if(Co("AsyncQueue","".concat(t,": ").concat(e)),la(e))return new Oo(Po.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Od{static emptySet(e){return new Od(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zo.comparator(t.key,n.key):(e,t)=>Zo.comparator(e.key,t.key),this.keyedMap=nc(),this.sortedSet=new ka(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Od))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Od;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Nd{constructor(){this.z_=new ka(Zo.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):To():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Rd{constructor(e,t,n,r,s,i,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Rd(e,t,Od.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ad{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class Md{constructor(){this.queries=Dd(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=Lo(e),r=n.queries;n.queries=Dd(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new Oo(Po.ABORTED,"Firestore shutting down"))}}function Dd(){return new Jl((e=>Kl(e)),ql)}async function jd(e,t){const n=Lo(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Y_()&&t.Z_()&&(r=2):(i=new Ad,r=t.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Pd(e,"Initialization of query '".concat(Gl(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.J_.push(t),t.ea(n.onlineState),i.H_&&t.ta(i.H_)&&Bd(n)}async function Ud(e,t){const n=Lo(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.J_.indexOf(t);e>=0&&(i.J_.splice(e,1),0===i.J_.length?s=t.Z_()?0:1:!i.Y_()&&t.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fd(e,t){const n=Lo(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(s)&&(r=!0);t.H_=s}}r&&Bd(n)}function zd(e,t,n){const r=Lo(e),s=r.queries.get(t);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(t)}function Bd(e){e.X_.forEach((e=>{e.next()}))}var Vd,Hd;(Hd=Vd||(Vd={})).na="default",Hd.Cache="cache";class Wd{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=Rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vd.Cache}}class qd{constructor(e){this.key=e}}class Kd{constructor(e){this.key=e}}class Gd{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=cc(),this.mutatedKeys=cc(),this.Va=Xl(e),this.ma=new Od(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new Nd,r=t?t.ma:this.ma;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ql(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||l&&this.Va(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{ma:i,pa:n,ss:o,mutatedKeys:s}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const i=e.pa.j_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return To()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const o=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==i.length||l?{snapshot:new Rd(this.query,e.ma,s,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Nd,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=cc(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Kd(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new qd(n))})),t}va(e){this.da=e.ds,this.Ra=cc();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Rd.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Qd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Yd{constructor(e){this.key=e,this.Fa=!1}}class Xd{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ma={},this.xa=new Jl((e=>Kl(e)),ql),this.Oa=new Map,this.Na=new Set,this.La=new ka(Zo.comparator),this.Ba=new Map,this.ka=new dh,this.qa={},this.Qa=new Map,this.Ka=eh.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Zd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=bf(e);let s;const i=r.xa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await $d(r,t,n,!0),s}async function Jd(e,t){const n=bf(e);await $d(n,t,!0,!1)}async function $d(e,t,n,r){const s=await Oh(e.localStore,Bl(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ef(e,t,i,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&nd(e.remoteStore,s),a}async function ef(e,t,n,r,s){e.Ua=(t,n,r)=>async function(e,t,n,r){let s=t.view.ga(n);s.ss&&(s=await Rh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,s)})));const i=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i,o);return ff(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const i=await Rh(e.localStore,t,!0),o=new Gd(t,i.ds),a=o.ga(i.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=o.applyChanges(a,e.isPrimaryClient,l);ff(e,n,c.ba);const u=new Qd(t,n,o);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function tf(e,t,n){const r=Lo(e),s=r.xa.get(t),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter((e=>!ql(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Nh(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rd(r.remoteStore,s.targetId),hf(r,s.targetId)})).catch(ia)):(hf(r,s.targetId),await Nh(r.localStore,s.targetId,!0))}async function nf(e,t){const n=Lo(e),r=n.xa.get(t),s=n.Oa.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rd(n.remoteStore,r.targetId))}async function rf(e,t){const n=Lo(e);try{const e=await function(e,t){const n=Lo(e),r=t.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const o=[];t.targetChanges.forEach(((i,a)=>{const l=s.get(a);if(!l)return;o.push(n.Gr.removeMatchingKeys(e,i.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,i.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Pa.EMPTY_BYTE_STRING,Ko.min()).withLastLimboFreeSnapshotVersion(Ko.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&o.push(n.Gr.updateTargetData(e,c))}));let a=ec(),l=cc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Lh(e,i,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!r.isEqual(Ko.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return oa.waitFor(o).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(Io(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Io(r.Fa):e.removedDocuments.size>0&&(Io(r.Fa),r.Fa=!1))})),await mf(n,e,t)}catch(e){await ia(e)}}function sf(e,t,n){const r=Lo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const s=r.view.ea(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=Lo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.J_)s.ea(t)&&(r=!0)})),r&&Bd(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function of(e,t,n){const r=Lo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Ba.get(t),i=s&&s.key;if(i){let e=new ka(Zo.comparator);e=e.insert(i,al.newNoDocument(i,Ko.min()));const n=cc().add(i),s=new iu(Ko.min(),new Map,new ka(Ho),e,n);await rf(r,s),r.La=r.La.remove(i),r.Ba.delete(t),gf(r)}else await Nh(r.localStore,t,!1).then((()=>hf(r,t,n))).catch(ia)}async function af(e,t){const n=Lo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Lo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let o=oa.resolve();return i.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Io(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);uf(n,r,null),cf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mf(n,e)}catch(e){await ia(e)}}async function lf(e,t,n){const r=Lo(e);try{const e=await function(e,t){const n=Lo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Io(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);uf(r,t,n),cf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mf(r,e)}catch(n){await ia(n)}}function cf(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function uf(e,t,n){const r=Lo(e);let s=r.qa[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.qa[r.currentUser.toKey()]=s}}function hf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||df(e,t)}))}function df(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(rd(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),gf(e))}function ff(e,t,n){for(const r of n)r instanceof qd?(e.ka.addReference(r.key,t),pf(e,r)):r instanceof Kd?(ko("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||df(e,r.key)):To()}function pf(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(ko("SyncEngine","New document in limbo: "+n),e.Na.add(r),gf(e))}function gf(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Zo(Qo.fromString(t)),r=e.Ka.next();e.Ba.set(r,new Yd(n)),e.La=e.La.insert(n,r),nd(e.remoteStore,new Ku(Bl(jl(n.path)),r,"TargetPurposeLimboResolution",ca.oe))}}async function mf(e,t,n){const r=Lo(e),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{o.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Eh.zi(a.targetId,e);i.push(t)}})))})),await Promise.all(o),r.Ma.R_(s),await async function(e,t){const n=Lo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>oa.forEach(t,(t=>oa.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>oa.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!la(e))throw e;ko("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,s)}}}(r.localStore,i))}async function vf(e,t){const n=Lo(e);if(!n.currentUser.isEqual(t)){ko("SyncEngine","User change. New user:",t.toKey());const e=await Th(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new Oo(Po.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mf(n,e.Ts)}}function yf(e,t){const n=Lo(e),r=n.Ba.get(t);if(r&&r.Fa)return cc().add(r.key);{let e=cc();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}function bf(e){const t=Lo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=of.bind(null,t),t.Ma.R_=Fd.bind(null,t.eventManager),t.Ma.Wa=zd.bind(null,t.eventManager),t}function wf(e){const t=Lo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=af.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lf.bind(null,t),t}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return xh(this.persistence,new Ch,e.initialUser,this.serializer)}ja(e){return new yh(wh.ei,this.serializer)}za(e){return new Dh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class Ef extends _f{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Io(this.persistence.referenceDelegate instanceof _h);const n=this.persistence.referenceDelegate.garbageCollector;return new rh(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?$u.withCacheSize(this.cacheSizeBytes):$u.DEFAULT;return new yh((e=>_h.ei(e,t)),this.serializer)}}class kf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vf.bind(null,this.syncEngine),await xd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Md}createDatastore(e){const t=Kh(e.databaseInfo.databaseId),n=function(e){return new Wh(e)}(e.databaseInfo);return function(e,t,n,r){return new Zh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new $h(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>sf(this.syncEngine,e,0)),Uh.p()?new Uh:new jh)}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new Xd(e,t,n,r,s,i);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Lo(e);ko("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await td(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}kf.provider={build:()=>new kf};class Cf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Co("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Sf{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=bo.UNAUTHENTICATED,this.clientId=Vo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{ko("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ko("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(ty){const n=Pd(ty,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xf(e,t){e.asyncQueue.verifyOperationInProgress(),ko("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Th(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Tf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await If(e);ko("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Sd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Sd(t.remoteStore,n))),e._onlineComponents=t}async function If(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ko("FirestoreClient","Using user provided OfflineComponentProvider");try{await xf(e,e._uninitializedComponentsProvider._offline)}catch(ty){const n=ty;if(!function(e){return"FirebaseError"===e.name?e.code===Po.FAILED_PRECONDITION||e.code===Po.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await xf(e,new _f)}}else ko("FirestoreClient","Using default OfflineComponentProvider"),await xf(e,new Ef(void 0));return e._offlineComponents}async function Lf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ko("FirestoreClient","Using user provided OnlineComponentProvider"),await Tf(e,e._uninitializedComponentsProvider._online)):(ko("FirestoreClient","Using default OnlineComponentProvider"),await Tf(e,new kf))),e._onlineComponents}function Pf(e){return Lf(e).then((e=>e.syncEngine))}async function Of(e){const t=await Lf(e),n=t.eventManager;return n.onListen=Zd.bind(null,t.syncEngine),n.onUnlisten=tf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nf.bind(null,t.syncEngine),n}function Nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new No;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Cf({next:a=>{i.eu(),t.enqueueAndForget((()=>Ud(e,o)));const l=a.docs.has(n);!l&&a.fromCache?s.reject(new Oo(Po.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?s.reject(new Oo(Po.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(a)},error:e=>s.reject(e)}),o=new Wd(jl(n.path),i,{includeMetadataChanges:!0,ua:!0});return jd(e,o)}(await Of(e),e.asyncQueue,t,n,r))),r.promise}function Rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new No;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Cf({next:n=>{i.eu(),t.enqueueAndForget((()=>Ud(e,o))),n.fromCache&&"server"===r.source?s.reject(new Oo(Po.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),o=new Wd(n,i,{includeMetadataChanges:!0,ua:!0});return jd(e,o)}(await Of(e),e.asyncQueue,t,n,r))),r.promise}function Af(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Mf=new Map;function Df(e,t,n){if(!n)throw new Oo(Po.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jf(e){if(!Zo.isDocumentKey(e))throw new Oo(Po.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uf(e){if(Zo.isDocumentKey(e))throw new Oo(Po.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ff(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":To()}function zf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oo(Po.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(e);throw new Oo(Po.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Bf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Oo(Po.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oo(Po.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Oo(Po.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Af(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Oo(Po.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Oo(Po.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Oo(Po.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oo(Po.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oo(Po.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ao;switch(e.type){case"firstParty":return new Uo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oo(Po.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mf.get(e);t&&(ko("ComponentProvider","Removing Datastore"),Mf.delete(e),t.terminate())}(this),Promise.resolve()}}class Hf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hf(this.firestore,e,this._query)}}class Wf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wf(this.firestore,e,this._key)}}class qf extends Hf{constructor(e,t,n){super(e,t,jl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wf(this.firestore,null,new Zo(e))}withConverter(e){return new qf(this.firestore,e,this._path)}}function Kf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=et(e),Df("collection","path",t),e instanceof Vf){const n=Qo.fromString(t,...r);return Uf(n),new qf(e,null,n)}{if(!(e instanceof Wf||e instanceof qf))throw new Oo(Po.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qo.fromString(t,...r));return Uf(n),new qf(e.firestore,null,n)}}function Gf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=et(e),1===arguments.length&&(t=Vo.newId()),Df("doc","path",t),e instanceof Vf){const n=Qo.fromString(t,...r);return jf(n),new Wf(e,null,new Zo(n))}{if(!(e instanceof Wf||e instanceof qf))throw new Oo(Po.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qo.fromString(t,...r));return jf(n),new Wf(e.firestore,e instanceof qf?e.converter:null,new Zo(n))}}class Qf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Gh(this,"async_queue_retry"),this.fu=()=>{const e=qh();e&&ko("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=qh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=qh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new No;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(hS){if(!la(hS))throw hS;ko("AsyncQueue","Operation failed with retryable error: "+hS)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Co("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=Ld.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&To()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Yf extends Vf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Qf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qf(e),this._firestoreClient=void 0,await e}}}function Xf(e){if(e._terminated)throw new Oo(Po.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Zf(e),e._firestoreClient}function Zf(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Ua(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Af(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Sf(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Jf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jf(Pa.fromBase64String(e))}catch(e){throw new Oo(Po.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Jf(Pa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $f{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Oo(Po.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ep{constructor(e){this._methodName=e}}class tp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oo(Po.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oo(Po.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ho(this._lat,e._lat)||Ho(this._long,e._long)}}class np{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const rp=/^__.*__$/;class sp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class ip{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Uc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function op(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw To()}}class ap{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Tp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(op(this.Mu)&&rp.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class lp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kh(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ap({Mu:e,methodName:t,Ku:n,path:Xo.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cp(e){const t=e._freezeSettings(),n=Kh(e._databaseId);return new lp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function up(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.$u(i.merge||i.mergeFields?2:0,t,n,s);kp("Data must be an object, but it was:",o,r);const a=_p(r,o);let l,c;if(i.merge)l=new Ia(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Cp(t,r,n);if(!o.contains(s))throw new Oo(Po.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Ip(e,s)||e.push(s)}l=new Ia(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new sp(new il(a),l,c)}class hp extends ep{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function dp(e,t,n){return new ap({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fp extends ep{_toFieldTransform(e){return new Tc(e.path,new bc)}isEqual(e){return e instanceof fp}}class pp extends ep{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=dp(this,e,!0),n=this.Uu.map((e=>wp(e,t))),r=new wc(n);return new Tc(e.path,r)}isEqual(e){return e instanceof pp&&Ge(this.Uu,e.Uu)}}class gp extends ep{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=dp(this,e,!0),n=this.Uu.map((e=>wp(e,t))),r=new Ec(n);return new Tc(e.path,r)}isEqual(e){return e instanceof gp&&Ge(this.Uu,e.Uu)}}class mp extends ep{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Cc(e.serializer,pc(e.serializer,this.Wu));return new Tc(e.path,t)}isEqual(e){return e instanceof mp&&this.Wu===e.Wu}}function vp(e,t,n,r){const s=e.$u(1,t,n);kp("Data must be an object, but it was:",s,r);const i=[],o=il.empty();_a(r,((e,r)=>{const a=xp(t,e,n);r=et(r);const l=s.Bu(a);if(r instanceof hp)i.push(a);else{const e=wp(r,l);null!=e&&(i.push(a),o.set(a,e))}}));const a=new Ia(i);return new ip(o,a,s.fieldTransforms)}function yp(e,t,n,r,s,i){const o=e.$u(1,t,n),a=[Cp(t,r,n)],l=[s];if(i.length%2!=0)throw new Oo(Po.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)a.push(Cp(t,i[d])),l.push(i[d+1]);const c=[],u=il.empty();for(let d=a.length-1;d>=0;--d)if(!Ip(c,a[d])){const e=a[d];let t=l[d];t=et(t);const n=o.Bu(e);if(t instanceof hp)c.push(e);else{const r=wp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Ia(c);return new ip(u,h,o.fieldTransforms)}function bp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wp(n,e.$u(r?4:3,t))}function wp(e,t){if(Ep(e=et(e)))return kp("Unsupported field value:",t,e),_p(e,t);if(e instanceof ep)return function(e,t){if(!op(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=wp(s,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=et(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qo.fromDate(e);return{timestampValue:bu(t.serializer,n)}}if(e instanceof qo){const n=new qo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bu(t.serializer,n)}}if(e instanceof tp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jf)return{bytesValue:wu(t.serializer,e._byteString)};if(e instanceof Wf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ku(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof np)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return dc(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(Ff(e)))}(e,t)}function _p(e,t){const n={};return Ea(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(e,((e,r)=>{const s=wp(r,t.Ou(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function Ep(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qo||e instanceof tp||e instanceof Jf||e instanceof Wf||e instanceof ep||e instanceof np)}function kp(e,t,n){if(!Ep(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ff(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function Cp(e,t,n){if((t=et(t))instanceof $f)return t._internalPath;if("string"==typeof t)return xp(e,t);throw Tp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Sp=new RegExp("[~\\*/\\[\\]]");function xp(e,t,n){if(t.search(Sp)>=0)throw Tp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new $f(...t.split("."))._internalPath}catch(Qm){throw Tp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tp(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(s)),l+=")"),new Oo(Po.INVALID_ARGUMENT,a+e+l)}function Ip(e,t){return e.some((e=>e.isEqual(t)))}class Lp{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Op("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pp extends Lp{data(){return super.data()}}function Op(e,t){return"string"==typeof t?xp(e,t):t instanceof $f?t._internalPath:t._delegate._internalPath}function Np(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Oo(Po.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class Ap extends Rp{}function Mp(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Rp&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof Up)).length,n=e.filter((e=>e instanceof Dp)).length;if(t>1||t>0&&n>0)throw new Oo(Po.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Dp extends Ap{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Dp(e,t,n)}_apply(e){const t=this._parse(e);return Bp(e._query,t),new Hf(e.firestore,e.converter,Hl(e._query,t))}_parse(e){const t=cp(e.firestore),n=function(e,t,n,r,s,i,o){let a;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Oo(Po.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){zp(o,i);const t=[];for(const n of o)t.push(Fp(r,e,n));a={arrayValue:{values:t}}}else a=Fp(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||zp(o,i),a=bp(n,t,o,"in"===i||"not-in"===i);return pl.create(s,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function jp(e,t,n){const r=t,s=Op("where",e);return Dp._create(s,r,n)}class Up extends Rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Up(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:gl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Bp(n,s),n=Hl(n,s)}(e._query,t),new Hf(e.firestore,e.converter,Hl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Fp(e,t,n){if("string"==typeof(n=et(n))){if(""===n)throw new Oo(Po.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fl(t)&&-1!==n.indexOf("/"))throw new Oo(Po.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Qo.fromString(n));if(!Zo.isDocumentKey(r))throw new Oo(Po.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xa(e,new Zo(r))}if(n instanceof Wf)return Xa(e,n._key);throw new Oo(Po.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ff(n),"."))}function zp(e,t){if(!Array.isArray(e)||0===e.length)throw new Oo(Po.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Bp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Oo(Po.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Oo(Po.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Vp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ra(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw To()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _a(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ra(e.doubleValue)));return new np(s)}convertGeoPoint(e){return new tp(Ra(e.latitude),Ra(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Da(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const t=Na(e);return new qo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qo.fromString(e);Io(qu(n));const r=new Fa(n.get(1),n.get(3)),s=new Zo(n.popFirst(5));return r.isEqual(t)||Co("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Hp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Wp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qp extends Lp{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Kp extends qp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Gp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Wp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Kp(this._firestore,this._userDataWriter,n.key,n,new Wp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oo(Po.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Kp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Wp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Kp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Qp(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Qp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return To()}}function Yp(e){e=zf(e,Wf);const t=zf(e.firestore,Yf);return Nf(Xf(t),e._key).then((n=>tg(t,e,n)))}class Xp extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wf(this.firestore,null,t)}}function Zp(e){e=zf(e,Hf);const t=zf(e.firestore,Yf),n=Xf(t),r=new Xp(t);return Np(e._query),Rf(n,e._query).then((n=>new Gp(t,r,e,n)))}function Jp(e,t,n){e=zf(e,Wf);const r=zf(e.firestore,Yf),s=Hp(e.converter,t,n);return eg(r,[up(cp(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Lc.none())])}function $p(e,t,n){e=zf(e,Wf);const r=zf(e.firestore,Yf),s=cp(r);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return i="string"==typeof(t=et(t))||t instanceof $f?yp(s,"updateDoc",e._key,t,n,a):vp(s,"updateDoc",e._key,t),eg(r,[i.toMutation(e._key,Lc.exists(!0))])}function eg(e,t){return function(e,t){const n=new No;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=wf(e);try{const e=await function(e,t){const n=Lo(e),r=qo.now(),s=t.reduce(((e,t)=>e.add(t.key)),cc());let i,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ec(),l=cc();return n.hs.getEntries(e,s).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((s=>{i=s;const o=[];for(const e of t){const t=Mc(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new Uc(e.key,t,ol(t.value.mapValue),Lc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:rc(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new ka(Ho)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await mf(r,e.changes),await md(r.remoteStore)}catch(e){const t=Pd(e,"Failed to persist write");n.reject(t)}}(await Pf(e),t,n))),n.promise}(Xf(e),t)}function tg(e,t,n){const r=n.docs.get(t._key),s=new Xp(e);return new qp(e,s,t._key,r,new Wp(n.hasPendingWrites,n.fromCache),t.converter)}function ng(){return new fp("serverTimestamp")}function rg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pp("arrayUnion",t)}function sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gp("arrayRemove",t)}function ig(e){return new mp("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wo=e}(_n),mn(new tt("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),o=new Yf(new Do(e.getProvider("auth-internal")),new zo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oo(Po.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Cn(yo,"4.7.5",e),Cn(yo,"4.7.5","esm2017")}();const og="functions";class ag{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(hS){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(hS){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const lg="us-central1";class cg{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lg,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new ag(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(s);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=lg}catch(hS){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}const ug="@firebase/functions",hg="0.12.0";!function(e){mn(new tt(og,((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new cg(r,s,i,o,n)}),"PUBLIC").setMultipleInstances(!0)),Cn(ug,hg,e),Cn(ug,hg,"esm2017")}();const dg="firebasestorage.googleapis.com",fg="storageBucket";class pg extends We{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(vg(e),"Firebase Storage: ".concat(t," (").concat(vg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var gg,mg;function vg(e){return"storage/"+e}function yg(){return new pg(gg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function bg(){return new pg(gg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wg(){return new pg(gg.CANCELED,"User canceled the upload/download.")}function _g(){return new pg(gg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Eg(e){return new pg(gg.INVALID_ARGUMENT,e)}function kg(){return new pg(gg.APP_DELETED,"The Firebase app was deleted.")}function Cg(e,t){return new pg(gg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Sg(e){throw new pg(gg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(gg||(gg={}));class xg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=xg.makeFromUrl(e,t)}catch(hS){return new xg(e,"")}if(""===n.path)return n;throw r=e,new pg(gg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===dg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new xg(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new pg(gg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Tg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ig(e){return"string"===typeof e||e instanceof String}function Lg(e){return Pg()&&e instanceof Blob}function Pg(){return"undefined"!==typeof Blob}function Og(e,t,n,r){if(r<t)throw Eg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Eg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ng(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Rg(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ag(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(mg||(mg={}));class Mg{constructor(e,t,n,r,s,i,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Dg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===mg.NO_ERROR,s=n.getStatus();if(!t||Ag(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===mg.ABORT;return void e(!1,new Dg(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Dg(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(hS){r(hS)}else if(null!==s){const e=yg();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?kg():wg())}else{r(bg())}};this.canceled_?t(0,new Dg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){s=setTimeout((()=>{s=null,e(f,l())}),t)}function d(){i&&clearTimeout(i)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function g(e){p||(p=!0,d(),c||(null!==s?(e||(a=2),clearTimeout(s),h(0)):e||(a=1)))}return h(0),i=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Dg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function jg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ug(){const e=jg();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Pg())return new Blob(n);throw new pg(gg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Fg(e){if("undefined"===typeof atob)throw t="base-64",new pg(gg.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const zg="raw",Bg="base64",Vg="base64url",Hg="data_url";class Wg{constructor(e,t){this.data=e,this.contentType=t||null}}function qg(e,t){switch(e){case zg:return new Wg(Kg(t));case Bg:case Vg:return new Wg(Gg(e,t));case Hg:return new Wg(function(e){const t=new Qg(e);return t.base64?Gg(Bg,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(hS){throw Cg(Hg,"Malformed data URL.")}return Kg(t)}(t.rest)}(t),new Qg(t).contentType)}throw yg()}function Kg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Gg(e,t){switch(e){case Bg:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Cg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Vg:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Cg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fg(t)}catch(hS){if(hS.message.includes("polyfill"))throw hS;throw Cg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Qg{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Cg(Hg,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Yg{constructor(e,t){let n=0,r="";Lg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lg(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Yg(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Yg(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Pg()){const e=t.map((e=>e instanceof Yg?e.data_:e));return new Yg(Ug.apply(null,e))}{const e=t.map((e=>Ig(e)?qg(zg,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let s=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]})),new Yg(r,!0)}}uploadData(){return this.data_}}function Xg(e){let t;try{t=JSON.parse(e)}catch(hS){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Zg(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Jg(e,t){return t}class $g{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Jg}}let em=null;function tm(){if(em)return em;const e=[];e.push(new $g("bucket")),e.push(new $g("generation")),e.push(new $g("metageneration")),e.push(new $g("name","fullPath",!0));const t=new $g("name");t.xform=function(e,t){return function(e){return!Ig(e)||e.length<2?e:Zg(e)}(t)},e.push(t);const n=new $g("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new $g("timeCreated")),e.push(new $g("updated")),e.push(new $g("md5Hash",null,!0)),e.push(new $g("cacheControl",null,!0)),e.push(new $g("contentDisposition",null,!0)),e.push(new $g("contentEncoding",null,!0)),e.push(new $g("contentLanguage",null,!0)),e.push(new $g("contentType",null,!0)),e.push(new $g("metadata","customMetadata",!0)),em=e,em}function nm(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new xg(n,r);return t._makeStorageReference(s)}})}(r,e),r}function rm(e,t,n){const r=Xg(t);if(null===r)return null;return nm(e,r,n)}function sm(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class im{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function om(e){if(!e)throw yg()}function am(e,t){return function(n,r){const s=rm(e,r,t);return om(null!==s),s}}function lm(e,t){return function(n,r){const s=rm(e,r,t);return om(null!==s),function(e,t,n,r){const s=Xg(t);if(null===s)return null;if(!Ig(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const o=encodeURIComponent;return i.split(",").map((t=>{const s=e.bucket,i=e.fullPath;return Ng("/b/"+o(s)+"/o/"+o(i),n,r)+Rg({alt:"media",token:t})}))[0]}(s,r,e.host,e._protocol)}}function cm(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new pg(gg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new pg(gg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new pg(gg.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new pg(gg.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function um(e){const t=cm(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new pg(gg.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function hm(e,t,n){const r=Ng(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new im(r,"GET",am(e,n),s);return i.errorHandler=um(t),i}function dm(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fm(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=dm(t,r,s),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sm(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Yg.getBlob(c,r,u);if(null===h)throw _g();const d={name:l.fullPath},f=Ng(i,e.host,e._protocol),p=e.maxUploadRetryTime,g=new im(f,"POST",am(e,n),p);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=cm(t),g}class pm{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function gm(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(hS){om(!1)}return om(!!n&&-1!==(t||["active"]).indexOf(n)),n}const mm=262144;function vm(e,t,n,r,s,i,o,a){const l=new pm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new pg(gg.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;s>0&&(u=Math.min(u,s));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},g=r.slice(h,d);if(null===g)throw _g();const m=t.maxUploadRetryTime,v=new im(n,"POST",(function(e,n){const s=gm(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===s?am(t,i)(e,n):null,new pm(o,a,"final"===s,c)}),m);return v.headers=p,v.body=g.uploadData(),v.progressCallback=a||null,v.errorHandler=cm(e),v}const ym="running",bm="paused",wm="success",_m="canceled",Em="error";function km(e){switch(e){case"running":case"pausing":case"canceling":return ym;case"paused":return bm;case"success":return wm;case"canceled":return _m;default:return Em}}class Cm{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Sm(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class xm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mg.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=mg.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=mg.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Sg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(hS){return-1}}getResponse(){if(!this.sent_)throw Sg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Tm extends xm{initXhr(){this.xhr_.responseType="text"}}function Im(){return new Tm}class Lm{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=tm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(gg.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Ag(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=bg()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(gg.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),o=dm(t,r,s),a={name:o.fullPath},l=Ng(i,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=sm(o,n),h=e.maxUploadRetryTime,d=new im(l,"POST",(function(e){let t;gm(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(hS){om(!1)}return om(Ig(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=cm(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Im,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const s=e.maxUploadRetryTime,i=new im(n,"POST",(function(e){const t=gm(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(hS){om(!1)}n||om(!1);const s=Number(n);return om(!isNaN(s)),new pm(s,r.size(),"final"===t)}),s);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=cm(t),i}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Im,t,n);this._request=s,s.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=mm*this._chunkMultiplier,t=new pm(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,s)=>{let i;try{i=vm(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(hS){return this._error=hS,void this._transition("error")}const o=this._ref.storage._makeRequest(i,Im,r,s,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(mm*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=hm(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Im,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=fm(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Im,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=wg(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=km(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const s=new Cm(t||void 0,n||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(km(this._state)){case wm:Sm(this._resolve.bind(null,this.snapshot))();break;case _m:case Em:Sm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(km(this._state)){case ym:case bm:e.next&&Sm(e.next.bind(e,this.snapshot))();break;case wm:e.complete&&Sm(e.complete.bind(e))();break;default:e.error&&Sm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Pm{constructor(e,t){this._service=e,this._location=t instanceof xg?t:xg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pm(e,t)}get root(){const e=new xg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zg(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new xg(this._location.bucket,e);return new Pm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new pg(gg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Om(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Ng(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new im(r,"GET",lm(e,n),s);return i.errorHandler=um(t),i}(e.storage,e._location,tm());return e.storage.makeRequestWithTokens(t,Im).then((e=>{if(null===e)throw new pg(gg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Nm(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new xg(e._location.bucket,n);return new Pm(e.storage,r)}function Rm(e,t){if(e instanceof Dm){const n=e;if(null==n._bucket)throw new pg(gg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fg+"' property when initializing the app?");const r=new Pm(n,n._bucket);return null!=t?Rm(r,t):r}return void 0!==t?Nm(e,t):e}function Am(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Dm)return new Pm(e,t);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}return Rm(e,t)}function Mm(e,t){const n=null===t||void 0===t?void 0:t[fg];return null==n?null:xg.makeFromBucketSpec(n,e)}class Dm{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=dg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xg.makeFromBucketSpec(r,this._host):Mm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=xg.makeFromBucketSpec(this._url,e):this._bucket=Mm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Og("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Og("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pm(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Tg(kg());{const i=function(e,t,n,r,s,i){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Rg(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Mg(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const jm="@firebase/storage",Um="0.13.4",Fm="storage";function zm(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Lm(e,new Yg(t),n)}(e=et(e),t,n)}function Bm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn(),t=arguments.length>1?arguments[1]:void 0;e=et(e);const n=vn(e,Fm).getImmediate({identifier:t}),r=De("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:ze(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Vm(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Dm(r,s,i,n,_n)}mn(new tt(Fm,Vm,"PUBLIC").setMultipleInstances(!0)),Cn(jm,Um,""),Cn(jm,Um,"esm2017");const Hm=En({apiKey:"AIzaSyDLnwoYRTRKCcPp88lNH2MWyZCPURCzQ8U",authDomain:"brewmap-81a41.firebaseapp.com",projectId:"brewmap-81a41",storageBucket:"brewmap-81a41.firebasestorage.app",messagingSenderId:"253669566802",appId:"1:253669566802:web:eadcdc280860081930f28b",measurementId:"G-C4DB740VQ8"}),Wm=to(),qm=function(e,t){const n="string"==typeof e?e:t||"(default)",r=vn("object"==typeof e?e:kn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=De("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=zf(e,Vf))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==o&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=bo.MOCK_USER;else{t=ze(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Oo(Po.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new bo(i)}e._authCredentials=new Mo(new Ro(t,n))}}(r,...e)}return r}(),Km=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lg;const n=vn(et(e),og).getImmediate({identifier:t}),r=De("functions");r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(et(e),t,n)}(n,...r)}(Hm),Bm(Hm),Gm=e=>({currentUser:null,isLoading:!0,fetchUserInfo:async t=>{if(!t)return e({currentUser:null,isLoading:!1});try{const n=Gf(qm,"LenderUsers",t),r=await Yp(n);r.exists()?e({currentUser:r.data(),isLoading:!1}):e({currentUser:null,isLoading:!1})}catch(n){console.log(n),e({currentUser:null,isLoading:!1})}},initAuthListener:()=>{const t=to();(function(e,t){return et(e).setPersistence(t)})(t,Vs).then((()=>{!function(e,t,n,r){et(e).onAuthStateChanged(t,n,r)}(t,(t=>{e(t?{currentUser:t,isLoading:!1}:{currentUser:null,isLoading:!1})}))})).catch((e=>{console.error("Error setting auth persistence:",e)}))}}),Gm?Te(Gm):Te);var Gm;function Qm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Qm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ym=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Qm(e))&&(r&&(r+=" "),r+=t);return r},Xm=["theme","type","isLoading"],Zm=e=>"number"==typeof e&&!isNaN(e),Jm=e=>"string"==typeof e,$m=e=>"function"==typeof e,ev=e=>Jm(e)||$m(e)?e:null,tv=e=>(0,t.isValidElement)(e)||Jm(e)||$m(e)||Zm(e);function nv(e){let{enter:n,exit:r,appendPosition:s=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d,playToast:f}=e;const p=s?"".concat(n,"--").concat(l):n,g=s?"".concat(r,"--").concat(l):r,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{const e=h.current,t=p.split(" "),n=r=>{r.target===h.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:s}=e;requestAnimationFrame((()=>{s.minHeight="initial",s.height=r+"px",s.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};d||(c?t():(m.current=1,e.className+=" ".concat(g),e.addEventListener("animationend",t)))}),[d]),t.createElement(t.Fragment,null,a)}}function rv(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const sv=new Map;let iv=[];const ov=new Set,av=e=>ov.forEach((t=>t(e))),lv=()=>sv.size>0;function cv(e,t){var n;if(t)return!(null==(n=sv.get(t))||!n.isToastActive(e));let r=!1;return sv.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function uv(e,t){tv(e)&&(lv()||iv.push({content:e,options:t}),sv.forEach((n=>{n.buildToast(e,t)})))}function hv(e,t){sv.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function dv(e){const{subscribe:n,getSnapshot:r,setProps:s}=(0,t.useRef)(function(e){const n=e.containerId||1;return{subscribe(r){const s=function(e,n,r){let s=1,i=0,o=[],a=[],l=[],c=n;const u=new Map,h=new Set,d=()=>{l=Array.from(u.values()),h.forEach((e=>e()))},f=e=>{a=null==e?[]:a.filter((t=>t!==e)),d()},p=e=>{const{toastId:n,onOpen:s,updateId:i,children:o}=e.props,l=null==i;e.staleId&&u.delete(e.staleId),u.set(n,e),a=[...a,e.props.toastId].filter((t=>t!==e.staleId)),d(),r(rv(e,l?"added":"updated")),l&&$m(s)&&s((0,t.isValidElement)(o)&&o.props)};return{id:e,props:c,observe:e=>(h.add(e),()=>h.delete(e)),toggle:(e,t)=>{u.forEach((n=>{null!=t&&t!==n.props.toastId||$m(n.toggle)&&n.toggle(e)}))},removeToast:f,toasts:u,clearQueue:()=>{i-=o.length,o=[]},buildToast:(n,a)=>{if((t=>{let{containerId:n,toastId:r,updateId:s}=t;const i=n?n!==e:1!==e,o=u.has(r)&&null==s;return i||o})(a))return;const{toastId:l,updateId:h,data:g,staleId:m,delay:v}=a,y=()=>{f(l)},b=null==h;b&&i++;const w=mt(mt(mt({},c),{},{style:c.toastStyle,key:s++},Object.fromEntries(Object.entries(a).filter((e=>{let[t,n]=e;return null!=n})))),{},{toastId:l,updateId:h,data:g,closeToast:y,isIn:!1,className:ev(a.className||c.toastClassName),bodyClassName:ev(a.bodyClassName||c.bodyClassName),progressClassName:ev(a.progressClassName||c.progressClassName),autoClose:!a.isLoading&&(_=a.autoClose,E=c.autoClose,!1===_||Zm(_)&&_>0?_:E),deleteToast(){const e=u.get(l),{onClose:n,children:s}=e.props;$m(n)&&n((0,t.isValidElement)(s)&&s.props),r(rv(e,"removed")),u.delete(l),i--,i<0&&(i=0),o.length>0?p(o.shift()):d()}});var _,E;w.closeButton=c.closeButton,!1===a.closeButton||tv(a.closeButton)?w.closeButton=a.closeButton:!0===a.closeButton&&(w.closeButton=!tv(c.closeButton)||c.closeButton);let k=n;(0,t.isValidElement)(n)&&!Jm(n.type)?k=(0,t.cloneElement)(n,{closeToast:y,toastProps:w,data:g}):$m(n)&&(k=n({closeToast:y,toastProps:w,data:g}));const C={content:k,props:w,staleId:m};c.limit&&c.limit>0&&i>c.limit&&b?o.push(C):Zm(v)?setTimeout((()=>{p(C)}),v):p(C)},setProps(e){c=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>a.some((t=>t===e)),getSnapshot:()=>l}}(n,e,av);sv.set(n,s);const i=s.observe(r);return iv.forEach((e=>uv(e.content,e.options))),iv=[],()=>{i(),sv.delete(n)}},setProps(e){var t;null==(t=sv.get(n))||t.setProps(e)},getSnapshot(){var e;return null==(e=sv.get(n))?void 0:e.getSnapshot()}}}(e)).current;s(e);const i=(0,t.useSyncExternalStore)(n,r,r);return{getToastToRender:function(t){if(!i)return[];const n=new Map;return e.newestOnTop&&i.reverse(),i.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:cv,count:null==i?void 0:i.length}}function fv(e){let{delay:n,isRunning:r,closeToast:s,type:i="default",hide:o,className:a,style:l,controlledProgress:c,progress:u,rtl:h,isIn:d,theme:f}=e;const p=o||c&&0===u,g=mt(mt({},l),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"});c&&(g.transform="scaleX(".concat(u,")"));const m=Ym("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(i),{"Toastify__progress-bar--rtl":h}),v=$m(a)?a({rtl:h,type:i,defaultClassName:m}):Ym(m,a),y={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&s()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(f," Toastify__progress-bar--").concat(i)}),t.createElement("div",mt({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:g},y)))}let pv=1;const gv=()=>""+pv++;function mv(e){return e&&(Jm(e.toastId)||Zm(e.toastId))?e.toastId:gv()}function vv(e,t){return uv(e,t),t.toastId}function yv(e,t){return mt(mt({},t),{},{type:t&&t.type||e,toastId:mv(t)})}function bv(e){return(t,n)=>vv(t,yv(e,n))}function wv(e,t){return vv(e,yv("default",t))}wv.loading=(e,t)=>vv(e,yv("default",mt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),wv.promise=function(e,t,n){let r,{pending:s,error:i,success:o}=t;s&&(r=Jm(s)?wv.loading(s,n):wv.loading(s.render,mt(mt({},n),s)));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void wv.dismiss(r);const i=mt(mt(mt({type:e},a),n),{},{data:s}),o=Jm(t)?{render:t}:t;return r?wv.update(r,mt(mt({},i),o)):wv(o.render,mt(mt({},i),o)),s},c=$m(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",i,e))),c},wv.success=bv("success"),wv.info=bv("info"),wv.error=bv("error"),wv.warning=bv("warning"),wv.warn=wv.warning,wv.dark=(e,t)=>vv(e,yv("default",mt({theme:"dark"},t))),wv.dismiss=function(e){!function(e){var t;if(lv()){if(null==e||Jm(t=e)||Zm(t))sv.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=sv.get(e.containerId);t?t.removeToast(e.id):sv.forEach((t=>{t.removeToast(e.id)}))}}else iv=iv.filter((t=>null!=e&&t.options.toastId!==e))}(e)},wv.clearWaitingQueue=function(e){void 0===e&&(e={}),sv.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},wv.isActive=cv,wv.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=sv.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:s}=n,i=mt(mt(mt({delay:100},r),t),{},{toastId:t.toastId||e,updateId:gv()});i.toastId!==e&&(i.staleId=e);const o=i.render||s;delete i.render,vv(o,i)}},wv.done=e=>{wv.update(e,{progress:1})},wv.onChange=function(e){return ov.add(e),()=>{ov.delete(e)}},wv.play=e=>hv(!0,e),wv.pause=e=>hv(!1,e);const _v="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Ev=e=>{let{theme:n,type:r,isLoading:s}=e,i=function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,Xm);return t.createElement("svg",mt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},kv={info:function(e){return t.createElement(Ev,mt({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Ev,mt({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Ev,mt({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Ev,mt({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}},Cv=e=>{const{isRunning:n,preventExitTransition:r,toastRef:s,eventHandlers:i,playToast:o}=function(e){const[n,r]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1),o=(0,t.useRef)(null),a=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:d}=e;var f,p;function g(){r(!0)}function m(){r(!1)}function v(t){const r=o.current;a.canDrag&&r&&(a.didMove=!0,n&&m(),a.delta="x"===e.draggableDirection?t.clientX-a.start:t.clientY-a.start,a.start!==t.clientX&&(a.canCloseOnClick=!1),r.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(a.delta,"px, var(--y)"):"0, calc(".concat(a.delta,"px + var(--y))"),",0)"),r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function y(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y);const t=o.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(p=sv.get((f={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))||p.setToggle(f.id,f.fn),(0,t.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",y);const n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:r,left:s,right:i}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?m():g()}};return l&&c&&(b.onMouseEnter=m,e.stacked||(b.onMouseLeave=g)),d&&(b.onClick=e=>{h&&h(e),a.canCloseOnClick&&u()}),{playToast:g,pauseToast:m,isRunning:n,preventExitTransition:s,toastRef:o,eventHandlers:b}}(e),{closeButton:a,children:l,autoClose:c,onClick:u,type:h,hideProgressBar:d,closeToast:f,transition:p,position:g,className:m,style:v,bodyClassName:y,bodyStyle:b,progressClassName:w,progressStyle:_,updateId:E,role:k,progress:C,rtl:S,toastId:x,deleteToast:T,isIn:I,isLoading:L,closeOnClick:P,theme:O}=e,N=Ym("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":P}),R=$m(m)?m({rtl:S,position:g,type:h,defaultClassName:N}):Ym(N,m),A=function(e){let{theme:n,type:r,isLoading:s,icon:i}=e,o=null;const a={theme:n,type:r};return!1===i||($m(i)?o=i(mt(mt({},a),{},{isLoading:s})):(0,t.isValidElement)(i)?o=(0,t.cloneElement)(i,a):s?o=kv.spinner():(e=>e in kv)(r)&&(o=kv[r](a))),o}(e),M=!!C||!c,D={closeToast:f,type:h,theme:O};let j=null;return!1===a||(j=$m(a)?a(D):(0,t.isValidElement)(a)?(0,t.cloneElement)(a,D):function(e){let{closeToast:n,theme:r,ariaLabel:s="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(e)},"aria-label":s},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),t.createElement(p,{isIn:I,done:T,position:g,preventExitTransition:r,nodeRef:s,playToast:o},t.createElement("div",mt(mt({id:x,onClick:u,"data-in":I,className:R},i),{},{style:v,ref:s}),t.createElement("div",mt(mt({},I&&{role:k}),{},{className:$m(y)?y({type:h}):Ym("Toastify__toast-body",y),style:b}),null!=A&&t.createElement("div",{className:Ym("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},A),t.createElement("div",null,l)),j,t.createElement(fv,mt(mt({},E&&!M?{key:"pb-".concat(E)}:{}),{},{rtl:S,theme:O,delay:c,isRunning:n,isIn:I,closeToast:f,hide:d,type:h,style:_,className:w,controlledProgress:M,progress:C||0}))))},Sv=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},xv=nv(Sv("bounce",!0)),Tv=(nv(Sv("slide",!0)),nv(Sv("zoom")),nv(Sv("flip")),{position:"top-right",transition:xv,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function Iv(e){let n=mt(mt({},Tv),e);const r=e.stacked,[s,i]=(0,t.useState)(!0),o=(0,t.useRef)(null),{getToastToRender:a,isToastActive:l,count:c}=dv(n),{className:u,style:h,rtl:d,containerId:f}=n;function p(e){const t=Ym("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":d});return $m(u)?u({position:e,rtl:d,defaultClassName:t}):Ym(t,ev(u))}function g(){r&&(i(!0),wv.play())}return _v((()=>{if(r){var e;const t=o.current.querySelectorAll('[data-in="true"]'),r=12,i=null==(e=n.position)?void 0:e.includes("top");let a=0,l=0;Array.from(t).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(s)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");const o=a*(s?.2:1)+(s?0:r*t);n.style.setProperty("--y","".concat(i?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s",""+(1-(s?l:0))),a+=n.offsetHeight,l+=.025}))}}),[s,c,r]),t.createElement("div",{ref:o,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),wv.pause())},onMouseLeave:g},a(((e,n)=>{const s=n.length?mt({},h):mt(mt({},h),{},{pointerEvents:"none"});return t.createElement("div",{className:p(e),style:s,key:"container-".concat(e)},n.map((e=>{let{content:n,props:s}=e;return t.createElement(Cv,mt(mt({},s),{},{stacked:r,collapseAll:g,isIn:l(s.toastId,s.containerId),style:s.style,key:"toast-".concat(s.key)}),n)})))})))}var Lv=n(579);const Pv=e=>{let{selections:t}=e;return(0,Lv.jsx)("div",{children:t.map(((e,t)=>{let{label:n,options:r,selectedValue:s,onChange:i}=e;return(0,Lv.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,Lv.jsx)("h2",{children:n}),(0,Lv.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem",padding:"0.5rem",backgroundColor:"#f9f9f9",borderRadius:"0.5rem"},children:r.map((e=>(0,Lv.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:"0.25rem"},children:[(0,Lv.jsx)("input",{type:"radio",value:e,checked:s===e,onChange:()=>i(e),style:{marginRight:"0.5rem"}}),e]},e)))})]},t)}))})},Ov=e=>{let{navigate:n}=e;const[r,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[_,E]=(0,t.useState)(""),[k,C]=(0,t.useState)(""),[S,x]=(0,t.useState)(""),[T,I]=(0,t.useState)(""),[L,P]=(0,t.useState)(""),[O,N]=(0,t.useState)(""),[R,A]=(0,t.useState)(""),M=["Cold Brew","Latte","Macchiatto","French Press","Aeropress","Drip Coffee","Pour Over","Cortado","Espresso","Flat White","Americano","Other"],D=["Hot","Cold"],j=["Black","Oat","Almond","Cow","Cashew","Coconut","Flax"],U=[{label:"Roast Preference",options:["Light","Medium","Dark"],selectedValue:f,onChange:p},{label:"Cafe Drink",options:M,selectedValue:g,onChange:m},{label:"Cafe Milk",options:j,selectedValue:v,onChange:y},{label:"Cafe Temperature",options:D,selectedValue:b,onChange:w},{label:"Home Drink",options:M,selectedValue:k,onChange:C},{label:"Home Milk",options:j,selectedValue:S,onChange:x},{label:"Home Temperature",options:D,selectedValue:T,onChange:I}];return(0,Lv.jsx)("div",{className:"signup",children:(0,Lv.jsxs)("div",{className:"signup-container",children:[(0,Lv.jsx)("h3",{children:"Create an Account"}),(0,Lv.jsx)(Iv,{position:"top-right"}),(0,Lv.jsxs)("form",{className:"signup-form",onSubmit:async e=>{e.preventDefault();try{const e=await async function(e,t,n){if(yn(e.app))return Promise.reject(Wn(e));const r=Yr(e),s=is(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ts,"EMAIL_PASSWORD_PROVIDER"),i=await s.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ds(e),t})),o=await Is._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(Wm,r,i),t=e.user;await Jp(Gf(qm,"BrewUsers",t.uid),{email:r,id:t.uid,firstName:c,lastName:h,is_active:!0,selectedRoast:f,cafeDrink:g,cafeMilk:v,cafeTemp:b,favCafe:_,homeDrink:k,homeMilk:S,homeTemp:T,yourCity:L,yourState:O,about:R}),await Jp(Gf(qm,"BrewBadges",t.uid),{id:t.uid,firstName:c,lastName:h,photos:0,cafes:0,reviews:0,cities:[]}),await Jp(Gf(qm,"Friends",t.uid),{id:t.uid,friends:[]}),await js(Wm),s(""),o(""),l(""),u(""),d(""),p(""),m(""),y(""),w(""),E(""),C(""),x(""),I(""),P(""),N(""),A(""),wv.success("Account Created!"),setTimeout((()=>{n("/login")}),500)}catch(t){console.error("Error during user registration:",t),wv.error(t.message)}},children:[(0,Lv.jsxs)("label",{children:["First Name:",(0,Lv.jsx)("input",{type:"text",name:"firstName",placeholder:"Enter first name",value:c,onChange:e=>u(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["Last Name:",(0,Lv.jsx)("input",{type:"text",name:"lastName",placeholder:"Enter last name",value:h,onChange:e=>d(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["Email:",(0,Lv.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:r,onChange:e=>s(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["Password:",(0,Lv.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",value:i,onChange:e=>o(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["Confirm Password:",(0,Lv.jsx)("input",{type:"password",name:"verify_password",placeholder:"Confirm password",value:a,onChange:e=>l(e.target.value)})]}),(0,Lv.jsx)(Pv,{selections:U}),(0,Lv.jsxs)("label",{children:["Favorite Cafe:",(0,Lv.jsx)("input",{type:"text",name:"favCafe",placeholder:"Favorite Cafe",value:_,onChange:e=>E(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["Your City:",(0,Lv.jsx)("input",{type:"text",name:"yourCity",placeholder:"Your City",value:L,onChange:e=>P(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["Your State:",(0,Lv.jsx)("input",{type:"text",name:"yourState",placeholder:"Your State",value:O,onChange:e=>N(e.target.value)})]}),(0,Lv.jsxs)("label",{children:["About You:",(0,Lv.jsx)("textarea",{name:"about",placeholder:"Tell us about yourself",value:R,onChange:e=>A(e.target.value)})]}),(0,Lv.jsx)("button",{type:"submit",children:"Create User"})]}),(0,Lv.jsx)("em",{onClick:()=>{n("/login")},children:"Already have an account?"})]})})},Nv={latte_brown:"#806D5B",espresso_brown:"#4f3e31",white:"#ffffff",light_grey:"#bdb6b6",grey:"#928c8c",dark_grey:"#28292b",black:"#000000",red:"#ff5b57"},Rv={button:{width:"12rem",height:"2.8rem",backgroundColor:Nv.latte_brown,color:Nv.white,fontSize:"1.3rem",display:"flex",alignItems:"center",justifyContent:"center",border:"none",borderRadius:"25px",cursor:"pointer",boxShadow:"-1px 1px 0px ".concat(Nv.espresso_brown)}},Av=e=>{let{text:t,type:n="button"}=e;return(0,Lv.jsx)("button",{type:n,style:Rv.button,children:t})},Mv=e=>{let{navigate:n}=e;const[r,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),{currentUser:a}=Km();return(0,Lv.jsx)("div",{className:"auth_user",children:(0,Lv.jsxs)("div",{className:"auth_user_container",children:[(0,Lv.jsx)("h3",{children:"Log Into BrewMap"}),(0,Lv.jsx)(Iv,{position:"bottom-right"}),(0,Lv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await function(e,t,n){return yn(e.app)?Promise.reject(Wn(e)):Ms(et(e),ws.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Ds(e),t}))}(Wm,r,i),t=e.user;localStorage.setItem("authToken",t.accessToken);const s=Gf(qm,"BrewUsers",t.uid);await Yp(s),n("/home")}catch(t){console.error("Error during login:",t.message||t),wv.error("Login error. Please check your credentials and try again.")}},className:"login-form",children:[(0,Lv.jsxs)("div",{className:"signin_form",children:[(0,Lv.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",value:r,onChange:e=>s(e.target.value),className:"input_styling"}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("input",{type:"password",name:"password",placeholder:"Enter a password",value:i,onChange:e=>o(e.target.value),className:"input_styling"}),(0,Lv.jsx)("br",{})]}),(0,Lv.jsx)(Av,{text:"Log In",type:"submit"})]}),(0,Lv.jsx)("p",{style:{color:"black",textDecoration:"underline",fontSize:"13px",lineHeight:"7px",cursor:"pointer"},onClick:()=>{n("/forgotpassword")},children:(0,Lv.jsx)("em",{children:"Forgot Password?"})}),(0,Lv.jsx)("p",{style:{color:"black",textDecoration:"underline",fontSize:"13px",lineHeight:"7px",cursor:"pointer"},onClick:()=>{n("/register")},children:(0,Lv.jsx)("em",{children:"Create Account"})})]})})},Dv=e=>{let{onSearch:n}=e;const[r,s]=(0,t.useState)("");return(0,Lv.jsx)("div",{style:{marginTop:"2rem",marginLeft:".6rem",backgroundColor:"none",zIndex:"10",position:"absolute"},children:(0,Lv.jsx)("input",{type:"text",placeholder:"Enter city name...",value:r,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&r.trim()&&n(r)},style:{padding:"0.5rem",width:"200px",marginRight:"0.5rem",borderRadius:"4px",border:"1px solid #ccc"}})})};function jv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(n),!0).forEach((function(t){jv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const zv=()=>{};let Bv={},Vv={},Hv=null,Wv={mark:zv,measure:zv};try{"undefined"!==typeof window&&(Bv=window),"undefined"!==typeof document&&(Vv=document),"undefined"!==typeof MutationObserver&&(Hv=MutationObserver),"undefined"!==typeof performance&&(Wv=performance)}catch(hS){}const{userAgent:qv=""}=Bv.navigator||{},Kv=Bv,Gv=Vv,Qv=Hv,Yv=Wv,Xv=(Kv.document,!!Gv.documentElement&&!!Gv.head&&"function"===typeof Gv.addEventListener&&"function"===typeof Gv.createElement),Zv=~qv.indexOf("MSIE")||~qv.indexOf("Trident/");var Jv={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},$v=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ey="classic",ty="duotone",ny=[ey,ty,"sharp","sharp-duotone"],ry=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),sy=["fak","fa-kit","fakd","fa-kit-duotone"],iy={fak:"kit","fa-kit":"kit"},oy={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},ay=["fak","fakd"],ly={kit:"fak"},cy={"kit-duotone":"fakd"},uy={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},hy=["fak","fa-kit","fakd","fa-kit-duotone"],dy={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},fy=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],py=[1,2,3,4,5,6,7,8,9,10],gy=py.concat([11,12,13,14,15,16,17,18,19,20]),my=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",uy.GROUP,uy.SWAP_OPACITY,uy.PRIMARY,uy.SECONDARY].concat(py.map((e=>"".concat(e,"x")))).concat(gy.map((e=>"w-".concat(e))));const vy="___FONT_AWESOME___",yy=16,by="svg-inline--fa",wy="data-fa-i2svg",_y="data-fa-pseudo-element",Ey="data-prefix",ky="data-icon",Cy="fontawesome-i2svg",Sy=["HTML","HEAD","STYLE","SCRIPT"],xy=(()=>{try{return!0}catch(e){return!1}})();function Ty(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[ey]})}const Iy=Fv({},Jv);Iy[ey]=Fv(Fv(Fv(Fv({},{"fa-duotone":"duotone"}),Jv[ey]),iy),oy);const Ly=Ty(Iy),Py=Fv({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});Py[ey]=Fv(Fv(Fv(Fv({},{duotone:"fad"}),Py[ey]),ly),cy);const Oy=Ty(Py),Ny=Fv({},dy);Ny[ey]=Fv(Fv({},Ny[ey]),{fak:"fa-kit"});const Ry=Ty(Ny),Ay=Fv({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});Ay[ey]=Fv(Fv({},Ay[ey]),{"fa-kit":"fak"});Ty(Ay);const My=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Dy="fa-layers-text",jy=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Uy=(Ty(Fv({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),Fy={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zy=["kit",...my],By=Kv.FontAwesomeConfig||{};if(Gv&&"function"===typeof Gv.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Gv.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(By[n]=r)}))}const Vy={styleDefault:"solid",familyDefault:ey,cssPrefix:"fa",replacementClass:by,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};By.familyPrefix&&(By.cssPrefix=By.familyPrefix);const Hy=Fv(Fv({},Vy),By);Hy.autoReplaceSvg||(Hy.observeMutations=!1);const Wy={};Object.keys(Vy).forEach((e=>{Object.defineProperty(Wy,e,{enumerable:!0,set:function(t){Hy[e]=t,qy.forEach((e=>e(Wy)))},get:function(){return Hy[e]}})})),Object.defineProperty(Wy,"familyPrefix",{enumerable:!0,set:function(e){Hy.cssPrefix=e,qy.forEach((e=>e(Wy)))},get:function(){return Hy.cssPrefix}}),Kv.FontAwesomeConfig=Wy;const qy=[];const Ky=yy,Gy={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Qy(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Yy(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Xy(e){return e.classList?Yy(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function Zy(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Jy(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function $y(e){return e.size!==Gy.size||e.x!==Gy.x||e.y!==Gy.y||e.rotate!==Gy.rotate||e.flipX||e.flipY}function eb(){const e="fa",t=by,n=Wy.cssPrefix,r=Wy.replacementClass;let s=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}let tb=!1;function nb(){Wy.autoAddCss&&!tb&&(!function(e){if(!e||!Xv)return;const t=Gv.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Gv.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const e=n[s],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}Gv.head.insertBefore(t,r)}(eb()),tb=!0)}var rb={mixout:()=>({dom:{css:eb,insertCss:nb}}),hooks:()=>({beforeDOMElementCreation(){nb()},beforeI2svg(){nb()}})};const sb=Kv||{};sb[vy]||(sb[vy]={}),sb[vy].styles||(sb[vy].styles={}),sb[vy].hooks||(sb[vy].hooks={}),sb[vy].shims||(sb[vy].shims=[]);var ib=sb[vy];const ob=[],ab=function(){Gv.removeEventListener("DOMContentLoaded",ab),lb=1,ob.map((e=>e()))};let lb=!1;function cb(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?Zy(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(Zy(e[n]),'" ')),"").trim()}(n),">").concat(r.map(cb).join(""),"</").concat(t,">")}function ub(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Xv&&(lb=(Gv.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Gv.readyState),lb||Gv.addEventListener("DOMContentLoaded",ab));var hb=function(e,t,n,r){var s,i,o,a=Object.keys(e),l=a.length,c=void 0!==r?function(e,t){return function(n,r,s,i){return e.call(t,n,r,s,i)}}(t,r):t;for(void 0===n?(s=1,o=e[a[0]]):(s=0,o=n);s<l;s++)o=c(o,e[i=a[s]],i,e);return o};function db(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&s)<<10)+(1023&r)+65536):(t.push(s),n--)}else t.push(s)}return t}(e);return 1===t.length?t[0].toString(16):null}function fb(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function pb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,s=fb(t);"function"!==typeof ib.hooks.addPack||r?ib.styles[e]=Fv(Fv({},ib.styles[e]||{}),s):ib.hooks.addPack(e,fb(t)),"fas"===e&&pb("fa",t)}const{styles:gb,shims:mb}=ib,vb=Object.keys(Ry),yb=vb.reduce(((e,t)=>(e[t]=Object.keys(Ry[t]),e)),{});let bb=null,wb={},_b={},Eb={},kb={},Cb={};function Sb(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r!==e||""===s||(i=s,~zy.indexOf(i))?null:s;var i}const xb=()=>{const e=e=>hb(gb,((t,n,r)=>(t[r]=hb(n,e,{}),t)),{});wb=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),_b=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Cb=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in gb||Wy.autoFetchSvg,n=hb(mb,((e,n)=>{const r=n[0];let s=n[1];const i=n[2];return"far"!==s||t||(s="fas"),"string"===typeof r&&(e.names[r]={prefix:s,iconName:i}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:s,iconName:i}),e}),{names:{},unicodes:{}});Eb=n.names,kb=n.unicodes,bb=Nb(Wy.styleDefault,{family:Wy.familyDefault})};var Tb;function Ib(e,t){return(wb[e]||{})[t]}function Lb(e,t){return(Cb[e]||{})[t]}function Pb(e){return Eb[e]||{prefix:null,iconName:null}}function Ob(){return bb}Tb=e=>{bb=Nb(e.styleDefault,{family:Wy.familyDefault})},qy.push(Tb),xb();function Nb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=ey}=t,r=Ly[n][e];if(n===ty&&!e)return"fad";const s=Oy[n][e]||Oy[n][r],i=e in ib.styles?e:null;return s||i||null}function Rb(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function Ab(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=fy.concat(hy),i=Rb(e.filter((e=>s.includes(e)))),o=Rb(e.filter((e=>!fy.includes(e)))),a=i.filter((e=>(r=e,!$v.includes(e)))),[l=null]=a,c=function(e){let t=ey;const n=vb.reduce(((e,t)=>(e[t]="".concat(Wy.cssPrefix,"-").concat(t),e)),{});return ny.forEach((r=>{(e.includes(n[r])||e.some((e=>yb[r].includes(e))))&&(t=r)})),t}(i),u=Fv(Fv({},function(e){let t=[],n=null;return e.forEach((e=>{const r=Sb(Wy.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(o)),{},{prefix:Nb(l,{family:c})});return Fv(Fv(Fv({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:i={},config:o={}}=e,a=n===ty,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===o.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!a&&(l||c||u)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&Mb.includes(n)){if(Object.keys(i).find((e=>Db.includes(e)))||o.autoFetchSvg){const e=ry.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=Lb(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==s||(r.prefix=Ob()||"fas");return r}({values:e,family:c,styles:gb,config:Wy,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const i="fa"===t?Pb(s):{},o=Lb(r,s);s=i.iconName||o||s,r=i.prefix||r,"far"!==r||gb.far||!gb.fas||Wy.autoFetchSvg||(r="fas");return{prefix:r,iconName:s}}(n,r,u))}const Mb=ny.filter((e=>e!==ey||e!==ty)),Db=Object.keys(dy).filter((e=>e!==ey)).map((e=>Object.keys(dy[e]))).flat();let jb=[],Ub={};const Fb={},zb=Object.keys(Fb);function Bb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Ub[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function Vb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Ub[e]||[]).forEach((e=>{e.apply(null,n)}))}function Hb(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Fb[e]?Fb[e].apply(null,t):void 0}function Wb(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Ob();if(t)return t=Lb(n,t)||t,ub(qb.definitions,n,t)||ub(ib.styles,n,t)}const qb=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=Fv(Fv({},this.definitions[e]||{}),r[e]),pb(e,r[e]);const t=Ry[ey][e];t&&pb(t,r[e]),xb()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:s,icon:i}=n[t],o=i[2];e[r]||(e[r]={}),o.length>0&&o.forEach((t=>{"string"===typeof t&&(e[r][t]=i)})),e[r][s]=i})),e}},Kb={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xv?(Vb("beforeI2svg",e),Hb("pseudoElements2svg",e),Hb("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===Wy.autoReplaceSvg&&(Wy.autoReplaceSvg=!0),Wy.observeMutations=!0,n=()=>{Yb({autoReplaceSvgRoot:t}),Vb("watch",e)},Xv&&(lb?setTimeout(n,0):ob.push(n))}},Gb={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Lb(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Nb(e[0]);return{prefix:n,iconName:Lb(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Wy.cssPrefix,"-"))>-1||e.match(My))){const t=Ab(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Ob(),iconName:Lb(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=Ob();return{prefix:t,iconName:Lb(t,e)||e}}}},Qb={noAuto:()=>{Wy.autoReplaceSvg=!1,Wy.observeMutations=!1,Vb("noAuto")},config:Wy,dom:Kb,parse:Gb,library:qb,findIconDefinition:Wb,toHtml:cb},Yb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=Gv}=e;(Object.keys(ib.styles).length>0||Wy.autoFetchSvg)&&Xv&&Wy.autoReplaceSvg&&Qb.dom.i2svg({node:t})};function Xb(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>cb(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!Xv)return;const t=Gv.createElement("div");return t.innerHTML=e.html,t.children}}),e}function Zb(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:a,maskId:l,titleId:c,extra:u,watchable:h=!1}=e,{width:d,height:f}=n.found?n:t,p=ay.includes(r),g=[Wy.replacementClass,s?"".concat(Wy.cssPrefix,"-").concat(s):""].filter((e=>-1===u.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(u.classes).join(" ");let m={children:[],attributes:Fv(Fv({},u.attributes),{},{"data-prefix":r,"data-icon":s,class:g,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(f)})};const v=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(d/f*16*.0625,"em")}:{};h&&(m.attributes[wy]=""),a&&(m.children.push({tag:"title",attributes:{id:m.attributes["aria-labelledby"]||"title-".concat(c||Qy())},children:[a]}),delete m.attributes.title);const y=Fv(Fv({},m),{},{prefix:r,iconName:s,main:t,mask:n,maskId:l,transform:i,symbol:o,styles:Fv(Fv({},v),u.styles)}),{children:b,attributes:w}=n.found&&t.found?Hb("generateAbstractMask",y)||{children:[],attributes:{}}:Hb("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=b,y.attributes=w,o?function(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:i}=e;const o=!0===i?"".concat(t,"-").concat(Wy.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Fv(Fv({},s),{},{id:o}),children:r}]}]}(y):function(e){let{children:t,main:n,mask:r,attributes:s,styles:i,transform:o}=e;if($y(o)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};s.style=Jy(Fv(Fv({},i),{},{"transform-origin":"".concat(r.x+o.x/16,"em ").concat(r.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}(y)}function Jb(e){const{content:t,width:n,height:r,transform:s,title:i,extra:o,watchable:a=!1}=e,l=Fv(Fv(Fv({},o.attributes),i?{title:i}:{}),{},{class:o.classes.join(" ")});a&&(l[wy]="");const c=Fv({},o.styles);$y(s)&&(c.transform=function(e){let{transform:t,width:n=yy,height:r=yy,startCentered:s=!1}=e,i="";return i+=s&&Zv?"translate(".concat(t.x/Ky-n/2,"em, ").concat(t.y/Ky-r/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Ky,"em), calc(-50% + ").concat(t.y/Ky,"em)) "):"translate(".concat(t.x/Ky,"em, ").concat(t.y/Ky,"em) "),i+="scale(".concat(t.size/Ky*(t.flipX?-1:1),", ").concat(t.size/Ky*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}({transform:s,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=Jy(c);u.length>0&&(l.style=u);const h=[];return h.push({tag:"span",attributes:l,children:[t]}),i&&h.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),h}const{styles:$b}=ib;function ew(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return s=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Wy.cssPrefix,"-").concat(Fy.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Wy.cssPrefix,"-").concat(Fy.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Wy.cssPrefix,"-").concat(Fy.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const tw={found:!1,width:512,height:512};function nw(e,t){let n=t;return"fa"===t&&null!==Wy.styleDefault&&(t=Ob()),new Promise(((r,s)=>{if("fa"===n){const n=Pb(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&$b[t]&&$b[t][e]){return r(ew($b[t][e]))}!function(e,t){xy||Wy.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Fv(Fv({},tw),{},{icon:Wy.showMissingIcons&&e&&Hb("missingIconAbstract")||{}}))}))}const rw=()=>{},sw=Wy.measurePerformance&&Yv&&Yv.mark&&Yv.measure?Yv:{mark:rw,measure:rw},iw='FA "6.7.2"',ow=e=>{sw.mark("".concat(iw," ").concat(e," ends")),sw.measure("".concat(iw," ").concat(e),"".concat(iw," ").concat(e," begins"),"".concat(iw," ").concat(e," ends"))};var aw=e=>(sw.mark("".concat(iw," ").concat(e," begins")),()=>ow(e));const lw=()=>{};function cw(e){return"string"===typeof(e.getAttribute?e.getAttribute(wy):null)}function uw(e){return Gv.createElementNS("http://www.w3.org/2000/svg",e)}function hw(e){return Gv.createElement(e)}function dw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?uw:hw)}=t;if("string"===typeof e)return Gv.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(dw(e,{ceFn:n}))})),r}const fw={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(dw(e),t)})),null===t.getAttribute(wy)&&Wy.keepOriginalSource){let e=Gv.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Xy(t).indexOf(Wy.replacementClass))return fw.replace(e);const r=new RegExp("".concat(Wy.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===Wy.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const s=n.map((e=>cb(e))).join("\n");t.setAttribute(wy,""),t.innerHTML=s}};function pw(e){e()}function gw(e,t){const n="function"===typeof t?t:lw;if(0===e.length)n();else{let t=pw;"async"===Wy.mutateApproach&&(t=Kv.requestAnimationFrame||pw),t((()=>{const t=!0===Wy.autoReplaceSvg?fw.replace:fw[Wy.autoReplaceSvg]||fw.replace,r=aw("mutate");e.map(t),r(),n()}))}}let mw=!1;function vw(){mw=!0}function yw(){mw=!1}let bw=null;function ww(e){if(!Qv)return;if(!Wy.observeMutations)return;const{treeCallback:t=lw,nodeCallback:n=lw,pseudoElementsCallback:r=lw,observeMutationsRoot:s=Gv}=e;bw=new Qv((e=>{if(mw)return;const s=Ob();Yy(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!cw(e.addedNodes[0])&&(Wy.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&Wy.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&cw(e.target)&&~Uy.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Ey):null,n=e.getAttribute?e.getAttribute(ky):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=Ab(Xy(e.target));e.target.setAttribute(Ey,t||s),n&&e.target.setAttribute(ky,n)}else(i=e.target)&&i.classList&&i.classList.contains&&i.classList.contains(Wy.replacementClass)&&n(e.target);var i}))})),Xv&&bw.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function _w(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let s=Ab(Xy(e));return s.prefix||(s.prefix=Ob()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=function(e,t){return(_b[e]||{})[t]}(s.prefix,e.innerText)||Ib(s.prefix,db(e.innerText))),!s.iconName&&Wy.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function Ew(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=_w(e),i=function(e){const t=Yy(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Wy.autoA11y&&(n?t["aria-labelledby"]="".concat(Wy.replacementClass,"-title-").concat(r||Qy()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=Bb("parseNodeAttributes",{},e);let a=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],s=n.slice(1);return r&&s.length>0&&(e[r]=s.join(":").trim()),e}),{})),n}(e):[];return Fv({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Gy,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:i}},o)}const{styles:kw}=ib;function Cw(e){const t="nest"===Wy.autoReplaceSvg?Ew(e,{styleParser:!1}):Ew(e);return~t.extra.classes.indexOf(Dy)?Hb("generateLayersText",e,t):Hb("generateSvgReplacementMutation",e,t)}function Sw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Xv)return Promise.resolve();const n=Gv.documentElement.classList,r=e=>n.add("".concat(Cy,"-").concat(e)),s=e=>n.remove("".concat(Cy,"-").concat(e)),i=Wy.autoFetchSvg?[...sy,...fy]:$v.concat(Object.keys(kw));i.includes("fa")||i.push("fa");const o=[".".concat(Dy,":not([").concat(wy,"])")].concat(i.map((e=>".".concat(e,":not([").concat(wy,"])")))).join(", ");if(0===o.length)return Promise.resolve();let a=[];try{a=Yy(e.querySelectorAll(o))}catch(u){}if(!(a.length>0))return Promise.resolve();r("pending"),s("complete");const l=aw("onTree"),c=a.reduce(((e,t)=>{try{const n=Cw(t);n&&e.push(n)}catch(u){xy||"MissingIcon"===u.name&&console.error(u)}return e}),[]);return new Promise(((e,n)=>{Promise.all(c).then((n=>{gw(n,(()=>{r("active"),r("complete"),s("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function xw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Cw(e).then((e=>{e&&gw([e],t)}))}const Tw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Gy,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:a=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:h,iconName:d,icon:f}=e;return Xb(Fv({type:"icon"},e),(()=>(Vb("beforeDOMElementCreation",{iconDefinition:e,params:t}),Wy.autoA11y&&(o?c["aria-labelledby"]="".concat(Wy.replacementClass,"-title-").concat(a||Qy()):(c["aria-hidden"]="true",c.focusable="false")),Zb({icons:{main:ew(f),mask:s?ew(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:d,transform:Fv(Fv({},Gy),n),symbol:r,title:o,maskId:i,titleId:a,extra:{attributes:c,styles:u,classes:l}}))))};var Iw={mixout(){return{icon:(e=Tw,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:Wb(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Wb(s||{})),e(r,Fv(Fv({},n),{},{mask:s}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Sw,e.nodeCallback=xw,e)}),provides(e){e.i2svg=function(e){const{node:t=Gv,callback:n=()=>{}}=e;return Sw(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:s,prefix:i,transform:o,symbol:a,mask:l,maskId:c,extra:u}=t;return new Promise(((t,h)=>{Promise.all([nw(n,i),l.iconName?nw(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[h,d]=l;t([e,Zb({icons:{main:h,mask:d},prefix:i,iconName:n,transform:o,symbol:a,maskId:c,title:r,titleId:s,extra:u,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:s,styles:i}=e;const o=Jy(i);let a;return o.length>0&&(n.style=o),$y(s)&&(a=Hb("generateAbstractTransformGrouping",{main:r,transform:s,containerWidth:r.width,iconWidth:r.width})),t.push(a||r.icon),{children:t,attributes:n}}}},Lw={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return Xb({type:"layer"},(()=>{Vb("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Wy.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},Pw={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=t;return Xb({type:"counter",content:e},(()=>(Vb("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,s=Fv(Fv(Fv({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=Jy(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(Wy.cssPrefix,"-layers-counter"),...r]}}))))}})},Ow={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Gy,title:r=null,classes:s=[],attributes:i={},styles:o={}}=t;return Xb({type:"text",content:e},(()=>(Vb("beforeDOMElementCreation",{content:e,params:t}),Jb({content:e,transform:Fv(Fv({},Gy),n),title:r,extra:{attributes:i,styles:o,classes:["".concat(Wy.cssPrefix,"-layers-text"),...s]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:s}=t;let i=null,o=null;if(Zv){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();i=n.width/t,o=n.height/t}return Wy.autoA11y&&!n&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,Jb({content:e.innerHTML,width:i,height:o,transform:r,title:n,extra:s,watchable:!0})])}}};const Nw=new RegExp('"',"ug"),Rw=[1105920,1112319],Aw=Fv(Fv(Fv(Fv({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),Mw=Object.keys(Aw).reduce(((e,t)=>(e[t.toLowerCase()]=Aw[t],e)),{}),Dw=Object.keys(Mw).reduce(((e,t)=>{const n=Mw[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function jw(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,s)=>{if(null!==e.getAttribute(n))return r();const i=Yy(e.children).filter((e=>e.getAttribute(_y)===t))[0],o=Kv.getComputedStyle(e,t),a=o.getPropertyValue("font-family"),l=a.match(jy),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(i&&!l)return e.removeChild(i),r();if(l&&"none"!==u&&""!==u){const u=o.getPropertyValue("content");let h=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(Mw[n]||{})[s]||Dw[n]}(a,c);const{value:d,isSecondary:f}=function(e){const t=e.replace(Nw,""),n=function(e,t){const n=e.length;let r,s=e.charCodeAt(t);return s>=55296&&s<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(s-55296)+r-56320+65536:s}(t,0),r=n>=Rw[0]&&n<=Rw[1],s=2===t.length&&t[0]===t[1];return{value:db(s?t[0]:t),isSecondary:r||s}}(u),p=l[0].startsWith("FontAwesome");let g=Ib(h,d),m=g;if(p){const e=function(e){const t=kb[e],n=Ib("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);e.iconName&&e.prefix&&(g=e.iconName,h=e.prefix)}if(!g||f||i&&i.getAttribute(Ey)===h&&i.getAttribute(ky)===m)r();else{e.setAttribute(n,m),i&&e.removeChild(i);const o={iconName:null,title:null,titleId:null,prefix:null,transform:Gy,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:a}=o;a.attributes[_y]=t,nw(g,h).then((s=>{const i=Zb(Fv(Fv({},o),{},{icons:{main:s,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:m,extra:a,watchable:!0})),l=Gv.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=i.map((e=>cb(e))).join("\n"),e.removeAttribute(n),r()})).catch(s)}}else r()}))}function Uw(e){return Promise.all([jw(e,"::before"),jw(e,"::after")])}function Fw(e){return e.parentNode!==document.head&&!~Sy.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(_y)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function zw(e){if(Xv)return new Promise(((t,n)=>{const r=Yy(e.querySelectorAll("*")).filter(Fw).map(Uw),s=aw("searchPseudoElements");vw(),Promise.all(r).then((()=>{s(),yw(),t()})).catch((()=>{s(),yw(),n()}))}))}var Bw={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=zw,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=Gv}=e;Wy.searchPseudoElements&&zw(t)}}};let Vw=!1;var Hw={mixout:()=>({dom:{unwatch(){vw(),Vw=!0}}}),hooks:()=>({bootstrap(){ww(Bb("mutationObserverCallbacks",{}))},noAuto(){bw&&bw.disconnect()},watch(e){const{observeMutationsRoot:t}=e;Vw?yw():ww(Bb("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const Ww=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let s=n.slice(1).join("-");if(r&&"h"===s)return e.flipX=!0,e;if(r&&"v"===s)return e.flipY=!0,e;if(s=parseFloat(s),isNaN(s))return e;switch(r){case"grow":e.size=e.size+s;break;case"shrink":e.size=e.size-s;break;case"left":e.x=e.x-s;break;case"right":e.x=e.x+s;break;case"up":e.y=e.y-s;break;case"down":e.y=e.y+s;break;case"rotate":e.rotate=e.rotate+s}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var qw={mixout:()=>({parse:{transform:e=>Ww(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=Ww(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:s}=e;const i={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(l)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:Fv({},c.outer),children:[{tag:"g",attributes:Fv({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Fv(Fv({},t.icon.attributes),c.path)}]}]}}}};const Kw={x:0,y:0,width:"100%",height:"100%"};function Gw(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Qw={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Ab(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Ob()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:s,maskId:i,transform:o}=e;const{width:a,icon:l}=r,{width:c,icon:u}=s,h=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(i," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:a}),d={tag:"rect",attributes:Fv(Fv({},Kw),{},{fill:"white"})},f=l.children?{children:l.children.map(Gw)}:{},p={tag:"g",attributes:Fv({},h.inner),children:[Gw(Fv({tag:l.tag,attributes:Fv(Fv({},l.attributes),h.path)},f))]},g={tag:"g",attributes:Fv({},h.outer),children:[p]},m="mask-".concat(i||Qy()),v="clip-".concat(i||Qy()),y={tag:"mask",attributes:Fv(Fv({},Kw),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,g]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(w=u,"g"===w.tag?w.children:[w])},y]};var w;return t.push(b,{tag:"rect",attributes:Fv({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(m,")")},Kw)}),{children:t,attributes:n}}}},Yw={provides(e){let t=!1;Kv.matchMedia&&(t=Kv.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Fv(Fv({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=Fv(Fv({},r),{},{attributeName:"opacity"}),i={tag:"circle",attributes:Fv(Fv({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:Fv(Fv({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Fv(Fv({},s),{},{values:"1;0;1;1;0;1;"})}),e.push(i),e.push({tag:"path",attributes:Fv(Fv({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Fv(Fv({},s),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Fv(Fv({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Fv(Fv({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;jb=e,Ub={},Object.keys(Fb).forEach((e=>{-1===zb.indexOf(e)&&delete Fb[e]})),jb.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{Ub[e]||(Ub[e]=[]),Ub[e].push(t[e])}))}e.provides&&e.provides(Fb)}))}([rb,Iw,Lw,Pw,Ow,Bw,Hw,qw,Qw,Yw,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:Qb});const Xw=Qb.parse,Zw=Qb.icon;var Jw=n(173),$w=n.n(Jw);function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach((function(t){r_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n_(e){return n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(e)}function r_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s_(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function i_(e){return function(e){if(Array.isArray(e))return o_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a_(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var l_=["style"];var c_=!1;try{c_=!0}catch(hS){}function u_(e){return e&&"object"===n_(e)&&e.prefix&&e.iconName&&e.icon?e:Xw.icon?Xw.icon(e):null===e?null:e&&"object"===n_(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function h_(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?r_({},e,t):{}}var d_={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},f_=t.forwardRef((function(e,t){var n=t_(t_({},d_),e),r=n.icon,s=n.mask,i=n.symbol,o=n.className,a=n.title,l=n.titleId,c=n.maskId,u=u_(r),h=h_("classes",[].concat(i_(function(e){var t,n=e.beat,r=e.fade,s=e.beatFade,i=e.bounce,o=e.shake,a=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,h=e.pulse,d=e.fixedWidth,f=e.inverse,p=e.border,g=e.listItem,m=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(r_(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":h,"fa-fw":d,"fa-inverse":f,"fa-border":p,"fa-li":g,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(v),"undefined"!==typeof v&&null!==v),r_(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),r_(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),r_(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),i_((o||"").split(" ")))),d=h_("transform","string"===typeof n.transform?Xw.transform(n.transform):n.transform),f=h_("mask",u_(s)),p=Zw(u,t_(t_(t_(t_({},h),d),f),{},{symbol:i,title:a,titleId:l,maskId:c}));if(!p)return function(){var e;!c_&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var g=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){d_.hasOwnProperty(e)||(m[e]=n[e])})),p_(g[0],m)}));f_.displayName="FontAwesomeIcon",f_.propTypes={beat:$w().bool,border:$w().bool,beatFade:$w().bool,bounce:$w().bool,className:$w().string,fade:$w().bool,flash:$w().bool,mask:$w().oneOfType([$w().object,$w().array,$w().string]),maskId:$w().string,fixedWidth:$w().bool,inverse:$w().bool,flip:$w().oneOf([!0,!1,"horizontal","vertical","both"]),icon:$w().oneOfType([$w().object,$w().array,$w().string]),listItem:$w().bool,pull:$w().oneOf(["right","left"]),pulse:$w().bool,rotation:$w().oneOf([0,90,180,270]),shake:$w().bool,size:$w().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:$w().bool,spinPulse:$w().bool,spinReverse:$w().bool,symbol:$w().oneOfType([$w().bool,$w().string]),title:$w().string,titleId:$w().string,transform:$w().oneOfType([$w().string,$w().object]),swapOpacity:$w().bool};var p_=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var s=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),s=a_(t.slice(0,r)),i=t.slice(r+1).trim();return s.startsWith("webkit")?e[(n=s,n.charAt(0).toUpperCase()+n.slice(1))]=i:e[s]=i,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[a_(t)]=r}return e}),{attrs:{}}),o=r.style,a=void 0===o?{}:o,l=s_(r,l_);return i.attrs.style=t_(t_({},i.attrs.style),a),t.apply(void 0,[n.tag,t_(t_({},i.attrs),l)].concat(i_(s)))}.bind(null,t.createElement);const g_={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},m_={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},v_={prefix:"fas",iconName:"mug-hot",icon:[512,512,[9749],"f7b6","M88 0C74.7 0 64 10.7 64 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1C120.5 112.3 128 119.9 128 136c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C119.5 47.7 112 40.1 112 24c0-13.3-10.7-24-24-24zM32 192c-17.7 0-32 14.3-32 32L0 416c0 53 43 96 96 96l192 0c53 0 96-43 96-96l16 0c61.9 0 112-50.1 112-112s-50.1-112-112-112l-48 0L32 192zm352 64l16 0c26.5 0 48 21.5 48 48s-21.5 48-48 48l-16 0 0-96zM224 24c0-13.3-10.7-24-24-24s-24 10.7-24 24c0 38.9 23.4 59.4 39.1 73.1l1.1 1C232.5 112.3 240 119.9 240 136c0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C231.5 47.7 224 40.1 224 24z"]},y_={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},b_={prefix:"fas",iconName:"shop",icon:[640,512,["store-alt"],"f54f","M36.8 192l566.3 0c20.3 0 36.8-16.5 36.8-36.8c0-7.3-2.2-14.4-6.2-20.4L558.2 21.4C549.3 8 534.4 0 518.3 0L121.7 0c-16 0-31 8-39.9 21.4L6.2 134.7c-4 6.1-6.2 13.2-6.2 20.4C0 175.5 16.5 192 36.8 192zM64 224l0 160 0 80c0 26.5 21.5 48 48 48l224 0c26.5 0 48-21.5 48-48l0-80 0-160-64 0 0 160-192 0 0-160-64 0zm448 0l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32l0-256-64 0z"]},w_={prefix:"fas",iconName:"map",icon:[576,512,[128506,62072],"f279","M384 476.1L192 421.2l0-385.3L384 90.8l0 385.3zm32-1.2l0-386.5L543.1 37.5c15.8-6.3 32.9 5.3 32.9 22.3l0 334.8c0 9.8-6 18.6-15.1 22.3L416 474.8zM15.1 95.1L160 37.2l0 386.5L32.9 474.5C17.1 480.8 0 469.2 0 452.2L0 117.4c0-9.8 6-18.6 15.1-22.3z"]},__={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},E_={prefix:"fas",iconName:"mug-saucer",icon:[640,512,["coffee"],"f0f4","M96 64c0-17.7 14.3-32 32-32l320 0 64 0c70.7 0 128 57.3 128 128s-57.3 128-128 128l-32 0c0 53-43 96-96 96l-192 0c-53 0-96-43-96-96L96 64zM480 224l32 0c35.3 0 64-28.7 64-64s-28.7-64-64-64l-32 0 0 128zM32 416l512 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},k_=E_;const C_=e=>{let{rating:t,maxCups:n=5}=e;const r=Math.min(Math.max(t,0),n),s=Array.from({length:n},((e,t)=>t<r?"filled":"empty"));return(0,Lv.jsx)("div",{className:"coffee-cups",children:s.map(((e,t)=>(0,Lv.jsx)(f_,{icon:k_,style:{color:"filled"===e?"black":"grey",margin:"0 5px"}},t)))})};const S_=function(e){let{coffeeShop:t,openPhotoViewer:n}=e;return(0,Lv.jsx)("div",{className:"shop-images",children:(0,Lv.jsx)("div",{className:"shop-images",children:t.photos&&t.photos.length>0?t.photos.slice(0,3).map(((e,r)=>{if(0===r)return(0,Lv.jsx)("a",{style:{backgroundColor:"#806D5B",backgroundImage:"url(".concat(e,")"),backgroundSize:"cover",backgroundPosition:"center",textAlign:"right"},id:"photo1",onClick:()=>n(t.photos),children:(0,Lv.jsx)(f_,{icon:y_,style:{height:"2rem",width:"2rem",paddingLeft:"1rem",backgroundColor:"#806D5B"}})},r)})):(0,Lv.jsx)("div",{className:"shop-images",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10rem",marginLeft:"1rem"},children:"No photo's to view. Upload a review to add a photo"})})})};const x_=function(e){let{showCoffeeShow:n,coffeeShop:r,shopReviews:s,coffeeBeans:i,navigate:o}=e;const[a,l]=(0,t.useState)({isOpen:!1,photos:[]}),[c,u]=(0,t.useState)({}),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=Kf(qm,"BrewBadges"),t=await Zp(e),n={};t.forEach((e=>{const t=e.data();n[t.id]=t})),u(n)}catch(e){console.error("Error fetching badges:",e)}})()}),[s]);const g=e=>{const t=c[e];if(!t)return"No badges";var n,r,s;return[(s=t.cafes,s>=1&&s<5?"Bean Scout":s>=5&&s<10?"Brew Pathfinder":s>=10&&s<20?"Espresso Explorer":s>=20?"Caffeine Pioneer":null),(r=t.photos,r>=1&&r<5?"Coffee Photographer":r>=5&&r<15?"Snapshot Sipper":r>=15&&r<25?"Latte Lens":r>=25?"Coffee Cameraman":null),(n=t.reviews,n>=1&&n<5?"Percolating Critic":n>=5&&n<10?"Grounded Reviewer":n>=10&&n<20?"Brewmaster Critic":n>=20?"Caffeinated Maven":null)].filter(Boolean).join(", ")||"No badges"},m=e=>{l({isOpen:!0,photos:e})};return(0,t.useEffect)((()=>{(e=>{if(!e||0===e.length)return console.log("No reviews available."),void d("The most popular drink is based on reviews and there are no reviews available. Sorry! Encourage your friends to add some");const t=e.filter((e=>e.drinkRating>=4));if(0===t.length)return console.log("No reviews with a rating of 4 or higher."),void d("No reviews with a rating of 4 or higher.");const n=t.map((e=>{var t,n,r,s,i;const o=(null===(t=e.selectedTemp)||void 0===t?void 0:t.toLowerCase().trim())||"unknown",a=(null===(n=e.selectedMilk)||void 0===n?void 0:n.toLowerCase().trim())||"unknown",l=(null===(r=e.selectedBev)||void 0===r?void 0:r.toLowerCase().trim())||"unknown",c=(null===(s=e.selectedRoast)||void 0===s?void 0:s.toLowerCase().trim())||"unknown",u=(null===(i=e.selectedProcess)||void 0===i?void 0:i.toLowerCase().trim())||"unknown";return{string:"".concat(o," ").concat(a," ").concat(l," ").concat(c," ").concat(u),review:e}}));if(n.every((e=>"unknown unknown unknown unknown unknown"===e.string)))return console.log("No top-rated drink."),void d("No top-rated drink.");const r=n.reduce(((e,t)=>(e[t.string]=(e[t.string]||0)+1,e)),{}),s=Math.max(...Object.values(r)),i=n.filter((e=>r[e.string]===s)),o=i.length>1?i[Math.floor(Math.random()*i.length)].review:i[0].review,a="A ".concat(o.selectedTemp,"  ").concat(o.selectedMilk," ").concat("black"!==o.selectedMilk.toLowerCase()?"Milk":""," ").concat(o.selectedBev," that was a ").concat(o.selectedRoast," roast and ").concat(o.selectedProcess," processed ").concat(o.flavoring?"with flavoring":"").trim();console.log("Most common drink description:",a),d(a)})(s)}),[s]),(0,t.useEffect)((()=>{if(i){const e=i.flatMap((e=>e.beans.map((e=>e.notes.split(", "))))).flat().reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{}),t=Object.entries(e).sort(((e,t)=>t[1]-e[1])).slice(0,3).map((e=>{let[t]=e;return t}));p(t)}}),[i]),r?(0,Lv.jsxs)("div",{className:"view-shop",children:[a.isOpen&&(0,Lv.jsxs)("div",{className:"photo-viewer-overlay",children:[(0,Lv.jsx)("button",{className:"close-button",onClick:()=>{l({isOpen:!1,photos:[]})},children:"Close"}),(0,Lv.jsx)("div",{className:"photo-scroll-container",children:a.photos.map(((e,t)=>(0,Lv.jsx)("img",{src:e,alt:"Photo ".concat(t+1),className:"photo-item",onLoad:e=>{const t=e.target,n=(r=t.naturalWidth,t.naturalHeight>r);var r;t.style.height=n?"80vh":"60vh",t.style.width=n?"auto":"90%"}},t)))})]}),(0,Lv.jsxs)("div",{className:"view-shop-container",children:[(0,Lv.jsx)("div",{className:"exit-shop",children:(0,Lv.jsx)("a",{onClick:n,children:"X"})}),(0,Lv.jsx)("p",{id:"title",children:r.shop_name}),(0,Lv.jsx)(S_,{coffeeShop:r,openPhotoViewer:m}),(0,Lv.jsxs)("div",{className:"about-coffee-shop",children:[(0,Lv.jsx)("p",{children:r.about&&(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"About: "}),r.about]})}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Address:"}),r.street_address," ",r.city,", ",r.state]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Hours:"})," ",r.hours," ",(0,Lv.jsx)("i",{children:"(hours may vary)"})]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Roasts own beans?"})," ",r.roasts_own_beans?"Yes":"No"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Website:"})," ",(0,Lv.jsx)("a",{href:r.website,children:r.website})]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Types of Beverages Served:"})," ",r.types_of_beverages.map(((e,t)=>(0,Lv.jsxs)("span",{children:[e,t<r.types_of_beverages.length-1&&", "]},t)))]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Typical Flavor Notes:"})," ",f&&f.length>0?f.map(((e,t)=>(0,Lv.jsxs)("span",{children:[e,t<f.length-1&&", "]},t))):(0,Lv.jsx)(Lv.Fragment,{children:(0,Lv.jsx)("p",{children:"Common notes are based on user-added beans. Be the first to add beans."})})]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Typical Roast Style:"})," ",r.roast_style]}),(0,Lv.jsx)("p",{children:h?(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Most popular:"})," ",h]}):(0,Lv.jsx)("p",{children:"Loading the most common drink..."})}),(0,Lv.jsxs)("div",{className:"options-available",children:[(0,Lv.jsx)("h2",{children:"Options Available"}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Dairy Free Options: "}),r.dairy_free?" Yes":" No"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Gluten Friendly Options:"}),r.gluten_friendly?" Yes":" No"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Bakery Items:"}),r.bakery_options?" Yes":" No"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Serves Meals:"}),r.meal_options?" Yes":" No"]})]}),(0,Lv.jsxs)("div",{className:"options-available",children:[(0,Lv.jsx)("h2",{children:"Beans Available"}),(0,Lv.jsx)("button",{onClick:()=>o("/beans/".concat(r.shop_id)),className:"add-beans-button",children:"Add or Edit Beans"}),i&&i.length>0?(0,Lv.jsx)("div",{children:i.map(((e,t)=>(0,Lv.jsx)("div",{children:(0,Lv.jsx)("ul",{children:e.beans.map(((e,t)=>(0,Lv.jsxs)("li",{children:[(0,Lv.jsxs)("strong",{children:[e.name,":"]})," ",e.roast,","," ",e.origin,", ",(0,Lv.jsxs)("i",{children:["tastes like ",e.notes]})]},t)))})},t)))}):(0,Lv.jsx)("div",{children:"No beans added yet! Be the first to add some"})]})]}),(0,Lv.jsxs)("div",{className:"shop-review-section",children:[(0,Lv.jsx)("h2",{children:"Shop Reviews"}),s&&s.length>0?s.sort(((e,t)=>t.timestamp.toDate()-e.timestamp.toDate())).map((e=>(0,Lv.jsxs)("div",{className:"shop-ind-review",children:[(0,Lv.jsx)("p",{id:"reviewer-name",onClick:()=>o("/otheruser/".concat(e.userID_submitting.slice(-4),"-").concat(e.user_name_submitting),{state:{userId:e.userID_submitting}}),children:(0,Lv.jsx)("strong",{children:(0,Lv.jsx)("i",{children:(0,Lv.jsx)("u",{children:e.user_name_submitting})})})}),(0,Lv.jsx)("p",{children:g(e.userID_submitting)}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Favorite drink"}),(0,Lv.jsx)("br",{}),"A ",e.user_fav_temp," ","",e.user_fav_milk," ","Black"!==e.user_fav_milk&&"Milk"," ",e.user_fav_drink," that is ",e.user_fav_roast," ","roast"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Ordered"}),(0,Lv.jsx)("br",{})," A ",e.selectedTemp," ",e.selectedBev," ",e.selectedMilk," ","Black"!==e.selectedMilk&&"Milk"," that was a"," ",e.selectedRoast," roast and ",e.selectedProcess," ","processed ",e.flavoring?"with flavoring":" "]}),(0,Lv.jsxs)("p",{className:"ratings-profile",children:[(0,Lv.jsx)("strong",{children:"Drink Rating"})," ",(0,Lv.jsx)(C_,{rating:e.drinkRating,maxCups:5})]}),(0,Lv.jsxs)("p",{className:"ratings-profile",children:[(0,Lv.jsx)("strong",{children:"Shop Rating"})," ",(0,Lv.jsx)(C_,{rating:e.shopRating,maxCups:5})]}),(0,Lv.jsxs)("p",{className:"ratings-profile",children:[(0,Lv.jsx)("strong",{children:"Staff Rating"})," ",(0,Lv.jsx)(C_,{rating:e.staffRating,maxCups:5})]}),0!==e.photo_urls.length?(0,Lv.jsx)("a",{onClick:()=>m(e.photo_urls),children:"View photos"}):" ",(0,Lv.jsxs)("p",{children:[(0,Lv.jsxs)("strong",{children:["Review ",(0,Lv.jsx)("br",{})]}),e.review]})]},e.id))):(0,Lv.jsx)("h2",{style:{width:"80%"},children:"No reviews, be the first person to leave one"})]}),(0,Lv.jsxs)("p",{style:{marginLeft:"1rem",marginBottom:"1rem"},children:["Shop Submitted by:"," ",r.user_name_submitting?(0,Lv.jsx)(Lv.Fragment,{children:r.user_name_submitting}):" "]})]})]}):(0,Lv.jsx)("div",{className:"view-shop",children:(0,Lv.jsx)("div",{className:"view-shop-container",children:(0,Lv.jsx)("p",{children:"Loading..."})})})};function T_(e){return T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T_(e)}function I_(e){var t=function(e,t){if("object"!=T_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T_(t)?t:t+""}function L_(e,t,n){return(t=I_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O_,N_;var R_=(N_||(N_=1,O_=function(e,t,n,r,s,i,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,i,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}),O_),A_=P_(R_),M_=(0,t.createContext)(null);function D_(e,t,n,r){var s,i,o={};return s=e,i=(e,s)=>{var i=n[s];i!==t[s]&&(o[s]=i,e(r,i))},Object.keys(s).forEach((e=>i(s[e],e))),o}function j_(e,t,n){var r,s,i,o=(r=n,s=function(n,r,s){return"function"===typeof e[s]&&n.push(google.maps.event.addListener(t,r,e[s])),n},i=[],Object.keys(r).reduce((function(e,t){return s(e,r[t],t)}),i));return o}function U_(e){google.maps.event.removeListener(e)}function F_(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(U_)}function z_(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:s,instance:i}=e,o=j_(s,i,n);return D_(t,r,s,i),o}var B_={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},V_={extraMapTypes(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,t.memo)((function(e){var{children:n,options:r,id:s,mapContainerStyle:i,mapContainerClassName:o,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:d,onMouseMove:f,onMouseOut:p,onMouseOver:g,onMouseDown:m,onMouseUp:v,onRightClick:y,onCenterChanged:b,onLoad:w,onUnmount:_}=e,[E,k]=(0,t.useState)(null),C=(0,t.useRef)(null),[S,x]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,N]=(0,t.useState)(null),[R,A]=(0,t.useState)(null),[M,D]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,K]=(0,t.useState)(null),[G,Q]=(0,t.useState)(null);return(0,t.useEffect)((()=>{r&&null!==E&&E.setOptions(r)}),[E,r]),(0,t.useEffect)((()=>{null!==E&&"undefined"!==typeof a&&E.setCenter(a)}),[E,a]),(0,t.useEffect)((()=>{E&&c&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(E,"dblclick",c)))}),[c]),(0,t.useEffect)((()=>{E&&h&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(E,"dragend",h)))}),[h]),(0,t.useEffect)((()=>{E&&d&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(E,"dragstart",d)))}),[d]),(0,t.useEffect)((()=>{E&&m&&(null!==R&&google.maps.event.removeListener(R),A(google.maps.event.addListener(E,"mousedown",m)))}),[m]),(0,t.useEffect)((()=>{E&&f&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(E,"mousemove",f)))}),[f]),(0,t.useEffect)((()=>{E&&p&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(E,"mouseout",p)))}),[p]),(0,t.useEffect)((()=>{E&&g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(E,"mouseover",g)))}),[g]),(0,t.useEffect)((()=>{E&&v&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(E,"mouseup",v)))}),[v]),(0,t.useEffect)((()=>{E&&y&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(E,"rightclick",y)))}),[y]),(0,t.useEffect)((()=>{E&&l&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(E,"click",l)))}),[l]),(0,t.useEffect)((()=>{E&&u&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(E,"drag",u)))}),[u]),(0,t.useEffect)((()=>{E&&b&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(E,"center_changed",b)))}),[l]),(0,t.useEffect)((()=>{var e=null===C.current?null:new google.maps.Map(C.current,r);return k(e),null!==e&&w&&w(e),()=>{null!==e&&_&&_(e)}}),[]),(0,Lv.jsx)("div",{id:s,ref:C,style:i,className:o,children:(0,Lv.jsx)(M_.Provider,{value:E,children:null!==E?n:null})})}));class H_ extends t.PureComponent{constructor(){super(...arguments),L_(this,"state",{map:null}),L_(this,"registeredEvents",[]),L_(this,"mapRef",null),L_(this,"getInstance",(()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options))),L_(this,"panTo",(e=>{var t=this.getInstance();t&&t.panTo(e)})),L_(this,"setMapCallback",(()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)})),L_(this,"getRef",(e=>{this.mapRef=e}))}componentDidMount(){var e=this.getInstance();this.registeredEvents=z_({updaterMap:V_,eventMap:B_,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:V_,eventMap:B_,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),F_(this.registeredEvents))}render(){return(0,Lv.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,Lv.jsx)(M_.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function W_(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,s)}function q_(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){W_(i,r,s,o,a,"next",e)}function a(e){W_(i,r,s,o,a,"throw",e)}o(void 0)}))}}function K_(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:o,channel:a,mapIds:l,authReferrerPolicy:c}=e,u=[];return A_(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push("key=".concat(t)):n&&u.push("client=".concat(n)),r&&u.push("v=".concat(r)),s&&u.push("language=".concat(s)),i&&u.push("region=".concat(i)),o&&o.length&&u.push("libraries=".concat(o.sort().join(","))),a&&u.push("channel=".concat(a)),l&&l.length&&u.push("map_ids=".concat(l.join(","))),c&&u.push("auth_referrer_policy=".concat(c)),u.push("loading=async"),u.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(u.join("&"))}var G_="undefined"!==typeof document;function Q_(e){var{url:t,id:n,nonce:r}=e;return G_?new Promise((function(e,s){var i=document.getElementById(n),o=window;if(i){var a=i.getAttribute("data-state");if(i.src===t&&"error"!==a){if("ready"===a)return e(n);var l=o.initMap,c=i.onerror;return o.initMap=function(){l&&l(),e(n)},void(i.onerror=function(e){c&&c(e),s(e)})}i.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),s(e)},o.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((e=>{throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function Y_(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function X_(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return Y_(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return Y_(t)||Reflect.apply(n,e,[t]),t}}}var Z_=!1;function J_(){return(0,Lv.jsx)("div",{children:"Loading..."})}var $_,eE={id:"script-loader",version:"weekly"};class tE extends t.PureComponent{constructor(){super(...arguments),L_(this,"check",(0,t.createRef)()),L_(this,"state",{loaded:!1}),L_(this,"cleanupCallback",(()=>{delete window.google.maps,this.injectScript()})),L_(this,"isCleaningUp",q_((function*(){return new Promise((function(e){if(Z_){if(G_)var t=window.setInterval((function(){Z_||(window.clearInterval(t),e())}),1)}else e()}))}))),L_(this,"cleanup",(()=>{Z_=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))})),L_(this,"injectScript",(()=>{this.props.preventGoogleFontsLoading&&X_(),A_(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),Q_({id:this.props.id,nonce:this.props.nonce,url:K_(this.props)}).then((()=>{this.props.onLoad&&this.props.onLoad(),this.setState((function(){return{loaded:!0}}))})).catch((e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))}))}componentDidMount(){if(G_){if(window.google&&window.google.maps&&!Z_)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),G_&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}componentWillUnmount(){if(G_){this.cleanup();window.setTimeout((()=>{this.check.current||(delete window.google,Z_=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,Lv.jsx)(J_,{})]})}}function nE(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}L_(tE,"defaultProps",eE);var rE=["loadingElement","onLoad","onError","onUnmount","children"],sE=(0,Lv.jsx)(J_,{});(0,t.memo)((function(e){var{loadingElement:n,onLoad:r,onError:s,onUnmount:i,children:o}=e,a=nE(e,rE),{isLoaded:l,loadError:c}=function(e){var{id:n=eE.id,version:r=eE.version,nonce:s,googleMapsApiKey:i,googleMapsClientId:o,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:d,authReferrerPolicy:f}=e,p=(0,t.useRef)(!1),[g,m]=(0,t.useState)(!1),[v,y]=(0,t.useState)(void 0);(0,t.useEffect)((function(){return p.current=!0,()=>{p.current=!1}}),[]),(0,t.useEffect)((function(){G_&&u&&X_()}),[u]),(0,t.useEffect)((function(){g&&A_(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[g]);var b=K_({version:r,googleMapsApiKey:i,googleMapsClientId:o,language:a,region:l,libraries:c,channel:h,mapIds:d,authReferrerPolicy:f});(0,t.useEffect)((function(){function e(){p.current&&(m(!0),$_=b)}G_&&(window.google&&window.google.maps&&$_===b?e():Q_({id:n,url:b,nonce:s}).then(e).catch((function(e){p.current&&y(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(i||"-",") or Client ID (").concat(o||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,b,s]);var w=(0,t.useRef)();return(0,t.useEffect)((function(){w.current&&c!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=c}),[c]),{isLoaded:g,loadError:v,url:b}}(a);return(0,t.useEffect)((function(){l&&"function"===typeof r&&r()}),[l,r]),(0,t.useEffect)((function(){c&&"function"===typeof s&&s(c)}),[c,s]),(0,t.useEffect)((function(){return()=>{i&&i()}}),[i]),l?o:n||sE}));function iE(e,t,n,r){return new(n||(n=Promise))((function(t,s){function i(e){try{a(r.next(e))}catch(hS){s(hS)}}function o(e){try{a(r.throw(e))}catch(hS){s(hS)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,o)}a((r=r.apply(e,[])).next())}))}function oE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"===typeof SuppressedError&&SuppressedError;var aE,lE=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;0!==s--;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},cE=oE(lE),uE="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(aE||(aE={}));class hE{constructor(e){var{apiKey:t,authReferrerPolicy:n,channel:r,client:s,id:i=uE,language:o,libraries:a=[],mapIds:l,nonce:c,region:u,retries:h=3,url:d="https://maps.googleapis.com/maps/api/js",version:f}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=r,this.client=s,this.id=i||uE,this.language=o,this.libraries=a,this.mapIds=l,this.nonce=c,this.region=u,this.retries=h,this.url=d,this.version=f,hE.instance){if(!cE(this.options,hE.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(hE.instance.options)));return hE.instance}hE.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?aE.FAILURE:this.done?aE.SUCCESS:this.loading?aE.LOADING:aE.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))this.callback();else{var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach((e=>!n[e]&&delete n[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{var t,n,r,s="The Google Maps JavaScript API",i="google",o="importLibrary",a="__ib__",l=document,c=window,u=(c=c[i]||(c[i]={})).maps||(c.maps={}),h=new Set,d=new URLSearchParams,f=()=>t||(t=new Promise(((o,c)=>iE(this,0,void 0,(function*(){var f;for(r in yield n=l.createElement("script"),n.id=this.id,d.set("libraries",[...h]+""),e)d.set(r.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[r]);d.set("callback",i+".maps."+a),n.src=this.url+"?"+d,u[a]=o,n.onerror=()=>t=c(Error(s+" could not load.")),n.nonce=this.nonce||(null===(f=l.querySelector("script[nonce]"))||void 0===f?void 0:f.nonce)||"",l.head.append(n)})))));u[o]?console.warn(s+" only loads once. Ignoring:",e):u[o]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return h.add(e)&&f().then((()=>u[o](e,...n)))}})(n);var r=this.libraries.map((e=>this.importLibrary(e)));r.length||r.push(this.importLibrary("core")),Promise.all(r).then((()=>this.callback()),(e=>{var t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout((()=>{this.deleteScript(),this.setScript()}),t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}var dE=["maps"];function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fE(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gE={},mE={options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{options:n,onLoad:r,onUnmount:s}=e,i=(0,t.useContext)(M_),[o,a]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==o&&o.setMap(i)}),[i]),(0,t.useEffect)((()=>{n&&null!==o&&o.setOptions(n)}),[o,n]),(0,t.useEffect)((()=>{var e=new google.maps.TrafficLayer(pE(pE({},n),{},{map:i}));return a(e),r&&r(e),()=>{null!==o&&(s&&s(o),o.setMap(null))}}),[]),null}));class vE extends t.PureComponent{constructor(){super(...arguments),L_(this,"state",{trafficLayer:null}),L_(this,"setTrafficLayerCallback",(()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)})),L_(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(pE(pE({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:mE,eventMap:gE,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:mE,eventMap:gE,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),F_(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}L_(vE,"contextType",M_);(0,t.memo)((function(e){var{onLoad:n,onUnmount:r}=e,s=(0,t.useContext)(M_),[i,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==i&&i.setMap(s)}),[s]),(0,t.useEffect)((()=>{var e=new google.maps.BicyclingLayer;return o(e),e.setMap(s),n&&n(e),()=>{null!==e&&(r&&r(e),e.setMap(null))}}),[]),null}));class yE extends t.PureComponent{constructor(){super(...arguments),L_(this,"state",{bicyclingLayer:null}),L_(this,"setBicyclingLayerCallback",(()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}))}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState((()=>({bicyclingLayer:e})),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}L_(yE,"contextType",M_);(0,t.memo)((function(e){var{onLoad:n,onUnmount:r}=e,s=(0,t.useContext)(M_),[i,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==i&&i.setMap(s)}),[s]),(0,t.useEffect)((()=>{var e=new google.maps.TransitLayer;return o(e),e.setMap(s),n&&n(e),()=>{null!==i&&(r&&r(i),i.setMap(null))}}),[]),null}));class bE extends t.PureComponent{constructor(){super(...arguments),L_(this,"state",{transitLayer:null}),L_(this,"setTransitLayerCallback",(()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}))}componentDidMount(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wE(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(bE,"contextType",M_);var EE={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},kE={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{options:n,drawingMode:r,onCircleComplete:s,onMarkerComplete:i,onOverlayComplete:o,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=e,d=(0,t.useContext)(M_),[f,p]=(0,t.useState)(null),[g,m]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),[_,E]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[S,x]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==f&&f.setMap(d)}),[d]),(0,t.useEffect)((()=>{n&&null!==f&&f.setOptions(n)}),[f,n]),(0,t.useEffect)((()=>{null!==f&&f.setDrawingMode(null!==r&&void 0!==r?r:null)}),[f,r]),(0,t.useEffect)((()=>{f&&s&&(null!==g&&google.maps.event.removeListener(g),m(google.maps.event.addListener(f,"circlecomplete",s)))}),[f,s]),(0,t.useEffect)((()=>{f&&i&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(f,"markercomplete",i)))}),[f,i]),(0,t.useEffect)((()=>{f&&o&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(f,"overlaycomplete",o)))}),[f,o]),(0,t.useEffect)((()=>{f&&a&&(null!==_&&google.maps.event.removeListener(_),E(google.maps.event.addListener(f,"polygoncomplete",a)))}),[f,a]),(0,t.useEffect)((()=>{f&&l&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(f,"polylinecomplete",l)))}),[f,l]),(0,t.useEffect)((()=>{f&&c&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(f,"rectanglecomplete",c)))}),[f,c]),(0,t.useEffect)((()=>{A_(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(_E(_E({},n),{},{map:d}));return r&&e.setDrawingMode(r),s&&m(google.maps.event.addListener(e,"circlecomplete",s)),i&&y(google.maps.event.addListener(e,"markercomplete",i)),o&&w(google.maps.event.addListener(e,"overlaycomplete",o)),a&&E(google.maps.event.addListener(e,"polygoncomplete",a)),l&&C(google.maps.event.addListener(e,"polylinecomplete",l)),c&&x(google.maps.event.addListener(e,"rectanglecomplete",c)),p(e),u&&u(e),()=>{null!==f&&(g&&google.maps.event.removeListener(g),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),_&&google.maps.event.removeListener(_),k&&google.maps.event.removeListener(k),S&&google.maps.event.removeListener(S),h&&h(f),f.setMap(null))}}),[]),null}));class CE extends t.PureComponent{constructor(e){super(e),L_(this,"registeredEvents",[]),L_(this,"state",{drawingManager:null}),L_(this,"setDrawingManagerCallback",(()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)})),A_(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(_E(_E({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:kE,eventMap:EE,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:kE,eventMap:EE,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),F_(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SE(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(CE,"contextType",M_);var TE={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},IE={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},LE={};(0,t.memo)((function(e){var{position:n,options:r,clusterer:s,noClustererRedraw:i,children:o,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:d,label:f,opacity:p,shape:g,title:m,zIndex:v,onClick:y,onDblClick:b,onDrag:w,onDragEnd:_,onDragStart:E,onMouseOut:k,onMouseOver:C,onMouseUp:S,onMouseDown:x,onRightClick:T,onClickableChanged:I,onCursorChanged:L,onAnimationChanged:P,onDraggableChanged:O,onFlatChanged:N,onIconChanged:R,onPositionChanged:A,onShapeChanged:M,onTitleChanged:D,onVisibleChanged:j,onZindexChanged:U,onLoad:F,onUnmount:z}=e,B=(0,t.useContext)(M_),[V,H]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[Q,Y]=(0,t.useState)(null),[X,Z]=(0,t.useState)(null),[J,$]=(0,t.useState)(null),[ee,te]=(0,t.useState)(null),[ne,re]=(0,t.useState)(null),[se,ie]=(0,t.useState)(null),[oe,ae]=(0,t.useState)(null),[le,ce]=(0,t.useState)(null),[ue,he]=(0,t.useState)(null),[de,fe]=(0,t.useState)(null),[pe,ge]=(0,t.useState)(null),[me,ve]=(0,t.useState)(null),[ye,be]=(0,t.useState)(null),[we,_e]=(0,t.useState)(null),[Ee,ke]=(0,t.useState)(null),[Ce,Se]=(0,t.useState)(null),[xe,Te]=(0,t.useState)(null),[Ie,Le]=(0,t.useState)(null),[Pe,Oe]=(0,t.useState)(null);(0,t.useEffect)((()=>{null!==V&&V.setMap(B)}),[B]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==V&&V.setOptions(r)}),[V,r]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==V&&V.setDraggable(a)}),[V,a]),(0,t.useEffect)((()=>{n&&null!==V&&V.setPosition(n)}),[V,n]),(0,t.useEffect)((()=>{"undefined"!==typeof l&&null!==V&&V.setVisible(l)}),[V,l]),(0,t.useEffect)((()=>{null===V||void 0===V||V.setAnimation(c)}),[V,c]),(0,t.useEffect)((()=>{V&&void 0!==u&&V.setClickable(u)}),[V,u]),(0,t.useEffect)((()=>{V&&void 0!==h&&V.setCursor(h)}),[V,h]),(0,t.useEffect)((()=>{V&&void 0!==d&&V.setIcon(d)}),[V,d]),(0,t.useEffect)((()=>{V&&void 0!==f&&V.setLabel(f)}),[V,f]),(0,t.useEffect)((()=>{V&&void 0!==p&&V.setOpacity(p)}),[V,p]),(0,t.useEffect)((()=>{V&&void 0!==g&&V.setShape(g)}),[V,g]),(0,t.useEffect)((()=>{V&&void 0!==m&&V.setTitle(m)}),[V,m]),(0,t.useEffect)((()=>{V&&void 0!==v&&V.setZIndex(v)}),[V,v]),(0,t.useEffect)((()=>{V&&b&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(V,"dblclick",b)))}),[b]),(0,t.useEffect)((()=>{V&&_&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(V,"dragend",_)))}),[_]),(0,t.useEffect)((()=>{V&&E&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(V,"dragstart",E)))}),[E]),(0,t.useEffect)((()=>{V&&x&&(null!==X&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(V,"mousedown",x)))}),[x]),(0,t.useEffect)((()=>{V&&k&&(null!==J&&google.maps.event.removeListener(J),$(google.maps.event.addListener(V,"mouseout",k)))}),[k]),(0,t.useEffect)((()=>{V&&C&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(V,"mouseover",C)))}),[C]),(0,t.useEffect)((()=>{V&&S&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(V,"mouseup",S)))}),[S]),(0,t.useEffect)((()=>{V&&T&&(null!==se&&google.maps.event.removeListener(se),ie(google.maps.event.addListener(V,"rightclick",T)))}),[T]),(0,t.useEffect)((()=>{V&&y&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(V,"click",y)))}),[y]),(0,t.useEffect)((()=>{V&&w&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(V,"drag",w)))}),[w]),(0,t.useEffect)((()=>{V&&I&&(null!==ue&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(V,"clickable_changed",I)))}),[I]),(0,t.useEffect)((()=>{V&&L&&(null!==de&&google.maps.event.removeListener(de),fe(google.maps.event.addListener(V,"cursor_changed",L)))}),[L]),(0,t.useEffect)((()=>{V&&P&&(null!==pe&&google.maps.event.removeListener(pe),ge(google.maps.event.addListener(V,"animation_changed",P)))}),[P]),(0,t.useEffect)((()=>{V&&O&&(null!==me&&google.maps.event.removeListener(me),ve(google.maps.event.addListener(V,"draggable_changed",O)))}),[O]),(0,t.useEffect)((()=>{V&&N&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(V,"flat_changed",N)))}),[N]),(0,t.useEffect)((()=>{V&&R&&(null!==we&&google.maps.event.removeListener(we),_e(google.maps.event.addListener(V,"icon_changed",R)))}),[R]),(0,t.useEffect)((()=>{V&&A&&(null!==Ee&&google.maps.event.removeListener(Ee),ke(google.maps.event.addListener(V,"position_changed",A)))}),[A]),(0,t.useEffect)((()=>{V&&M&&(null!==Ce&&google.maps.event.removeListener(Ce),Se(google.maps.event.addListener(V,"shape_changed",M)))}),[M]),(0,t.useEffect)((()=>{V&&D&&(null!==xe&&google.maps.event.removeListener(xe),Te(google.maps.event.addListener(V,"title_changed",D)))}),[D]),(0,t.useEffect)((()=>{V&&j&&(null!==Ie&&google.maps.event.removeListener(Ie),Le(google.maps.event.addListener(V,"visible_changed",j)))}),[j]),(0,t.useEffect)((()=>{V&&U&&(null!==Pe&&google.maps.event.removeListener(Pe),Oe(google.maps.event.addListener(V,"zindex_changed",U)))}),[U]),(0,t.useEffect)((()=>{var e=xE(xE(xE({},r||LE),s?LE:{map:B}),{},{position:n}),t=new google.maps.Marker(e);return s?s.addMarker(t,!!i):t.setMap(B),n&&t.setPosition(n),"undefined"!==typeof l&&t.setVisible(l),"undefined"!==typeof a&&t.setDraggable(a),"undefined"!==typeof u&&t.setClickable(u),"string"===typeof h&&t.setCursor(h),d&&t.setIcon(d),"undefined"!==typeof f&&t.setLabel(f),"undefined"!==typeof p&&t.setOpacity(p),g&&t.setShape(g),"string"===typeof m&&t.setTitle(m),"number"===typeof v&&t.setZIndex(v),b&&q(google.maps.event.addListener(t,"dblclick",b)),_&&G(google.maps.event.addListener(t,"dragend",_)),E&&Y(google.maps.event.addListener(t,"dragstart",E)),x&&Z(google.maps.event.addListener(t,"mousedown",x)),k&&$(google.maps.event.addListener(t,"mouseout",k)),C&&te(google.maps.event.addListener(t,"mouseover",C)),S&&re(google.maps.event.addListener(t,"mouseup",S)),T&&ie(google.maps.event.addListener(t,"rightclick",T)),y&&ae(google.maps.event.addListener(t,"click",y)),w&&ce(google.maps.event.addListener(t,"drag",w)),I&&he(google.maps.event.addListener(t,"clickable_changed",I)),L&&fe(google.maps.event.addListener(t,"cursor_changed",L)),P&&ge(google.maps.event.addListener(t,"animation_changed",P)),O&&ve(google.maps.event.addListener(t,"draggable_changed",O)),N&&be(google.maps.event.addListener(t,"flat_changed",N)),R&&_e(google.maps.event.addListener(t,"icon_changed",R)),A&&ke(google.maps.event.addListener(t,"position_changed",A)),M&&Se(google.maps.event.addListener(t,"shape_changed",M)),D&&Te(google.maps.event.addListener(t,"title_changed",D)),j&&Le(google.maps.event.addListener(t,"visible_changed",j)),U&&Oe(google.maps.event.addListener(t,"zindex_changed",U)),H(t),F&&F(t),()=>{null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),null!==J&&google.maps.event.removeListener(J),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),null!==oe&&google.maps.event.removeListener(oe),null!==ue&&google.maps.event.removeListener(ue),null!==de&&google.maps.event.removeListener(de),null!==pe&&google.maps.event.removeListener(pe),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==we&&google.maps.event.removeListener(we),null!==Ee&&google.maps.event.removeListener(Ee),null!==xe&&google.maps.event.removeListener(xe),null!==Ie&&google.maps.event.removeListener(Ie),null!==Pe&&google.maps.event.removeListener(Pe),z&&z(t),s?s.removeMarker(t,!!i):t&&t.setMap(null)}}),[]);var Ne=(0,t.useMemo)((()=>o?t.Children.map(o,(e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:V})})):null),[o,V]);return(0,Lv.jsx)(Lv.Fragment,{children:Ne})||null}));class PE extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[])}componentDidMount(){var e=this;return q_((function*(){var t=xE(xE(xE({},e.props.options||LE),e.props.clusterer?LE:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=z_({updaterMap:IE,eventMap:TE,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)}))()}componentDidUpdate(e){this.marker&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:IE,eventMap:TE,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),F_(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?t.Children.map(this.props.children,(e=>{if(!(0,t.isValidElement)(e))return e;var n=e;return(0,t.cloneElement)(n,{anchor:this.marker})})):null;return e||null}}L_(PE,"contextType",M_);var OE=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var s=e.getZoom()||0;null!==n&&s>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,s,i;if(this.div&&this.center){var o=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=o,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(s=this.sums)||void 0===s?void 0:s.html)&&(d.innerHTML="".concat(null===(i=this.sums)||void 0===i?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(d),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),NE=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new OE(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var s=this.markers.length,i=this.markerClusterer.getMaxZoom(),o=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==i&&"undefined"!==typeof o&&o>i)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function RE(e,t){var n=e.length,r=n.toString().length,s=Math.min(r,t);return{text:n.toString(),index:s,title:""}}var AE=[53,56,66,78,90],ME=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||AE,this.calculator=r.calculator||RE,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){s[r].remove()}this.clusters=[];for(var i=0,o=this.listeners;i<o.length;i++){var a=o[i];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var s=r[n].getPosition();s&&t.extend(s)}var i=this.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,s=e;r<s.length;r++){var i=s[r];n=n||this.removeMarker_(i)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var s=t.fromDivPixelToLatLng(n);null!==s&&e.extend(s)}if(null!==r){var i=t.fromDivPixelToLatLng(r);null!==i&&e.extend(i)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,s=this.markers;r<s.length;r++){var i=s[r];i.isAdded=!1,e&&i.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,s=0,i=this.clusters;s<i.length;s++){var o=(t=i[s]).getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new NE(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),s=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),i=this.getExtendedBounds(s),o=Math.min(e+this.batchSize,this.markers.length),a=e;a<o;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,i)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(o)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var jE={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},UE={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},FE={};(0,t.memo)((function(e){var{children:n,options:r,averageCenter:s,batchSizeIE:i,calculator:o,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:d,imageSizes:f,maxZoom:p,minimumClusterSize:g,styles:m,title:v,zoomOnClick:y,onClick:b,onClusteringBegin:w,onClusteringEnd:_,onMouseOver:E,onMouseOut:k,onLoad:C,onUnmount:S}=e,[x,T]=(0,t.useState)(null),I=(0,t.useContext)(M_),[L,P]=(0,t.useState)(null),[O,N]=(0,t.useState)(null),[R,A]=(0,t.useState)(null),[M,D]=(0,t.useState)(null),[j,U]=(0,t.useState)(null);return(0,t.useEffect)((()=>{x&&k&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(x,jE.onMouseOut,k)))}),[k]),(0,t.useEffect)((()=>{x&&E&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(x,jE.onMouseOver,E)))}),[E]),(0,t.useEffect)((()=>{x&&b&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(x,jE.onClick,b)))}),[b]),(0,t.useEffect)((()=>{x&&w&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(x,jE.onClusteringBegin,w)))}),[w]),(0,t.useEffect)((()=>{x&&_&&(null!==R&&google.maps.event.removeListener(R),N(google.maps.event.addListener(x,jE.onClusteringEnd,_)))}),[_]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==x&&UE.averageCenter(x,s)}),[x,s]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==x&&UE.batchSizeIE(x,i)}),[x,i]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==x&&UE.calculator(x,o)}),[x,o]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==x&&UE.clusterClass(x,a)}),[x,a]),(0,t.useEffect)((()=>{"undefined"!==typeof l&&null!==x&&UE.enableRetinaIcons(x,l)}),[x,l]),(0,t.useEffect)((()=>{"undefined"!==typeof c&&null!==x&&UE.gridSize(x,c)}),[x,c]),(0,t.useEffect)((()=>{"undefined"!==typeof u&&null!==x&&UE.ignoreHidden(x,u)}),[x,u]),(0,t.useEffect)((()=>{"undefined"!==typeof h&&null!==x&&UE.imageExtension(x,h)}),[x,h]),(0,t.useEffect)((()=>{"undefined"!==typeof d&&null!==x&&UE.imagePath(x,d)}),[x,d]),(0,t.useEffect)((()=>{"undefined"!==typeof f&&null!==x&&UE.imageSizes(x,f)}),[x,f]),(0,t.useEffect)((()=>{"undefined"!==typeof p&&null!==x&&UE.maxZoom(x,p)}),[x,p]),(0,t.useEffect)((()=>{"undefined"!==typeof g&&null!==x&&UE.minimumClusterSize(x,g)}),[x,g]),(0,t.useEffect)((()=>{"undefined"!==typeof m&&null!==x&&UE.styles(x,m)}),[x,m]),(0,t.useEffect)((()=>{"undefined"!==typeof v&&null!==x&&UE.title(x,v)}),[x,v]),(0,t.useEffect)((()=>{"undefined"!==typeof y&&null!==x&&UE.zoomOnClick(x,y)}),[x,y]),(0,t.useEffect)((()=>{if(I){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DE(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r||FE),t=new ME(I,[],e);return s&&UE.averageCenter(t,s),i&&UE.batchSizeIE(t,i),o&&UE.calculator(t,o),a&&UE.clusterClass(t,a),l&&UE.enableRetinaIcons(t,l),c&&UE.gridSize(t,c),u&&UE.ignoreHidden(t,u),h&&UE.imageExtension(t,h),d&&UE.imagePath(t,d),f&&UE.imageSizes(t,f),p&&UE.maxZoom(t,p),g&&UE.minimumClusterSize(t,g),m&&UE.styles(t,m),v&&UE.title(t,v),y&&UE.zoomOnClick(t,y),k&&D(google.maps.event.addListener(t,jE.onMouseOut,k)),E&&U(google.maps.event.addListener(t,jE.onMouseOver,E)),b&&P(google.maps.event.addListener(t,jE.onClick,b)),w&&N(google.maps.event.addListener(t,jE.onClusteringBegin,w)),_&&A(google.maps.event.addListener(t,jE.onClusteringEnd,_)),T(t),C&&C(t),()=>{null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),S&&S(t)}}}),[]),null!==x&&n(x)||null}));class zE extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{markerClusterer:null}),L_(this,"setClustererCallback",(()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}))}componentDidMount(){if(this.context){var e=new ME(this.context,[],this.props.options);this.registeredEvents=z_({updaterMap:UE,eventMap:jE,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({markerClusterer:e})),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:UE,eventMap:jE,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),F_(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function BE(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}L_(zE,"contextType",M_);var VE=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<s.length;r++){var i=s[r];this.eventListeners.push(google.maps.event.addListener(this.div,i,BE))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||BE(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var i=t.getDiv(),o=i.offsetWidth,a=i.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,h=this.div.offsetHeight,d=this.infoBoxClearance.width,f=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+d?n=p.x+l-d:p.x+u+l+d>o&&(n=p.x+u+l+d-o),this.alignBottom?p.y<-c+f+h?r=p.y+c-f-h:p.y+c+f>a&&(r=p.y+c+f-a):p.y<-c+f?r=p.y+c-f:p.y+h+c+f>a&&(r=p.y+h+c+f-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),HE=["position"],WE=["position"];function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qE(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GE={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},QE={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},YE={};var XE,ZE;(0,t.memo)((function(e){var{children:n,anchor:r,options:s,position:o,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:u,onPositionChanged:h,onZindexChanged:d,onLoad:f,onUnmount:p}=e,g=(0,t.useContext)(M_),[m,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[C,S]=(0,t.useState)(null),[x,T]=(0,t.useState)(null),I=(0,t.useRef)(null);return(0,t.useEffect)((()=>{g&&null!==m&&(m.close(),r?m.open(g,r):m.getPosition()&&m.open(g))}),[g,m,r]),(0,t.useEffect)((()=>{s&&null!==m&&m.setOptions(s)}),[m,s]),(0,t.useEffect)((()=>{if(o&&null!==m){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);m.setPosition(e)}}),[o]),(0,t.useEffect)((()=>{"number"===typeof a&&null!==m&&m.setZIndex(a)}),[a]),(0,t.useEffect)((()=>{m&&l&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",l)))}),[l]),(0,t.useEffect)((()=>{m&&c&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(m,"domready",c)))}),[c]),(0,t.useEffect)((()=>{m&&u&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(m,"content_changed",u)))}),[u]),(0,t.useEffect)((()=>{m&&h&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(m,"position_changed",h)))}),[h]),(0,t.useEffect)((()=>{m&&d&&(null!==x&&google.maps.event.removeListener(x),T(google.maps.event.addListener(m,"zindex_changed",d)))}),[d]),(0,t.useEffect)((()=>{if(g){var e,t=s||YE,{position:n}=t,i=nE(t,HE);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var o=new VE(KE(KE({},i),e?{position:e}:{}));I.current=document.createElement("div"),v(o),l&&b(google.maps.event.addListener(o,"closeclick",l)),c&&_(google.maps.event.addListener(o,"domready",c)),u&&k(google.maps.event.addListener(o,"content_changed",u)),h&&S(google.maps.event.addListener(o,"position_changed",h)),d&&T(google.maps.event.addListener(o,"zindex_changed",d)),o.setContent(I.current),r?o.open(g,r):o.getPosition()?o.open(g):A_(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(o)}return()=>{null!==m&&(y&&google.maps.event.removeListener(y),E&&google.maps.event.removeListener(E),w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),x&&google.maps.event.removeListener(x),p&&p(m),m.close())}}),[]),I.current?(0,i.createPortal)(t.Children.only(n),I.current):null}));class JE extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"containerElement",null),L_(this,"state",{infoBox:null}),L_(this,"open",((e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):A_(!1,"You must provide either an anchor or a position prop for <InfoBox>.")})),L_(this,"setInfoBoxCallback",(()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}))}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=nE(t,WE);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var s=new VE(KE(KE({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=z_({updaterMap:QE,eventMap:GE,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:QE,eventMap:GE,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),F_(this.registeredEvents),t.close())}render(){return this.containerElement?(0,i.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}L_(JE,"contextType",M_);var $E=(ZE||(ZE=1,XE=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!==s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!==s--;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;0!==s--;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),XE),ek=P_($E),tk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class nk{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var s=tk[15&n];if(!s)throw new Error("Unrecognized array type.");var[i]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new nk(o,i,s,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=tk.indexOf(this.ArrayType),i=2*e*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-o%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+i+o+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return rk(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:o}=this,a=[0,s.length-1,0],l=[];a.length;){var c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=o)for(var d=h;d<=u;d++){var f=i[2*d],p=i[2*d+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(s[d])}else{var g=h+u>>1,m=i[2*g],v=i[2*g+1];m>=e&&m<=n&&v>=t&&v<=r&&l.push(s[g]),(0===c?e<=m:t<=v)&&(a.push(h),a.push(g-1),a.push(1-c)),(0===c?n>=m:r>=v)&&(a.push(g+1),a.push(u),a.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:i}=this,o=[0,r.length-1,0],a=[],l=n*n;o.length;){var c=o.pop()||0,u=o.pop()||0,h=o.pop()||0;if(u-h<=i)for(var d=h;d<=u;d++)ak(s[2*d],s[2*d+1],e,t)<=l&&a.push(r[d]);else{var f=h+u>>1,p=s[2*f],g=s[2*f+1];ak(p,g,e,t)<=l&&a.push(r[f]),(0===c?e-n<=p:t-n<=g)&&(o.push(h),o.push(f-1),o.push(1-c)),(0===c?e+n>=p:t+n>=g)&&(o.push(f+1),o.push(u),o.push(1-c))}}return a}}function rk(e,t,n,r,s,i){if(!(s-r<=n)){var o=r+s>>1;sk(e,t,o,r,s,i),rk(e,t,n,r,o-1,1-i),rk(e,t,n,o+1,s,1-i)}}function sk(e,t,n,r,s,i){for(;s>r;){if(s-r>600){var o=s-r+1,a=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1);sk(e,t,n,Math.max(r,Math.floor(n-a*c/o+u)),Math.min(s,Math.floor(n+(o-a)*c/o+u)),i)}var h=t[2*n+i],d=r,f=s;for(ik(e,t,r,n),t[2*s+i]>h&&ik(e,t,r,s);d<f;){for(ik(e,t,d,f),d++,f--;t[2*d+i]<h;)d++;for(;t[2*f+i]>h;)f--}t[2*r+i]===h?ik(e,t,r,f):ik(e,t,++f,s),f<=n&&(r=f+1),n<=f&&(s=f-1)}}function ik(e,t,n,r){ok(e,n,r),ok(t,2*n,2*r),ok(t,2*n+1,2*r+1)}function ok(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ak(e,t,n,r){var s=e-n,i=t-r;return s*s+i*i}var lk,ck={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},uk=Math.fround||(lk=new Float32Array(1),e=>(lk[0]=+e,lk[0]));class hk{constructor(e){this.options=Object.assign(Object.create(ck),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var i=[],o=0;o<e.length;o++){var a=e[o];if(a.geometry){var[l,c]=a.geometry.coordinates,u=uk(pk(l)),h=uk(gk(c));i.push(u,h,1/0,o,-1,1),this.options.reduce&&i.push(0)}}var d=this.trees[r+1]=this._createTree(i);t&&console.timeEnd(s);for(var f=r;f>=n;f--){var p=+Date.now();d=this.trees[f]=this._createTree(this._cluster(d,f)),t&&console.log("z%d: %d clusters in %dms",f,d.numItems,+Date.now()-p)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var o=this.getClusters([n,r,180,i],t),a=this.getClusters([-180,r,s,i],t);return o.concat(a)}var l=this.trees[this._limitZoom(t)],c=l.range(pk(n),gk(i),pk(s),gk(r)),u=l.data,h=[];for(var d of c){var f=this.stride*d;h.push(u[f+5]>1?dk(u,f,this.clusterProps):this.points[u[f+3]])}return h}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(r);var i=s.data;if(t*this.stride>=i.length)throw new Error(r);var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=i[t*this.stride],l=i[t*this.stride+1],c=s.within(a,l,o),u=[];for(var h of c){var d=h*this.stride;i[d+4]===e&&u.push(i[d+5]>1?dk(i,d,this.clusterProps):this.points[i[d+3]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:i,radius:o}=this.options,a=o/i,l=(n-a)/s,c=(n+1+a)/s,u={features:[]};return this._addTileFeatures(r.range((t-a)/s,l,(t+1+a)/s,c),r.data,t,n,s,u),0===t&&this._addTileFeatures(r.range(1-a/s,l,1,c),r.data,s,n,s,u),t===s-1&&this._addTileFeatures(r.range(0,l,a/s,c),r.data,-1,n,s,u),u.features.length?u:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,s){var i=this.getChildren(t);for(var o of i){var a=o.properties;if(a&&a.cluster?s+a.point_count<=r?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,r,s):s<r?s++:e.push(o),e.length===n)break}return s}_createTree(e){for(var t=new nk(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,s,i){for(var o of e){var a=o*this.stride,l=t[a+5]>1,c=void 0,u=void 0,h=void 0;if(l)c=fk(t,a,this.clusterProps),u=t[a],h=t[a+1];else{var d=this.points[t[a+3]];c=d.properties;var[f,p]=d.geometry.coordinates;u=pk(f),h=gk(p)}var g={type:1,geometry:[[Math.round(this.options.extent*(u*s-n)),Math.round(this.options.extent*(h*s-r))]],tags:c},m=void 0;void 0!==(m=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(g.id=m),i.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:s,minPoints:i}=this.options,o=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride,u=0;u<a.length;u+=c)if(!(a[u+2]<=t)){a[u+2]=t;var h=a[u],d=a[u+1],f=e.within(a[u],a[u+1],o),p=a[u+5],g=p;for(var m of f){var v=m*c;a[v+2]>t&&(g+=a[v+5])}if(g>p&&g>=i){var y=h*p,b=d*p,w=void 0,_=-1,E=(u/c<<5)+(t+1)+this.points.length;for(var k of f){var C=k*c;if(!(a[C+2]<=t)){a[C+2]=t;var S=a[C+5];y+=a[C]*S,b+=a[C+1]*S,a[C+4]=E,s&&(w||(w=this._map(a,u,!0),_=this.clusterProps.length,this.clusterProps.push(w)),s(w,this._map(a,C)))}}a[u+4]=E,l.push(y/g,b/g,1/0,E,-1,g),s&&l.push(_)}else{for(var x=0;x<c;x++)l.push(a[u+x]);if(g>1)for(var T of f){var I=T*c;if(!(a[I+2]<=t)){a[I+2]=t;for(var L=0;L<c;L++)l.push(a[I+L])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var s=this.points[e[t+3]].properties,i=this.options.map(s);return n&&i===s?Object.assign({},i):i}}function dk(e,t,n){return{type:"Feature",id:e[t+3],properties:fk(e,t,n),geometry:{type:"Point",coordinates:[mk(e[t]),vk(e[t+1])]}}}function fk(e,t,n){var r=e[t+5],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=e[t+6],o=-1===i?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:s})}function pk(e){return e/360+.5}function gk(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function mk(e){return 360*(e-.5)}function vk(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function yk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}class bk{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class wk{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(bk.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>bk.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(bk.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class _k{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return kk(t)}}var Ek,kk=e=>e.map((e=>new wk({position:bk.getPosition(e),markers:[e]})));class Ck extends _k{constructor(e){var{maxZoom:t,radius:n=60}=e,r=yk(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new hk(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!ek(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map((e=>{var t=bk.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!ek(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new wk({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});var s=r.marker;return new wk({markers:[s],position:bk.getPosition(s)})}}class Sk{constructor(e,t){this.markers={sum:e.length};var n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class xk{render(e,t,n){var{count:r,position:s}=e,i=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(i,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(bk.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var u={map:n,position:s,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}var h={position:s,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}class Tk{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(Tk,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Ek||(Ek={}));var Ik=(e,t,n)=>{n.fitBounds(t.bounds)};class Lk extends Tk{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:s=new Ck(r),renderer:i=new xk,onClusterClick:o=Ik}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=i,this.onClusterClick=o,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(bk.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Ek.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var r=new Set;for(var s of t)1==s.markers.length&&r.add(s.markers[0]);var i=[];for(var o of this.clusters)null!=o.marker&&(1==o.markers.length?r.has(o.marker)||bk.setMap(o.marker,null):i.push(o.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>i.forEach((e=>bk.setMap(e,null)))))}google.maps.event.trigger(this,Ek.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>bk.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){var e=new Sk(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>bk.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,Ek.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),bk.setMap(n.marker,t)}))}}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pk(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nk(e){var n=function(){A_(!!t.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,t.useContext)(M_);return A_(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[r,s]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if(n&&null===r){var t=new Lk(Ok(Ok({},e),{},{map:n}));s(t)}}),[n]),r}(0,t.memo)((function(e){var{children:t,options:n}=e,r=Nk(n);return null!==r?t(r):null}));var Rk={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ak={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,t.memo)((function(e){var{children:n,anchor:r,options:s,position:o,zIndex:a,onCloseClick:l,onDomReady:c,onContentChanged:u,onPositionChanged:h,onZindexChanged:d,onLoad:f,onUnmount:p}=e,g=(0,t.useContext)(M_),[m,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[w,_]=(0,t.useState)(null),[E,k]=(0,t.useState)(null),[C,S]=(0,t.useState)(null),[x,T]=(0,t.useState)(null),I=(0,t.useRef)(null);return(0,t.useEffect)((()=>{null!==m&&(m.close(),r?m.open(g,r):m.getPosition()&&m.open(g))}),[g,m,r]),(0,t.useEffect)((()=>{s&&null!==m&&m.setOptions(s)}),[m,s]),(0,t.useEffect)((()=>{o&&null!==m&&m.setPosition(o)}),[o]),(0,t.useEffect)((()=>{"number"===typeof a&&null!==m&&m.setZIndex(a)}),[a]),(0,t.useEffect)((()=>{m&&l&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",l)))}),[l]),(0,t.useEffect)((()=>{m&&c&&(null!==w&&google.maps.event.removeListener(w),_(google.maps.event.addListener(m,"domready",c)))}),[c]),(0,t.useEffect)((()=>{m&&u&&(null!==E&&google.maps.event.removeListener(E),k(google.maps.event.addListener(m,"content_changed",u)))}),[u]),(0,t.useEffect)((()=>{m&&h&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(m,"position_changed",h)))}),[h]),(0,t.useEffect)((()=>{m&&d&&(null!==x&&google.maps.event.removeListener(x),T(google.maps.event.addListener(m,"zindex_changed",d)))}),[d]),(0,t.useEffect)((()=>{var e=new google.maps.InfoWindow(s);return v(e),I.current=document.createElement("div"),l&&b(google.maps.event.addListener(e,"closeclick",l)),c&&_(google.maps.event.addListener(e,"domready",c)),u&&k(google.maps.event.addListener(e,"content_changed",u)),h&&S(google.maps.event.addListener(e,"position_changed",h)),d&&T(google.maps.event.addListener(e,"zindex_changed",d)),e.setContent(I.current),o&&e.setPosition(o),a&&e.setZIndex(a),r?e.open(g,r):e.getPosition()?e.open(g):A_(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(e),()=>{y&&google.maps.event.removeListener(y),E&&google.maps.event.removeListener(E),w&&google.maps.event.removeListener(w),C&&google.maps.event.removeListener(C),x&&google.maps.event.removeListener(x),p&&p(e),e.close()}}),[]),I.current?(0,i.createPortal)(t.Children.only(n),I.current):null}));class Mk extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"containerElement",null),L_(this,"state",{infoWindow:null}),L_(this,"open",((e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):A_(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")})),L_(this,"setInfoWindowCallback",(()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}))}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=z_({updaterMap:Ak,eventMap:Rk,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({infoWindow:e})),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:Ak,eventMap:Rk,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(F_(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,i.createPortal)(t.Children.only(this.props.children),this.containerElement):null}}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dk(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(Mk,"contextType",M_);var Uk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Fk={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},zk={};(0,t.memo)((function(e){var{options:n,draggable:r,editable:s,visible:i,path:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:g,onClick:m,onDrag:v,onLoad:y,onUnmount:b}=e,w=(0,t.useContext)(M_),[_,E]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[S,x]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,N]=(0,t.useState)(null),[R,A]=(0,t.useState)(null),[M,D]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==_&&_.setMap(w)}),[w]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==_&&_.setOptions(n)}),[_,n]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==_&&_.setDraggable(r)}),[_,r]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==_&&_.setEditable(s)}),[_,s]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==_&&_.setVisible(i)}),[_,i]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==_&&_.setPath(o)}),[_,o]),(0,t.useEffect)((()=>{_&&a&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(_,"dblclick",a)))}),[a]),(0,t.useEffect)((()=>{_&&l&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(_,"dragend",l)))}),[l]),(0,t.useEffect)((()=>{_&&c&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(_,"dragstart",c)))}),[c]),(0,t.useEffect)((()=>{_&&u&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(_,"mousedown",u)))}),[u]),(0,t.useEffect)((()=>{_&&h&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(_,"mousemove",h)))}),[h]),(0,t.useEffect)((()=>{_&&d&&(null!==R&&google.maps.event.removeListener(R),A(google.maps.event.addListener(_,"mouseout",d)))}),[d]),(0,t.useEffect)((()=>{_&&f&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(_,"mouseover",f)))}),[f]),(0,t.useEffect)((()=>{_&&p&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(_,"mouseup",p)))}),[p]),(0,t.useEffect)((()=>{_&&g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(_,"rightclick",g)))}),[g]),(0,t.useEffect)((()=>{_&&m&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(_,"click",m)))}),[m]),(0,t.useEffect)((()=>{_&&v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(_,"drag",v)))}),[v]),(0,t.useEffect)((()=>{var e=new google.maps.Polyline(jk(jk({},n||zk),{},{map:w}));return o&&e.setPath(o),"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof r&&e.setDraggable(r),a&&C(google.maps.event.addListener(e,"dblclick",a)),l&&x(google.maps.event.addListener(e,"dragend",l)),c&&I(google.maps.event.addListener(e,"dragstart",c)),u&&P(google.maps.event.addListener(e,"mousedown",u)),h&&N(google.maps.event.addListener(e,"mousemove",h)),d&&A(google.maps.event.addListener(e,"mouseout",d)),f&&D(google.maps.event.addListener(e,"mouseover",f)),p&&U(google.maps.event.addListener(e,"mouseup",p)),g&&z(google.maps.event.addListener(e,"rightclick",g)),m&&V(google.maps.event.addListener(e,"click",m)),v&&W(google.maps.event.addListener(e,"drag",v)),E(e),y&&y(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==S&&google.maps.event.removeListener(S),null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),b&&b(e),e.setMap(null)}}),[]),null}));class Bk extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{polyline:null}),L_(this,"setPolylineCallback",(()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}))}componentDidMount(){var e=new google.maps.Polyline(jk(jk({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:Fk,eventMap:Uk,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:Fk,eventMap:Uk,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),F_(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vk(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(Bk,"contextType",M_);var Wk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},qk={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var{options:n,draggable:r,editable:s,visible:i,path:o,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onLoad:b,onUnmount:w,onEdit:_}=e,E=(0,t.useContext)(M_),[k,C]=(0,t.useState)(null),[S,x]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,N]=(0,t.useState)(null),[R,A]=(0,t.useState)(null),[M,D]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,K]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==k&&k.setMap(E)}),[E]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==k&&k.setOptions(n)}),[k,n]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==k&&k.setDraggable(r)}),[k,r]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==k&&k.setEditable(s)}),[k,s]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==k&&k.setVisible(i)}),[k,i]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==k&&k.setPath(o)}),[k,o]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==k&&k.setPaths(a)}),[k,a]),(0,t.useEffect)((()=>{k&&"function"===typeof l&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(k,"dblclick",l)))}),[l]),(0,t.useEffect)((()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",(()=>{null===_||void 0===_||_(k)})),google.maps.event.addListener(k.getPath(),"set_at",(()=>{null===_||void 0===_||_(k)})),google.maps.event.addListener(k.getPath(),"remove_at",(()=>{null===_||void 0===_||_(k)})))}),[k,_]),(0,t.useEffect)((()=>{k&&"function"===typeof c&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(k,"dragend",c)))}),[c]),(0,t.useEffect)((()=>{k&&"function"===typeof u&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(k,"dragstart",u)))}),[u]),(0,t.useEffect)((()=>{k&&"function"===typeof h&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(k,"mousedown",h)))}),[h]),(0,t.useEffect)((()=>{k&&"function"===typeof d&&(null!==R&&google.maps.event.removeListener(R),A(google.maps.event.addListener(k,"mousemove",d)))}),[d]),(0,t.useEffect)((()=>{k&&"function"===typeof f&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(k,"mouseout",f)))}),[f]),(0,t.useEffect)((()=>{k&&"function"===typeof p&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(k,"mouseover",p)))}),[p]),(0,t.useEffect)((()=>{k&&"function"===typeof g&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(k,"mouseup",g)))}),[g]),(0,t.useEffect)((()=>{k&&"function"===typeof m&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(k,"rightclick",m)))}),[m]),(0,t.useEffect)((()=>{k&&"function"===typeof v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(k,"click",v)))}),[v]),(0,t.useEffect)((()=>{k&&"function"===typeof y&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(k,"drag",y)))}),[y]),(0,t.useEffect)((()=>{var e=new google.maps.Polygon(Hk(Hk({},n),{},{map:E}));return o&&e.setPath(o),a&&e.setPaths(a),"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof r&&e.setDraggable(r),l&&x(google.maps.event.addListener(e,"dblclick",l)),c&&I(google.maps.event.addListener(e,"dragend",c)),u&&P(google.maps.event.addListener(e,"dragstart",u)),h&&N(google.maps.event.addListener(e,"mousedown",h)),d&&A(google.maps.event.addListener(e,"mousemove",d)),f&&D(google.maps.event.addListener(e,"mouseout",f)),p&&U(google.maps.event.addListener(e,"mouseover",p)),g&&z(google.maps.event.addListener(e,"mouseup",g)),m&&V(google.maps.event.addListener(e,"rightclick",m)),v&&W(google.maps.event.addListener(e,"click",v)),y&&K(google.maps.event.addListener(e,"drag",y)),C(e),b&&b(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),w&&w(e),e.setMap(null)}}),[]),null}));class Kk extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=z_({updaterMap:qk,eventMap:Wk,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:qk,eventMap:Wk,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),F_(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gk(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(Kk,"contextType",M_);var Yk={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Xk={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,t.memo)((function(e){var{options:n,bounds:r,draggable:s,editable:i,visible:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:g,onClick:m,onDrag:v,onBoundsChanged:y,onLoad:b,onUnmount:w}=e,_=(0,t.useContext)(M_),[E,k]=(0,t.useState)(null),[C,S]=(0,t.useState)(null),[x,T]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[N,R]=(0,t.useState)(null),[A,M]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[U,F]=(0,t.useState)(null),[z,B]=(0,t.useState)(null),[V,H]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==E&&E.setMap(_)}),[_]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==E&&E.setOptions(n)}),[E,n]),(0,t.useEffect)((()=>{"undefined"!==typeof s&&null!==E&&E.setDraggable(s)}),[E,s]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==E&&E.setEditable(i)}),[E,i]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==E&&E.setVisible(o)}),[E,o]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==E&&E.setBounds(r)}),[E,r]),(0,t.useEffect)((()=>{E&&a&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(E,"dblclick",a)))}),[a]),(0,t.useEffect)((()=>{E&&l&&(null!==x&&google.maps.event.removeListener(x),T(google.maps.event.addListener(E,"dragend",l)))}),[l]),(0,t.useEffect)((()=>{E&&c&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(E,"dragstart",c)))}),[c]),(0,t.useEffect)((()=>{E&&u&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(E,"mousedown",u)))}),[u]),(0,t.useEffect)((()=>{E&&h&&(null!==N&&google.maps.event.removeListener(N),R(google.maps.event.addListener(E,"mousemove",h)))}),[h]),(0,t.useEffect)((()=>{E&&d&&(null!==A&&google.maps.event.removeListener(A),M(google.maps.event.addListener(E,"mouseout",d)))}),[d]),(0,t.useEffect)((()=>{E&&f&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(E,"mouseover",f)))}),[f]),(0,t.useEffect)((()=>{E&&p&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(E,"mouseup",p)))}),[p]),(0,t.useEffect)((()=>{E&&g&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(E,"rightclick",g)))}),[g]),(0,t.useEffect)((()=>{E&&m&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(E,"click",m)))}),[m]),(0,t.useEffect)((()=>{E&&v&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(E,"drag",v)))}),[v]),(0,t.useEffect)((()=>{E&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(E,"bounds_changed",y)))}),[y]),(0,t.useEffect)((()=>{var e=new google.maps.Rectangle(Qk(Qk({},n),{},{map:_}));return"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof s&&e.setDraggable(s),"undefined"!==typeof r&&e.setBounds(r),a&&S(google.maps.event.addListener(e,"dblclick",a)),l&&T(google.maps.event.addListener(e,"dragend",l)),c&&L(google.maps.event.addListener(e,"dragstart",c)),u&&O(google.maps.event.addListener(e,"mousedown",u)),h&&R(google.maps.event.addListener(e,"mousemove",h)),d&&M(google.maps.event.addListener(e,"mouseout",d)),f&&j(google.maps.event.addListener(e,"mouseover",f)),p&&F(google.maps.event.addListener(e,"mouseup",p)),g&&B(google.maps.event.addListener(e,"rightclick",g)),m&&H(google.maps.event.addListener(e,"click",m)),v&&q(google.maps.event.addListener(e,"drag",v)),y&&G(google.maps.event.addListener(e,"bounds_changed",y)),k(e),b&&b(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==x&&google.maps.event.removeListener(x),null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==V&&google.maps.event.removeListener(V),null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),w&&w(e),e.setMap(null)}}),[]),null}));class Zk extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{rectangle:null}),L_(this,"setRectangleCallback",(()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}))}componentDidMount(){var e=new google.maps.Rectangle(Qk(Qk({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:Xk,eventMap:Yk,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:Xk,eventMap:Yk,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),F_(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(Zk,"contextType",M_);var eC={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},tC={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},nC={};(0,t.memo)((function(e){var{options:n,center:r,radius:s,draggable:i,editable:o,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onCenterChanged:b,onRadiusChanged:w,onLoad:_,onUnmount:E}=e,k=(0,t.useContext)(M_),[C,S]=(0,t.useState)(null),[x,T]=(0,t.useState)(null),[I,L]=(0,t.useState)(null),[P,O]=(0,t.useState)(null),[N,R]=(0,t.useState)(null),[A,M]=(0,t.useState)(null),[D,j]=(0,t.useState)(null),[U,F]=(0,t.useState)(null),[z,B]=(0,t.useState)(null),[V,H]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[Q,Y]=(0,t.useState)(null),[X,Z]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==C&&C.setMap(k)}),[k]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==C&&C.setOptions(n)}),[C,n]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==C&&C.setDraggable(i)}),[C,i]),(0,t.useEffect)((()=>{"undefined"!==typeof o&&null!==C&&C.setEditable(o)}),[C,o]),(0,t.useEffect)((()=>{"undefined"!==typeof a&&null!==C&&C.setVisible(a)}),[C,a]),(0,t.useEffect)((()=>{"number"===typeof s&&null!==C&&C.setRadius(s)}),[C,s]),(0,t.useEffect)((()=>{"undefined"!==typeof r&&null!==C&&C.setCenter(r)}),[C,r]),(0,t.useEffect)((()=>{C&&l&&(null!==x&&google.maps.event.removeListener(x),T(google.maps.event.addListener(C,"dblclick",l)))}),[l]),(0,t.useEffect)((()=>{C&&c&&(null!==I&&google.maps.event.removeListener(I),L(google.maps.event.addListener(C,"dragend",c)))}),[c]),(0,t.useEffect)((()=>{C&&u&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(C,"dragstart",u)))}),[u]),(0,t.useEffect)((()=>{C&&h&&(null!==N&&google.maps.event.removeListener(N),R(google.maps.event.addListener(C,"mousedown",h)))}),[h]),(0,t.useEffect)((()=>{C&&d&&(null!==A&&google.maps.event.removeListener(A),M(google.maps.event.addListener(C,"mousemove",d)))}),[d]),(0,t.useEffect)((()=>{C&&f&&(null!==D&&google.maps.event.removeListener(D),j(google.maps.event.addListener(C,"mouseout",f)))}),[f]),(0,t.useEffect)((()=>{C&&p&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(C,"mouseover",p)))}),[p]),(0,t.useEffect)((()=>{C&&g&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(C,"mouseup",g)))}),[g]),(0,t.useEffect)((()=>{C&&m&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(C,"rightclick",m)))}),[m]),(0,t.useEffect)((()=>{C&&v&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(C,"click",v)))}),[v]),(0,t.useEffect)((()=>{C&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(C,"drag",y)))}),[y]),(0,t.useEffect)((()=>{C&&b&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(C,"center_changed",b)))}),[v]),(0,t.useEffect)((()=>{C&&w&&(null!==X&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(C,"radius_changed",w)))}),[w]),(0,t.useEffect)((()=>{var e=new google.maps.Circle($k($k({},n||nC),{},{map:k}));return"number"===typeof s&&e.setRadius(s),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof s&&e.setRadius(s),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof i&&e.setDraggable(i),l&&T(google.maps.event.addListener(e,"dblclick",l)),c&&L(google.maps.event.addListener(e,"dragend",c)),u&&O(google.maps.event.addListener(e,"dragstart",u)),h&&R(google.maps.event.addListener(e,"mousedown",h)),d&&M(google.maps.event.addListener(e,"mousemove",d)),f&&j(google.maps.event.addListener(e,"mouseout",f)),p&&F(google.maps.event.addListener(e,"mouseover",p)),g&&B(google.maps.event.addListener(e,"mouseup",g)),m&&H(google.maps.event.addListener(e,"rightclick",m)),v&&q(google.maps.event.addListener(e,"click",v)),y&&G(google.maps.event.addListener(e,"drag",y)),b&&Y(google.maps.event.addListener(e,"center_changed",b)),w&&Z(google.maps.event.addListener(e,"radius_changed",w)),S(e),_&&_(e),()=>{null!==x&&google.maps.event.removeListener(x),null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==V&&google.maps.event.removeListener(V),null!==W&&google.maps.event.removeListener(W),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),E&&E(e),e.setMap(null)}}),[]),null}));class rC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{circle:null}),L_(this,"setCircleCallback",(()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)}))}componentDidMount(){var e=new google.maps.Circle($k($k({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:tC,eventMap:eC,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:tC,eventMap:eC,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),F_(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sC(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(rC,"contextType",M_);var oC={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},aC={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,t.memo)((function(e){var{options:n,onClick:r,onDblClick:s,onMouseDown:i,onMouseMove:o,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:d,onRemoveProperty:f,onSetGeometry:p,onSetProperty:g,onLoad:m,onUnmount:v}=e,y=(0,t.useContext)(M_),[b,w]=(0,t.useState)(null),[_,E]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[S,x]=(0,t.useState)(null),[T,I]=(0,t.useState)(null),[L,P]=(0,t.useState)(null),[O,N]=(0,t.useState)(null),[R,A]=(0,t.useState)(null),[M,D]=(0,t.useState)(null),[j,U]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,K]=(0,t.useState)(null);return(0,t.useEffect)((()=>{null!==b&&b.setMap(y)}),[y]),(0,t.useEffect)((()=>{b&&s&&(null!==_&&google.maps.event.removeListener(_),E(google.maps.event.addListener(b,"dblclick",s)))}),[s]),(0,t.useEffect)((()=>{b&&i&&(null!==k&&google.maps.event.removeListener(k),C(google.maps.event.addListener(b,"mousedown",i)))}),[i]),(0,t.useEffect)((()=>{b&&o&&(null!==S&&google.maps.event.removeListener(S),x(google.maps.event.addListener(b,"mousemove",o)))}),[o]),(0,t.useEffect)((()=>{b&&a&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(b,"mouseout",a)))}),[a]),(0,t.useEffect)((()=>{b&&l&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(b,"mouseover",l)))}),[l]),(0,t.useEffect)((()=>{b&&c&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(b,"mouseup",c)))}),[c]),(0,t.useEffect)((()=>{b&&u&&(null!==R&&google.maps.event.removeListener(R),A(google.maps.event.addListener(b,"rightclick",u)))}),[u]),(0,t.useEffect)((()=>{b&&r&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(b,"click",r)))}),[r]),(0,t.useEffect)((()=>{b&&h&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(b,"addfeature",h)))}),[h]),(0,t.useEffect)((()=>{b&&d&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(b,"removefeature",d)))}),[d]),(0,t.useEffect)((()=>{b&&f&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(b,"removeproperty",f)))}),[f]),(0,t.useEffect)((()=>{b&&p&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(b,"setgeometry",p)))}),[p]),(0,t.useEffect)((()=>{b&&g&&(null!==q&&google.maps.event.removeListener(q),K(google.maps.event.addListener(b,"setproperty",g)))}),[g]),(0,t.useEffect)((()=>{if(null!==y){var e=new google.maps.Data(iC(iC({},n),{},{map:y}));s&&E(google.maps.event.addListener(e,"dblclick",s)),i&&C(google.maps.event.addListener(e,"mousedown",i)),o&&x(google.maps.event.addListener(e,"mousemove",o)),a&&I(google.maps.event.addListener(e,"mouseout",a)),l&&P(google.maps.event.addListener(e,"mouseover",l)),c&&N(google.maps.event.addListener(e,"mouseup",c)),u&&A(google.maps.event.addListener(e,"rightclick",u)),r&&D(google.maps.event.addListener(e,"click",r)),h&&U(google.maps.event.addListener(e,"addfeature",h)),d&&z(google.maps.event.addListener(e,"removefeature",d)),f&&V(google.maps.event.addListener(e,"removeproperty",f)),p&&W(google.maps.event.addListener(e,"setgeometry",p)),g&&K(google.maps.event.addListener(e,"setproperty",g)),w(e),m&&m(e)}return()=>{b&&(null!==_&&google.maps.event.removeListener(_),null!==k&&google.maps.event.removeListener(k),null!==S&&google.maps.event.removeListener(S),null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==M&&google.maps.event.removeListener(M),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==B&&google.maps.event.removeListener(B),null!==H&&google.maps.event.removeListener(H),null!==q&&google.maps.event.removeListener(q),v&&v(b),b.setMap(null))}}),[]),null}));class lC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{data:null}),L_(this,"setDataCallback",(()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)}))}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(iC(iC({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:aC,eventMap:oC,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({data:e})),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:aC,eventMap:oC,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),F_(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(lC,"contextType",M_);var hC={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},dC={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class fC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{kmlLayer:null}),L_(this,"setKmlLayerCallback",(()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}))}componentDidMount(){var e=new google.maps.KmlLayer(uC(uC({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:dC,eventMap:hC,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:dC,eventMap:hC,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),F_(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function pC(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function gC(e,t){return new t(e.lat,e.lng)}function mC(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function vC(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),s=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-s.x-t.x,"px"),height:"".concat(s.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,mC)):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+t.x,"px"),top:"".concat(i+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,gC))}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bC(e,t,n,r,s){class i extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yC(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.container?pC(this.container,s):{x:0,y:0}),n=vC(e,t,this.bounds,this.position);for(var[r,i]of Object.entries(n))this.container.style[r]=i}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new i(e,t,n,r)}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _C(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function EC(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}L_(fC,"contextType",M_);(0,t.memo)((function(e){var{position:n,bounds:r,mapPaneName:s,zIndex:o,onLoad:a,onUnmount:l,getPixelPositionOffset:c,children:u}=e,h=(0,t.useContext)(M_),d=(0,t.useMemo)((()=>{var e=document.createElement("div");return e.style.position="absolute",e}),[]),f=(0,t.useMemo)((()=>bC(d,s,n,r,c)),[d,s,n,r]);return(0,t.useEffect)((()=>(null===a||void 0===a||a(f),null===f||void 0===f||f.setMap(h),()=>{null===l||void 0===l||l(f),null===f||void 0===f||f.setMap(null)})),[h,f]),(0,t.useEffect)((()=>{d.style.zIndex="".concat(o)}),[o,d]),i.createPortal(u,d)}));class kC extends t.PureComponent{constructor(e){super(e),L_(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),L_(this,"updatePane",(()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();A_(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})})),L_(this,"onAdd",(()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)})),L_(this,"onPositionElement",(()=>{var e,t,n,r,s,i,o=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wC(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:0,y:0},this.containerRef.current?pC(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=vC(o,a,this.props.bounds,this.props.position);(s=l,i={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},s.left!==i.left||s.top!==i.top||s.width!==i.height||s.height!==i.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})})),L_(this,"draw",(()=>{this.onPositionElement()})),L_(this,"onRemove",(()=>{var e,t;this.setState((()=>({paneEl:null}))),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)})),this.containerRef=(0,t.createRef)();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=_C(e.position),n=_C(this.props.position),r=EC(e.bounds),s=EC(this.props.bounds);t===n&&r===s||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?i.createPortal((0,Lv.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:t.Children.only(this.props.children)}),e):null}}function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CC(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(kC,"FLOAT_PANE","floatPane"),L_(kC,"MAP_PANE","mapPane"),L_(kC,"MARKER_LAYER","markerLayer"),L_(kC,"OVERLAY_LAYER","overlayLayer"),L_(kC,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),L_(kC,"contextType",M_);var xC={onDblClick:"dblclick",onClick:"click"},TC={opacity(e,t){e.setOpacity(t)}};(0,t.memo)((function(e){var{url:n,bounds:r,options:s,visible:i}=e,o=(0,t.useContext)(M_),a=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=(0,t.useMemo)((()=>new google.maps.GroundOverlay(n,a,s)),[]);return(0,t.useEffect)((()=>{null!==l&&l.setMap(o)}),[o]),(0,t.useEffect)((()=>{"undefined"!==typeof n&&null!==l&&(l.set("url",n),l.setMap(o))}),[l,n]),(0,t.useEffect)((()=>{"undefined"!==typeof i&&null!==l&&l.setOpacity(i?1:0)}),[l,i]),(0,t.useEffect)((()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==l&&(l.set("bounds",e),l.setMap(o))}),[l,r]),null}));class IC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{groundOverlay:null}),L_(this,"setGroundOverlayCallback",(()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}))}componentDidMount(){A_(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,SC(SC({},this.props.options),{},{map:this.context}));this.registeredEvents=z_({updaterMap:TC,eventMap:xC,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:TC,eventMap:xC,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LC(Object(n),!0).forEach((function(t){L_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}L_(IC,"defaultProps",{onLoad:function(){}}),L_(IC,"contextType",M_);var OC={},NC={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,t.memo)((function(e){var{data:n,onLoad:r,onUnmount:s,options:i}=e,o=(0,t.useContext)(M_),[a,l]=(0,t.useState)(null);return(0,t.useEffect)((()=>{google.maps.visualization||A_(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,t.useEffect)((()=>{A_(!!n,"data property is required in HeatmapLayer %s",n)}),[n]),(0,t.useEffect)((()=>{null!==a&&a.setMap(o)}),[o]),(0,t.useEffect)((()=>{i&&null!==a&&a.setOptions(i)}),[a,i]),(0,t.useEffect)((()=>{var e=new google.maps.visualization.HeatmapLayer(PC(PC({},i),{},{data:n,map:o}));return l(e),r&&r(e),()=>{null!==a&&(s&&s(a),a.setMap(null))}}),[]),null}));class RC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{heatmapLayer:null}),L_(this,"setHeatmapLayerCallback",(()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}))}componentDidMount(){A_(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),A_(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(PC(PC({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=z_({updaterMap:NC,eventMap:OC,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}componentDidUpdate(e){F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:NC,eventMap:OC,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),F_(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}L_(RC,"contextType",M_);var AC={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},MC={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class DC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{streetViewPanorama:null}),L_(this,"setStreetViewPanoramaCallback",(()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}))}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=z_({updaterMap:MC,eventMap:AC,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({streetViewPanorama:n})),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:MC,eventMap:AC,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),F_(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}L_(DC,"contextType",M_);class jC extends t.PureComponent{constructor(){super(...arguments),L_(this,"state",{streetViewService:null}),L_(this,"setStreetViewServiceCallback",(()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}))}componentDidMount(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}L_(jC,"contextType",M_);t.PureComponent;var UC={onDirectionsChanged:"directions_changed"},FC={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class zC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"state",{directionsRenderer:null}),L_(this,"setDirectionsRendererCallback",(()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}))}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=z_({updaterMap:FC,eventMap:UC,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:FC,eventMap:UC,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),F_(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}L_(zC,"contextType",M_);t.PureComponent;var BC={onPlacesChanged:"places_changed"},VC={bounds(e,t){e.setBounds(t)}};class HC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"containerElement",(0,t.createRef)()),L_(this,"state",{searchBox:null}),L_(this,"setSearchBoxCallback",(()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}))}componentDidMount(){if(A_(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=z_({updaterMap:VC,eventMap:BC,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:VC,eventMap:BC,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),F_(this.registeredEvents))}render(){return(0,Lv.jsx)("div",{ref:this.containerElement,children:t.Children.only(this.props.children)})}}L_(HC,"contextType",M_);var WC={onPlaceChanged:"place_changed"},qC={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class KC extends t.PureComponent{constructor(){super(...arguments),L_(this,"registeredEvents",[]),L_(this,"containerElement",(0,t.createRef)()),L_(this,"state",{autocomplete:null}),L_(this,"setAutocompleteCallback",(()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}))}componentDidMount(){var e;A_(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=z_({updaterMap:qC,eventMap:WC,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({autocomplete:n})),this.setAutocompleteCallback)}}componentDidUpdate(e){F_(this.registeredEvents),this.registeredEvents=z_({updaterMap:qC,eventMap:WC,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&F_(this.registeredEvents)}render(){return(0,Lv.jsx)("div",{ref:this.containerElement,className:this.props.className,children:t.Children.only(this.props.children)})}}L_(KC,"defaultProps",{className:""}),L_(KC,"contextType",M_);const GC=e=>{let{searchQuery:n,coordinates:r,showCoffeeShow:s}=e;const[i,o]=(0,t.useState)(14),a=(0,t.useRef)(null),[l,c]=(0,t.useState)({lat:42.350688,lng:-71.072524}),{isLoaded:u,loadError:h}=function(e){var{id:n=eE.id,version:r=eE.version,nonce:s,googleMapsApiKey:i,language:o,region:a,libraries:l=dE,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=e,d=(0,t.useRef)(!1),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(void 0);(0,t.useEffect)((function(){return d.current=!0,()=>{d.current=!1}}),[]);var v=(0,t.useMemo)((()=>new hE({id:n,apiKey:i,version:r,libraries:l,language:o||"en",region:a||"US",mapIds:u||[],nonce:s||"",authReferrerPolicy:h||"origin"})),[n,i,r,l,o,a,u,s,h]);(0,t.useEffect)((function(){f||v.load().then((()=>{d.current&&p(!0)})).catch((e=>{m(e)}))}),[]),(0,t.useEffect)((()=>{G_&&c&&X_()}),[c]);var y=(0,t.useRef)();return(0,t.useEffect)((()=>{y.current&&l!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=l}),[l]),{isLoaded:f,loadError:g}}({googleMapsApiKey:"AIzaSyCQ9wOr82fTxxlBg1vBBhhKtPx8wazG5L8"});if((0,t.useEffect)((()=>{if(u&&n){(new window.google.maps.Geocoder).geocode({address:n},((e,t)=>{if("OK"===t&&e[0]){const{lat:t,lng:n}=e[0].geometry.location;c({lat:t(),lng:n()}),o(15)}else alert("City not found.")}))}}),[n,u]),!u)return(0,Lv.jsx)("div",{children:"Loading Map..."});if(h)return(0,Lv.jsx)("div",{children:"Error loading maps"});return(0,Lv.jsx)(H_,{mapContainerStyle:{width:"100%",height:"100vh"},center:l,zoom:i,options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],mapTypeControl:!1,zoomControl:!0,disableDefaultUI:!0},onLoad:e=>a.current=e,onZoomChanged:()=>{if(a.current){const e=a.current.getZoom();o(e)}},children:r.map((e=>{return(0,Lv.jsxs)(t.Fragment,{children:[(0,Lv.jsx)(PE,{position:{lat:e.latitude,lng:e.longitude}}),(i<1||i>13)&&(0,Lv.jsx)(kC,{position:{lat:e.latitude,lng:e.longitude},mapPaneName:kC.OVERLAY_MOUSE_TARGET,children:(0,Lv.jsxs)("div",{style:{background:"white",width:"8rem",height:"3rem",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.3)",transform:"translate(20px, -50px)"},onClick:()=>s(e.id),children:[(0,Lv.jsx)("p",{style:{textAlign:"left",lineHeight:"1rem",marginLeft:".5rem",paddingTop:".5rem",fontWeight:"bold",fontSize:".7rem"},children:e.shop_name?(n=e.shop_name,n&&n.length>19?n.substring(0,19)+"...":n):""}),(0,Lv.jsx)("p",{style:{textAlign:"left",lineHeight:".3rem",marginLeft:".5rem"},children:e.roast_style})]})})]},e.id);var n}))})},QC=e=>{let{navigate:n}=e;const[r,s]=(0,t.useState)({lat:42.3779725,lng:-71.1073006}),[i,o]=(0,t.useState)(15),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)([]),[h,d]=(0,t.useState)(null),[f,p]=(0,t.useState)([]),[g,m]=(0,t.useState)(null),[v,y]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{const e=(await Zp(Kf(qm,"Coordinates"))).docs.map((e=>mt({id:e.id},e.data())));u(e)})()}),[]);const b=e=>{l(!a),(async e=>{const t=(await Zp(Kf(qm,"CoffeeShops"))).docs.map((e=>mt({id:e.id},e.data()))).find((t=>t.id===e));d(t)})(e),(async e=>{console.log("Fetching reviews for shop ID:",e);const t=(await Zp(Kf(qm,"ShopReviews"))).docs.map((e=>mt({id:e.id},e.data()))).filter((t=>t.shop_id===e));console.log("Fetched reviews:",t),m(t)})(e),w(e)},w=async e=>{console.log("Fetching coffee bags for shop ID:",e);const t=(await Zp(Kf(qm,"CoffeeBeans"))).docs.map((e=>mt({id:e.id},e.data()))).filter((t=>t.shop_id===e));console.log("Fetched bags:",t),p(t)};return(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)(Dv,{onSearch:e=>{if(!window.google)return;(new window.google.maps.Geocoder).geocode({address:e},((t,n)=>{if("OK"===n&&t[0]){const{lat:n,lng:r}=t[0].geometry.location;s({lat:n(),lng:r()}),o(15),y(e)}else alert("City not found.")}))}}),(0,Lv.jsx)(GC,{center:r,zoom:i,showCoffeeShow:b,coordinates:c,searchQuery:v}),a&&(0,Lv.jsx)(x_,{showCoffeeShow:b,coffeeShop:h,shopReviews:g,navigate:n,coffeeBeans:f})]})};const YC=function(){const e=ee(),n=J(),r="/home"===n.pathname,[s,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),{setCurrentUser:u}=Km();return(0,Lv.jsxs)("div",{className:"navbar-container",children:[o&&(0,Lv.jsxs)("div",{className:"dropdown-menu",children:[(0,Lv.jsx)("a",{onClick:()=>e("/addshop"),children:"Add Shop"}),(0,Lv.jsx)("br",{}),r&&(0,Lv.jsxs)(Lv.Fragment,{children:[(0,Lv.jsx)("br",{}),(0,Lv.jsx)("a",{onClick:()=>e("/editshop"),children:"Edit Shop"}),(0,Lv.jsx)("br",{})]}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("a",{onClick:()=>e("/addreview"),children:"Add Review"})]}),(0,Lv.jsx)(f_,{icon:__,className:"add-icon",onClick:()=>a(!o)}),(0,Lv.jsxs)("div",{onClick:()=>i(!s),className:"user-icon-container",children:[(0,Lv.jsx)(f_,{icon:m_,className:"user-icon"}),s&&(0,Lv.jsxs)("div",{className:"dropdown-menu",children:[(0,Lv.jsx)("a",{onClick:()=>e("/profile"),children:"Profile"}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("a",{onClick:()=>e("/editprofile"),children:"Edit Profile"}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("a",{onClick:async()=>{try{await js(Wm),localStorage.removeItem("authToken"),u(null),e("/login"),wv.success("Successfully logged out!")}catch(t){console.error("Error during logout:",t.message||t),wv.error("Logout error. Please try again.")}},children:"Logout"})]})]}),"/feed"!==n.pathname&&(0,Lv.jsx)(f_,{icon:g_,onClick:()=>e("/feed"),className:"add-icon"}),["/profile","/editprofile","/addshop","/addreview","/editshop","/feed","/otheruser/","/beans/"].includes(n.pathname)&&(0,Lv.jsx)(f_,{icon:w_,className:"map-icon",onClick:()=>e("/home")})]})},XC=e=>{let{navigate:t}=e;return(0,Lv.jsxs)("div",{className:"landingpage-container",children:[(0,Lv.jsx)("h3",{children:"Welcome to BrewMap"}),(0,Lv.jsxs)("div",{className:"icon-container",children:[(0,Lv.jsxs)("div",{className:"icon-wrapper",onClick:()=>{t("/login")},children:[(0,Lv.jsx)(f_,{icon:m_,className:"icon"}),(0,Lv.jsx)("p",{children:"Sign in/up"})]}),(0,Lv.jsxs)("div",{className:"icon-wrapper",children:[(0,Lv.jsx)(f_,{icon:w_,className:"icon",onClick:()=>{t("/home")}}),(0,Lv.jsx)("p",{children:"View Map"})]}),(0,Lv.jsxs)("div",{className:"icon-wrapper",children:[(0,Lv.jsx)(f_,{icon:b_,className:"icon",onClick:()=>{t("/addshop")}}),(0,Lv.jsx)("p",{children:"Add a Shop"})]}),(0,Lv.jsxs)("div",{className:"icon-wrapper",children:[(0,Lv.jsx)(f_,{icon:v_,className:"icon",onClick:()=>{t("/addreview")}}),(0,Lv.jsx)("p",{children:"Add a review"})]})]})]})},ZC=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)([]),i=to().currentUser,[o,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[m,v]=(0,t.useState)([]),y=["Bean Scout","Brew Pathfinder","Espresso Explorer","Caffeine Pioneer"],b=["Caffeine Shutterbug","Snapshot Sipper","Latte Luminary","Brewtiful Visionary"],w=["Percolating Critic","Grounded Reviewer","Brewmaster Critic","Cupping Connoisseur"];(0,t.useEffect)((()=>{(async()=>{if(i)try{const e=await Yp(Gf(qm,"BrewUsers",i.uid));e.exists()&&n(e.data())}catch(e){console.error("Error fetching user data:",e)}if(i)try{const e=Mp(Kf(qm,"BrewBadges"),jp("id","==",i.uid)),t=await Zp(e);t.empty||t.forEach((e=>a(e.data())))}catch(e){console.error("Error fetching user badges:",e)}})()}),[i]),(0,t.useEffect)((()=>{(async()=>{if(i)try{const e=Mp(Kf(qm,"ShopReviews"),jp("userID_submitting","==",i.uid)),t=await Zp(e),n=[];t.forEach((e=>{n.push(mt({id:e.id},e.data()))})),s(n)}catch(e){console.error("Error fetching user reviews:",e)}})()}),[i]);return(0,Lv.jsx)("div",{className:"profile",children:(0,Lv.jsxs)("div",{className:"profile-container",children:[e?(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h2",{children:(0,Lv.jsxs)("strong",{children:[e.firstName," ",e.lastName]})}),(0,Lv.jsxs)("div",{className:"profile_buttons",children:[(0,Lv.jsx)("button",{onClick:()=>{c(!0)},id:"custom_button",children:"Custom Coffee Shop Recc"}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{onClick:()=>{if(!i||!e)return;const t=btoa(i.uid),n=i.uid.slice(-4),r=e.firstName+e.lastName,s="".concat(window.location.origin,"/otheruser/").concat(n,"-").concat(r,"?uid=").concat(t);navigator.clipboard.writeText(s).then((()=>{alert("Follow link copied to clipboard! Send to your friends so they can follow you!")})).catch((e=>{console.error("Error copying link:",e)}))},id:"custom_button",children:"Copy Follow Link"})]}),l&&(0,Lv.jsx)("div",{className:"modal-overlay",children:(0,Lv.jsxs)("div",{className:"modal",children:[(0,Lv.jsx)("p",{children:(0,Lv.jsx)("strong",{children:"What city do you want your coffee shop reccomendations in?"})}),(0,Lv.jsx)("p",{children:(0,Lv.jsx)("i",{children:"Our reccomendations are based on user reviews. So! If there arent 6 - or any - locations listed it means we don't have enough reviews in that city that match with your preferences... encourage your friends to add reviews so we can improve up our reccomendations!!!"})}),(0,Lv.jsx)("input",{type:"text",value:d,placeholder:"City you want the recc in- ex. Portland",onChange:e=>f(e.target.value)}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("input",{type:"text",value:p,placeholder:"State you want the rec in- ex: ME",onChange:e=>{const t=e.target.value.toUpperCase().slice(0,2);g(t)}}),(0,Lv.jsxs)("div",{className:"modal-buttons",children:[(0,Lv.jsx)("button",{onClick:async()=>{console.log("User input:",d,p);try{const e=Mp(Kf(qm,"CoffeeShops"),jp("city","==",d.toUpperCase()),jp("state","==",p.toUpperCase())),t=await Zp(e);if(t.empty)console.log("No coffee shops found for the given city and state.");else{const e=[],n={};t.forEach((t=>{e.push(t.id),n[t.id]=mt({},t.data())})),console.log("Matching shop IDs:",e);const r=Mp(Kf(qm,"ShopReviews"),jp("shop_id","in",e)),s=await Zp(r),o=[];if(s.forEach((e=>{const t=mt({id:e.id},e.data()),r=n[t.shop_id];r&&(t.shop_name=r.shop_name,t.street_address=r.street_address,t.city=r.city,t.state=r.state),o.push(t)})),console.log("All Matching Reviews:",o),i){const e=await Yp(Gf(qm,"BrewUsers",i.uid));if(e.exists()){const{cafeDrink:t,cafeMilk:n,cafeTemp:r,selectedRoast:s}=e.data();console.log("Current User Preferences:",{cafeDrink:t,cafeMilk:n,cafeTemp:r,selectedRoast:s});const a=o.filter((e=>e.selectedRoast===s&&e.selectedBev===t&&e.selectedTemp===r&&e.drinkRating>=4&&e.userID_submitting!==i.uid)).reduce(((e,t)=>(e[t.shop_id]||(e[t.shop_id]=t),e)),{}),l=Object.values(a);c(!1),0===l.length?alert("Not enough shops with your preferences to make a recommendation. Sorry!"):(v(l),h(!0),console.log("Final Recommendations:",l))}else console.log("No user data found for the current user.")}}}catch(e){console.error("Error fetching data:",e)}},children:"Submit"}),(0,Lv.jsx)("button",{onClick:()=>{c(!1)},children:"Cancel"})]})]})}),u&&(0,Lv.jsx)("div",{className:"modal-overlay",children:(0,Lv.jsxs)("div",{className:"modal",children:[(0,Lv.jsx)("h2",{children:"Your Custom Reccomendations"}),(0,Lv.jsx)("p",{children:(0,Lv.jsx)("i",{children:"Make sure to save this list to reference later"})}),m.map((e=>(0,Lv.jsx)(Lv.Fragment,{children:(0,Lv.jsxs)("p",{children:[e.shop_name," @ ",e.street_address]},e.id)}))),(0,Lv.jsxs)("div",{className:"modal-buttons",children:[(0,Lv.jsx)("button",{onClick:()=>{const e=m.map((e=>"".concat(e.shop_name," @ ").concat(e.street_address,", ").concat(e.city,", ").concat(e.state))).join("\n");navigator.clipboard.writeText(e).then((()=>{alert("List copied to clipboard!")})).catch((e=>{console.error("Failed to copy list:",e)}))},children:"Copy List"}),(0,Lv.jsx)("button",{onClick:()=>{h(!1)},children:"Close"})]})]})}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Favorite Cafe Drink:"})," A ",e.cafeTemp," ",e.cafeMilk," ","Black"!==e.cafeMilk&&"Milk"," ",e.cafeDrink]})]}):(0,Lv.jsx)("p",{children:"Loading profile..."}),(0,Lv.jsx)("h2",{children:"Badges"}),(0,Lv.jsx)("p",{children:o?[(E=o.cafes,E>=1&&E<5?y[0]:E>=5&&E<10?y[1]:E>=10&&E<20?y[2]:E>=20?y[3]:null),(_=o.photos,_>=1&&_<5?b[0]:_>=5&&_<15?b[1]:_>=15&&_<25?b[2]:_>=25?b[3]:null),(e=>e>=1&&e<5?w[0]:e>=5&&e<10?w[1]:e>=10&&e<20?w[2]:e>=20?w[3]:null)(o.reviews)].filter(Boolean).join(", ")||"No badges yet!":"Loading badges..."}),(0,Lv.jsx)("h2",{children:"Reviews"}),r.length>0?r.map((e=>(0,Lv.jsxs)("div",{className:"review-section",children:[(0,Lv.jsx)("h3",{children:e.shop_name}),(0,Lv.jsxs)("p",{children:["Ordered a ",e.selectedTemp," ",e.selectedMilk," ","Black"!==e.selectedMilk&&"Milk"," ",e.selectedBev]}),(0,Lv.jsx)("p",{children:e.review}),(0,Lv.jsxs)("p",{className:"ratings-profile",children:[(0,Lv.jsx)("strong",{children:"Drink Rating"})," ",(0,Lv.jsx)(C_,{rating:e.drinkRating,maxCups:5})]}),(0,Lv.jsxs)("p",{className:"ratings-profile",children:[(0,Lv.jsx)("strong",{children:"Shop Rating"})," ",(0,Lv.jsx)(C_,{rating:e.shopRating,maxCups:5})]}),(0,Lv.jsxs)("p",{className:"ratings-profile",children:[(0,Lv.jsx)("strong",{children:"Staff Rating"})," ",(0,Lv.jsx)(C_,{rating:e.staffRating,maxCups:5})]})]},e.id))):(0,Lv.jsx)("p",{children:"No reviews found."})]})});var _,E};const JC=function(e){let{navigate:n}=e;const[r,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[h,d]=(0,t.useState)([]),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[_,E]=(0,t.useState)(!1),k=Bm(),[C,S]=(0,t.useState)({shop_name:"",shop_id:"",userID_submitting:"",user_name_submitting:"",firstName:"",lastName:"",cafeDrink:""}),[x,T]=(0,t.useState)(""),[I,L]=(0,t.useState)(""),[P,O]=(0,t.useState)(""),[N,R]=(0,t.useState)(""),[A,M]=(0,t.useState)(""),[D,j]=(0,t.useState)(""),[U,F]=(0,t.useState)(""),[z,B]=(0,t.useState)(""),[V,H]=(0,t.useState)(""),[W,q]=(0,t.useState)(""),K=[1,2,3,4,5],G=to().currentUser;console.log("currentUser",G),(0,t.useEffect)((()=>{if(G){(async()=>{try{const e=Gf(qm,"BrewUsers",G.uid),t=await Yp(e);if(t.exists()){const e=t.data();S((t=>mt(mt({},t),{},{userID_submitting:G.uid,user_name_submitting:"".concat(e.firstName," ").concat(e.lastName)||"",firstName:e.firstName||"",lastName:e.lastName||"",cafeDrink:e.cafeDrink||"",cafeMilk:e.cafeMilk||"",cafeTemp:e.cafeTemp||"",selectedRoast:e.selectedRoast||"",selectedProcess:e.selectedRoast||""})))}else console.log("No user document found for the current user.")}catch(e){console.error("Error fetching BrewUser data:",e)}})()}}),[G]),(0,t.useEffect)((()=>{(async()=>{const e=Kf(qm,"CoffeeShops"),t=(await Zp(e)).docs.map((e=>mt({id:e.id},e.data())));m(t)})()}),[]),(0,t.useEffect)((()=>{const e=[...new Set(g.map((e=>e.state)))].sort();l(e)}),[g]),(0,t.useEffect)((()=>{if(r){const e=[...new Set(g.filter((e=>e.state===r)).map((e=>e.city)))].sort();u(e)}else u([]),o(""),d([])}),[r,g]),(0,t.useEffect)((()=>{if(r&&i){const e=g.filter((e=>e.state===r&&e.city===i)).sort(((e,t)=>e.shop_name.localeCompare(t.shop_name)));d(e)}else d([])}),[r,i,g]);const Q=async()=>{try{let e=[];v.length>0&&(e=await Y());const t=Kf(qm,"ShopReviews"),r=(await Zp(t)).docs.filter((e=>e.data().shop_id===C.shop_id)).length,s="".concat(C.shop_id,"-").concat(C.userID_submitting,"-").concat(r+1),i={review_id:s,selectedBev:x,selectedMilk:I,selectedTemp:P,selectedRoast:N,selectedProcess:A,flavoring:D,drinkRating:U,shopRating:z,staffRating:V,review:W,shop_id:C.shop_id,userID_submitting:C.userID_submitting,shop_name:C.shop_name,user_name_submitting:C.user_name_submitting,user_fav_drink:C.cafeDrink,user_fav_temp:C.cafeTemp,user_fav_milk:C.cafeMilk,user_fav_roast:C.selectedRoast,user_fav_process:C.selectedProcess,photo_urls:e,timestamp:ng()};if(await Jp(Gf(t,s),i),e.length>0){const t=Gf(qm,"CoffeeShops",C.shop_id),n=await Yp(t);if(n.exists()){const r=n.data().photos||[],s=[...new Set([...r,...e])];await $p(t,{photos:s})}else console.error("Selected shop document does not exist.")}console.log("Review submitted successfully!"),alert("Review submitted successfully!"),T(""),L(""),O(""),R(""),M(""),j(""),F(""),B(""),H(""),q(""),p(""),y([]),w([]),S({shop_name:"",shop_id:"",userID_submitting:"",user_name_submitting:"",firstName:"",lastName:"",cafeDrink:""}),n("/home")}catch(e){console.error("Error submitting review:",e)}},Y=async()=>{if(0===v.length)return[];E(!0);try{const e=v.map((e=>{var t,n;const r=zm((t=k,n="reviews/".concat(Date.now(),"-").concat(e.name),Am(t=et(t),n)),e);return new Promise(((e,t)=>{r.on("state_changed",null,(e=>{console.error("Error uploading image:",e),t(e)}),(async()=>{const t=await function(e){return Om(e=et(e))}(r.snapshot.ref);e(t)}))}))})),t=await Promise.all(e);return console.log("Uploaded image URLs:",t),t}catch(e){return console.error("Error uploading images:",e),alert("Error uploading one or more images."),[]}finally{E(!1)}};return(0,Lv.jsx)("div",{className:"add-review",children:(0,Lv.jsx)("div",{className:"add-review-container",children:f?(0,Lv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Q()},children:[(0,Lv.jsxs)("h2",{htmlFor:"review",children:["Review for ",C.shop_name]}),(0,Lv.jsx)("h3",{children:"Drink you had"}),(0,Lv.jsx)("div",{className:"beverage-options",children:["Cold Brew","Latte","Macchiato","French press","Areopress","Drip coffee","Pour over","Cortado","Espresso","Flat White","Americano","Other"].map((e=>(0,Lv.jsxs)("label",{children:[(0,Lv.jsx)("input",{type:"radio",name:"selectedBev",value:e,checked:x===e,onChange:()=>T(e)}),e]},e)))}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("h3",{children:"Milk you had"}),(0,Lv.jsx)("div",{className:"beverage-options",children:["Black","Oat","Almond","Cow","Coconut","Flax","Other"].map((e=>(0,Lv.jsxs)("label",{children:[(0,Lv.jsx)("input",{type:"radio",value:e,checked:I===e,onChange:()=>L(e)}),e]},e)))}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("label",{children:["Did you add flavoring? (vanilla, pumpkin spice, lavender, etc.):"," ",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:!0===D?"active-button":"",onClick:()=>j(!0),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:!1===D?"active-button":"",onClick:()=>j(!1),children:"No"})]}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("label",{children:["Drink Temp",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:"Hot"===P?"active-button":"",onClick:()=>O("Hot"),children:"Hot"}),(0,Lv.jsx)("button",{type:"button",className:"Cold"===P?"active-button":"",onClick:()=>O("Cold"),children:"Cold"})]}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("label",{children:["Roast Type",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:"Light"===N?"active-button":"",onClick:()=>R("Light"),children:"Light"}),(0,Lv.jsx)("button",{type:"button",className:"Medium"===N?"active-button":"",onClick:()=>R("Medium"),children:"Medium"}),(0,Lv.jsx)("button",{type:"button",className:"Dark"===N?"active-button":"",onClick:()=>R("Dark"),children:"Dark"})]}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("label",{children:["Process",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:"Natural"===A?"active-button":"",onClick:()=>M("Natural"),children:"Natural"}),(0,Lv.jsx)("button",{type:"button",className:"Washed"===A?"active-button":"",onClick:()=>M("Washed"),children:"Washed"}),(0,Lv.jsx)("button",{type:"button",className:"Fermented"===A?"active-button":"",onClick:()=>M("Fermented"),children:"Fermented"})]}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("h3",{children:"Rate the coffee"}),K.map(((e,t)=>(0,Lv.jsxs)("label",{className:"shop-ratings",children:[(0,Lv.jsx)("input",{type:"radio",name:"drink",value:e,checked:U===e,onChange:()=>F(e)}),e," "]},t))),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("h3",{children:"Rate the vibe of the shop"}),K.map(((e,t)=>(0,Lv.jsxs)("label",{children:[(0,Lv.jsx)("input",{type:"radio",name:"vibe",value:e,checked:z===e,onChange:()=>B(e)}),e]},t))),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("h3",{children:"Rate the Staff"}),K.map(((e,t)=>(0,Lv.jsxs)("label",{children:[(0,Lv.jsx)("input",{type:"radio",name:"staff",value:e,checked:V===e,onChange:()=>H(e)}),e]},t))),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("textarea",{id:"review",value:W,onChange:e=>q(e.target.value),placeholder:"Write your review here...",className:"personal-review"}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("label",{children:["Upload Photos:",(0,Lv.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>(e=>{const t=Array.from(e.target.files);y((e=>[...e,...t]))})(e)})]}),(0,Lv.jsx)("br",{})," ",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"submit",onClick:Y,children:"Submit Review"})]}):(0,Lv.jsxs)("div",{className:"select-drop-down",children:[(0,Lv.jsx)("h2",{children:"Add Review"}),(0,Lv.jsxs)("select",{value:r,onChange:e=>s(e.target.value),children:[(0,Lv.jsx)("option",{value:"",children:"Select State"}),a.map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]}),r&&(0,Lv.jsxs)("select",{value:i,onChange:e=>o(e.target.value),children:[(0,Lv.jsx)("option",{value:"",children:"Select City"}),c.map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]}),r&&i&&h.length>0&&(0,Lv.jsxs)("select",{value:f,onChange:e=>(e=>{p(e);const t=g.find((t=>t.id===e));t&&S((n=>mt(mt({},n),{},{shop_name:t.shop_name||"",shop_id:e})))})(e.target.value),className:"dropdown-style",children:[(0,Lv.jsx)("option",{value:"",children:"Select Shop"}),h.map((e=>(0,Lv.jsxs)("option",{value:e.id,children:[e.shop_name,": ",e.street_address]},e.id)))]})]})})})};var $C=n(158),eS=n.n($C);const tS=e=>{let{navigate:n}=e;const[r,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),[_,E]=(0,t.useState)(!1),k=["Starbucks","Dunkin Donuts","Dunkin","Mcdonalds","Tim Hortons","Aroma Joe\u2019s","321 Coffee","Au Bon pain","Biggby Coffee","Bluestone Lane","Cafe Trieste","Caribou Coffee","Coffee Beanery","The Coffee Bean & Tea Leaf","Dutch Bros. Coffee","Dutch Bros","Intelligentsia Coffee & Tea","Intelligentsia","Krispy Kreme","Kaladi Brothers Coffee","La Colombe","Peet\u2019s Coffee","Verve Coffee","PJ\u2019s Coffee","Pret a Manger","Scooters Coffee","Tully\u2019s Coffee","Woods Coffee","Burger King","Wendy\u2019s","Panera","Sonic","Scooters Coffee","Sonic Drive-in","Jack in the box","7 Brew","Cumberland Farms"],C=["stbx","strbx","dunkin","macas","mickey d\u2019s","sbux","krispy","kaladi","Starbucks","Starbucks Coffee","Sbux","Starbux","The \u2018Bucks","Dunkin Donuts","Dunkin'","DD","Dunkin\u2019 Coffee","McDonald's","McD's","Mickey D's","McDee's","MacDonald's","Tim Hortons","Timmies","Timmy's","T-Ho\u2019s","Aroma Joe's","AJ\u2019s","Aroma Joes","321 Coffee","321 Caf\xe9","Coffee 321","Au Bon Pain","ABP","Oh Bon Pain","Au Bon Caf\xe9","Biggby Coffee","Big B Coffee","Bigby","Big B","Bluestone Lane","Bluestone Caf\xe9","Bluestone Coffee","Cafe Trieste","Caff\xe8 Trieste","Caf\xe9 Trieste","Trieste Coffee","Caribou Coffee","Caribou","The \u2018Bou","Caribou Caf\xe9","Coffee Beanery","Beanery Coffee","Coffee Beanery Shop","The Coffee Bean & Tea Leaf","Coffee Bean","The Bean","Coffee Bean Tea Leaf","Dutch Bros Coffee","Dutch Bros","Dutch Brothers","Dutch","Intelligentsia Coffee & Tea","Intelligentsia","Intelli Coffee","Intelligentsia Tea","Krispy Kreme","KK","Krispy","Krispy Creme","Kaladi Brothers Coffee","Kaladi Coffee","Kaladi Bros","La Colombe","La Colombe Coffee","Colombe Caf\xe9","Peet\u2019s Coffee","Peet\u2019s","Peets Caf\xe9","Peet\u2019s Coffee and Tea","Verve Coffee","Verve","Verve Caf\xe9","PJ\u2019s Coffee","PJ's","PJ\u2019s Caf\xe9","Pret a Manger","Pret","Pret a Caf\xe9","Scooter\u2019s Coffee","Scooters","Scooter\u2019s","Scooter\u2019s Caf\xe9","Tully\u2019s Coffee","Tully's","Tully's Caf\xe9","Woods Coffee","Woods Caf\xe9","Wood Coffee","Burger King","BK","The King","Burger King Caf\xe9","Wendy\u2019s","Wendy\u2019s Caf\xe9","Wendy\u2019s Burgers","Panera","Panera Bread","Panera Caf\xe9","Panera Coffee","Sonic","Sonic Drive-In","Sonic Burgers","Sonic Caf\xe9","Jack in the Box","Jack\u2019s","Jack","JITB","7 Brew","Seven Brew","7Brews","Cumberland Farms","Cumby\u2019s","Cumbies","Cumberland Coffee","Cumberland Farms Caf\xe9"],[S,x]=(0,t.useState)(["Latte","Macchiato","Drip coffee","Pour over","Cortado","Espresso","Americano"]),[T]=(0,t.useState)([]),[I,L]=(0,t.useState)(""),[P]=(0,t.useState)(""),[O]=(0,t.useState)([]),[N,R]=(0,t.useState)(!1),[A,M]=(0,t.useState)(!1),[D,j]=(0,t.useState)(!1),[U,F]=(0,t.useState)(!1),[z,B]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{if(Wm.currentUser)try{const e=await Yp(Gf(qm,"BrewUsers",Wm.currentUser.uid));e.exists()?y(e.data()):console.log("No such document!")}catch(e){console.error("Error fetching user data:",e)}})()}),[]),console.log(v);const V=()=>{const e=r.trim().toLowerCase(),t=k.some((t=>t.toLowerCase()===e)),n=C.some((t=>t.toLowerCase()===e)),s=k.map((t=>eS().compareTwoStrings(t.toLowerCase(),e))),i=Math.max(...s);return t||n||i>.6?(E(!0),b||(alert("This is not a specialty coffee shop and cannot be added to the map."),w(!0)),!0):(E(!1),!1)};return(0,Lv.jsx)("div",{className:"add-shop",children:(0,Lv.jsxs)("div",{className:"add-shop-container",children:[(0,Lv.jsx)("h2",{children:"Add a New Coffee Shop"}),(0,Lv.jsx)(Iv,{position:"top-right"}),(0,Lv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!r||!i||!a||!c||!f||!g||!S.length||!I)return void wv.error("Please fill out all required fields.");if(V())return alert("As previously mentioned, this shop cannot be added to the map. You are being redirected away from Add Shop."),void n("/home");const t=a.toUpperCase(),s=c.toUpperCase(),o=await(async(e,t,n)=>{try{const r=Mp(Kf(qm,"CoffeeShops"),jp("street_address","==",e),jp("city","==",t),jp("state","==",n));return!(await Zp(r)).empty}catch(r){return console.error("Error checking existing shop:",r),!1}})(i,t,s);if(o)return void wv.error("This shop location is already in the system.");const l=Math.floor(1e11+9e11*Math.random()).toString(),u=Wm.currentUser,d="".concat(i,", ").concat(a,", ").concat(c),p=await(async e=>{const t="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(encodeURIComponent(e),"&key=").concat("AIzaSyCQ9wOr82fTxxlBg1vBBhhKtPx8wazG5L8");console.log("Geocode URL:",t);try{const e=await fetch(t),n=await e.json();if(console.log("Geocode API response:",n),"OK"===n.status){const{lat:e,lng:t}=n.results[0].geometry.location;return{latitude:e,longitude:t}}throw new Error("Failed to get coordinates: ".concat(n.status))}catch(n){return console.error("Error fetching coordinates:",n),alert("Failed to get coordinates."),null}})(d);if(p)try{await Jp(Gf(qm,"CoffeeShops",l),{shop_name:r,shop_id:l,userID_submitting:u.uid,user_name_submitting:v.firstName+" "+v.lastName,street_address:i,city:t,state:s,roasts_own_beans:h,hours:f,website:g,types_of_beverages:S,typical_flavor_notes:T,roast_style:I,popular_bev:P,dairy_free_options:N,gluten_friendly:A,meal_options:D,bakery_options:U,beans_available:O,timestamp:ng(),about:z}),await Jp(Gf(qm,"Coordinates",l),{shop_id:l,shop_name:r,street_address:d,roast_style:I,latitude:p.latitude,longitude:p.longitude}),await Jp(Gf(qm,"CoffeeShopWebsites",l),{shop_id:l,website:g}),await $p(Gf(qm,"BrewBadges",u.uid),{cities:rg(a),cafes:ig(1)}),wv.success("Shop added successfully!"),n("/home")}catch(m){console.error("Error adding shop:",m),wv.error("Failed to add shop.")}},className:"add-shop-form",children:[(0,Lv.jsx)("input",{type:"text",placeholder:"Shop Name",value:r,onChange:e=>s(e.target.value),onBlur:()=>{V()},required:!0,className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"Street Address",value:i,onChange:e=>o(e.target.value),required:!0,className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"City",value:a,onChange:e=>l(e.target.value),onBlur:()=>l((e=>e.toUpperCase())),required:!0,className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"State",value:c,onChange:e=>{const t=e.target.value.toUpperCase();t.length>2?wv.error("Please enter a valid 2-letter state abbreviation."):u(t)},required:!0,className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"Small blurb about the coffee shop. Optional.",value:z,onChange:e=>B(e.target.value),required:!0,className:"add-shop-input-text"}),(0,Lv.jsxs)("label",{className:"y-n-box",children:["Roasts Own Beans:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:h?"active-button":"",onClick:()=>d(!0),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:h?"":"active-button",onClick:()=>d(!1),children:"No"})]}),(0,Lv.jsx)("input",{type:"text",placeholder:"Hours",value:f,onChange:e=>p(e.target.value),required:!0,className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"Website",value:g,onChange:e=>m(e.target.value),required:!0,className:"add-shop-input-text"}),(0,Lv.jsx)("label",{children:"Types of Beverages:"}),(0,Lv.jsx)("div",{className:"beverage-grid",children:["Cold Brew","Latte","Macchiato","French press","Areopress","Drip coffee","Pour over","Cortado","Espresso","Flat White","Americano","Other"].map((e=>(0,Lv.jsxs)("label",{children:[(0,Lv.jsx)("input",{type:"checkbox",checked:S.includes(e),onChange:()=>{return t=e,void x((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}}),e]},e)))}),(0,Lv.jsxs)("div",{className:"roast-style",children:[(0,Lv.jsx)("label",{children:"Typical Roast Style:"}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("select",{value:I,onChange:e=>L(e.target.value),required:!0,children:[(0,Lv.jsx)("option",{value:"",children:"Select Roast Style"}),["light","medium","dark"].map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]})]}),(0,Lv.jsxs)("label",{className:"y-n-box",children:["Dairy Free Milks:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:N?"active-button":"",onClick:()=>R(!0),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:N?"":"active-button",onClick:()=>R(!1),children:"No"})]}),(0,Lv.jsxs)("label",{className:"y-n-box",children:["Gluten Friendly:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:"default-button ".concat(A?"active-button":""),onClick:()=>M(!0),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:A?"":"active-button",onClick:()=>M(!1),children:"No"})]}),(0,Lv.jsxs)("label",{className:"y-n-box",children:["Meal Options:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:D?"active-button":"",onClick:()=>j(!0),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:D?"":"active-button",onClick:()=>j(!1),children:"No"})]}),(0,Lv.jsxs)("label",{className:"y-n-box",children:["Bakery Options:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:U?"active-button":"",onClick:()=>F(!0),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:U?"":"active-button",onClick:()=>F(!1),children:"No"})]}),(0,Lv.jsx)(Av,{text:"Add Shop",type:"submit",disabled:_})]})]})})},nS=e=>{let{navigate:n}=e;const[r,s]=(0,t.useState)({about:"",cafeDrink:"",cafeMilk:"",cafeTemp:"",email:"",favCafe:"",firstName:"",lastName:"",homeDrink:"",homeMilk:"",homeTemp:"",selectedRoast:"",yourCity:""}),i=["Cold Brew","Latte","Macchiatto","French Press","Aeropress","Drip Coffee","Pour Over","Cortado","Espresso","Flat White","Americano","Other"],o=["Hot","Cold"],a=["Black","Oat","Almond","Cow","Cashew","Coconut","Flax"],l=[{label:"Roast Preference",options:["Light","Medium","Dark"],selectedValue:r.selectedRoast,onChange:e=>u("selectedRoast",e)},{label:"Cafe Drink",options:i,selectedValue:r.cafeDrink,onChange:e=>u("cafeDrink",e)},{label:"Cafe Milk",options:a,selectedValue:r.cafeMilk,onChange:e=>u("cafeMilk",e)},{label:"Cafe Temperature",options:o,selectedValue:r.cafeTemp,onChange:e=>u("cafeTemp",e)},{label:"Home Drink",options:i,selectedValue:r.homeDrink,onChange:e=>u("homeDrink",e)},{label:"Home Milk",options:a,selectedValue:r.homeMilk,onChange:e=>u("homeMilk",e)},{label:"Home Temperature",options:o,selectedValue:r.homeTemp,onChange:e=>u("homeTemp",e)}];(0,t.useEffect)((()=>{(async()=>{const e=Wm.currentUser;if(e)try{const t=await Yp(Gf(qm,"BrewUsers",e.uid));t.exists()?s(t.data()):console.log("No such document!")}catch(t){console.error("Error fetching user data:",t)}})()}),[]);const c=e=>{const{name:t,value:n}=e.target;s((e=>mt(mt({},e),{},{[t]:n})))},u=(e,t)=>{s((n=>mt(mt({},n),{},{[e]:t})))};return(0,Lv.jsx)("div",{className:"edit-profile",children:(0,Lv.jsxs)("div",{className:"edit-profile-container",children:[(0,Lv.jsx)("h2",{children:"Edit Profile"}),(0,Lv.jsx)(Iv,{position:"top-right"}),(0,Lv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=Wm.currentUser;if(t)try{const e=Object.fromEntries(Object.entries(r).filter((e=>{let[t,n]=e;return""!==n})));await $p(Gf(qm,"BrewUsers",t.uid),e),wv.success("Profile updated successfully!"),n("/profile")}catch(s){console.error("Error updating profile:",s),wv.error("Failed to update profile.")}},children:[(0,Lv.jsxs)("label",{children:["First Name:",(0,Lv.jsx)("input",{type:"text",name:"firstName",value:r.firstName,onChange:c})]}),(0,Lv.jsxs)("label",{children:["Last Name:",(0,Lv.jsx)("input",{type:"text",name:"lastName",value:r.lastName,onChange:c})]}),(0,Lv.jsxs)("label",{children:["Email:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("input",{type:"email",name:"email",value:r.email,onChange:c,readOnly:!0})]}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("label",{children:["Favorite Cafe:",(0,Lv.jsx)("input",{type:"text",name:"favCafe",value:r.favCafe,onChange:c})]}),(0,Lv.jsxs)("label",{children:["About:",(0,Lv.jsx)("input",{type:"text",name:"about",value:r.about,onChange:c})]}),(0,Lv.jsxs)("label",{children:["Your City:",(0,Lv.jsx)("input",{type:"text",name:"yourCity",value:r.yourCity,onChange:c})]}),(0,Lv.jsx)(Pv,{selections:l,profileData:r,onSelectionChange:u}),(0,Lv.jsx)("button",{type:"submit",children:"Save Changes"})]})]})})},rS=e=>{let{navigate:n}=e;const[r,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[h,d]=(0,t.useState)([]),[f,p]=(0,t.useState)(""),[g,m]=(0,t.useState)(null),[v,y]=(0,t.useState)({shop_name:"",shop_id:"",userID_submitting:"",user_name_submitting:"",street_address:"",roasts_own_beans:"",hours:"",website:"",types_of_beverages:[],typical_flavor_notes:[],roast_style:"",beans_available:[]});(0,t.useEffect)((()=>{(async()=>{const e=Kf(qm,"CoffeeShops"),t=await Zp(e),n=[...new Set(t.docs.map((e=>e.data().state)))];l(n)})()}),[]),(0,t.useEffect)((()=>{(async()=>{if(r){const e=Mp(Kf(qm,"CoffeeShops"),jp("state","==",r)),t=await Zp(e),n=[...new Set(t.docs.map((e=>e.data().city)))];u(n)}else u([])})()}),[r]),(0,t.useEffect)((()=>{(async()=>{if(r&&i){const e=Mp(Kf(qm,"CoffeeShops"),jp("state","==",r),jp("city","==",i)),t=(await Zp(e)).docs.map((e=>mt({id:e.id},e.data())));d(t)}else d([])})()}),[r,i]);return(0,Lv.jsx)("div",{className:"add-shop",children:(0,Lv.jsxs)("div",{className:"add-shop-container",children:[(0,Lv.jsx)("h2",{children:"Edit Coffee Shop"}),(0,Lv.jsx)(Iv,{position:"top-right"}),r&&i&&f?null:(0,Lv.jsxs)("div",{className:"filter-section",children:[(0,Lv.jsxs)("select",{value:r,onChange:e=>s(e.target.value),children:[(0,Lv.jsx)("option",{value:"",children:"Select State"}),a.map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]}),r&&(0,Lv.jsxs)("select",{value:i,onChange:e=>o(e.target.value),children:[(0,Lv.jsx)("option",{value:"",children:"Select City"}),c.map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]}),r&&i&&h.length>0&&(0,Lv.jsxs)("select",{value:f,onChange:e=>(async e=>{p(e);try{const t=await Yp(Gf(qm,"CoffeeShops",e));if(t.exists()){const e=t.data();console.log("Shop data fetched:",e),m(e),y({shop_name:e.shop_name||"",shop_id:e.shop_id||"",userID_submitting:e.userID_submitting||"",user_name_submitting:e.user_name_submitting||"",street_address:e.street_address||"",roasts_own_beans:e.roasts_own_beans,hours:e.hours||"",website:e.website||"",types_of_beverages:e.types_of_beverages||[],typical_flavor_notes:e.typical_flavor_notes||[],roast_style:e.roast_style||"",dairy_free_options:e.dairy_free_options,gluten_friendly:e.gluten_friendly,meal_options:e.meal_options,bakery_options:e.bakery_options,beans_available:e.beans_available||[]})}else console.log("No shop document found")}catch(t){console.error("Error fetching shop data:",t)}})(e.target.value),className:"dropdown-style",children:[(0,Lv.jsx)("option",{value:"",children:"Select Shop"}),h.map((e=>(0,Lv.jsxs)("option",{value:e.id,children:[e.shop_name,": ",e.street_address]},e.id)))]})]}),f&&v&&(0,Lv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g)try{await $p(Gf(qm,"CoffeeShops",f),v),alert("Shop updated successfully!"),n("/home")}catch(t){console.error("Error updating shop:",t),alert("Failed to update shop.")}else alert("No shop has been selected")},className:"add-shop-form",children:[(0,Lv.jsx)("input",{type:"text",placeholder:"Shop Name",value:v.shop_name,onChange:e=>y(mt(mt({},v),{},{shop_name:e.target.value})),className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"Street Address",value:v.street_address,onChange:e=>y(mt(mt({},v),{},{street_address:e.target.value})),className:"add-shop-input-text"}),(0,Lv.jsxs)("label",{className:"y-n-box",children:["Roasts Own Beans:",(0,Lv.jsx)("br",{}),(0,Lv.jsx)("br",{}),(0,Lv.jsx)("button",{type:"button",className:v.roasts_own_beans?"active-button":"",onClick:()=>y(mt(mt({},v),{},{roasts_own_beans:!0})),children:"Yes"}),(0,Lv.jsx)("button",{type:"button",className:v.roasts_own_beans?"":"active-button",onClick:()=>y(mt(mt({},v),{},{roasts_own_beans:!1})),children:"No"})]}),(0,Lv.jsx)("input",{type:"text",placeholder:"Hours",value:v.hours,onChange:e=>y(mt(mt({},v),{},{hours:e.target.value})),className:"add-shop-input-text"}),(0,Lv.jsx)("input",{type:"text",placeholder:"Website",value:v.website,onChange:e=>y(mt(mt({},v),{},{website:e.target.value})),className:"add-shop-input-text"}),(0,Lv.jsx)("label",{children:"Types of Beverages:"}),(0,Lv.jsx)("div",{className:"beverage-grid",children:["Cold Brew","Latte","Macchiato","French press","Areopress","Drip coffee","Pour over","Cortado","Espresso","Flat White","Americano","Other"].map((e=>{var t;return(0,Lv.jsxs)("label",{children:[(0,Lv.jsx)("input",{type:"checkbox",checked:(null===(t=v.types_of_beverages)||void 0===t?void 0:t.includes(e))||!1,onChange:()=>{return t="types_of_beverages",n=e,void y((e=>{var r;const s=null!==(r=e[t])&&void 0!==r&&r.includes(n)?e[t].filter((e=>e!==n)):[...e[t]||[],n];return mt(mt({},e),{},{[t]:s})}));var t,n}}),e]},e)}))}),(0,Lv.jsxs)("div",{className:"roast-style",children:[(0,Lv.jsx)("label",{children:"Typical Roast Style:"}),(0,Lv.jsx)("br",{}),(0,Lv.jsxs)("select",{value:v.roast_style||"",onChange:e=>y(mt(mt({},v),{},{roast_style:e.target.value})),children:[(0,Lv.jsx)("option",{value:"",children:"Select Roast Style"}),["light","medium","dark"].map((e=>(0,Lv.jsx)("option",{value:e,children:e},e)))]})]}),(0,Lv.jsx)(Av,{text:"Save Changes",type:"submit"})]})]})})},sS=()=>{var e;const n=J(),[r,s]=(0,t.useState)(null),[i,o]=(0,t.useState)([]),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),h=to().currentUser,d=null===(e=n.state)||void 0===e?void 0:e.userId,f=new URLSearchParams(n.search).get("uid"),p=d||(f?atob(f):null),g=["Bean Scout","Brew Pathfinder","Espresso Explorer","Caffeine Pioneer"],m=["Caffeine Shutterbug","Snapshot Sipper","Latte Luminary","Brewtiful Visionary"],v=["Percolating Critic","Grounded Reviewer","Brewmaster Critic","Cupping Connoisseur"];(0,t.useEffect)((()=>{(async()=>{if(p)try{const e=await Yp(Gf(qm,"BrewUsers",p));e.exists()&&s(e.data());const t=Mp(Kf(qm,"BrewBadges"),jp("id","==",p));(await Zp(t)).forEach((e=>l(e.data())))}catch(e){console.error("Error fetching user data:",e)}})(),(async()=>{if(p)try{const e=Mp(Kf(qm,"ShopReviews"),jp("userID_submitting","==",p)),t=await Zp(e),n=[];t.forEach((e=>n.push(mt({id:e.id},e.data())))),o(n)}catch(e){console.error("Error fetching user reviews:",e)}})()}),[p]),(0,t.useEffect)((()=>{(async()=>{if(h)try{const e=Mp(Kf(qm,"Friends"),jp("id","==",h.uid)),t=await Zp(e);if(!t.empty){const e=t.docs[0].data();e.friends&&e.friends.includes(p)&&u(!0)}}catch(e){console.error("Error checking following status:",e)}})()}),[h,p]);return(0,Lv.jsx)("div",{className:"profile",children:(0,Lv.jsxs)("div",{className:"profile-container",children:[r?(0,Lv.jsxs)("div",{children:[(0,Lv.jsx)("h2",{children:(0,Lv.jsxs)("strong",{children:[r.firstName," ",r.lastName]})}),(0,Lv.jsx)("button",{onClick:async()=>{if(h)try{const e=Mp(Kf(qm,"Friends"),jp("id","==",h.uid)),t=await Zp(e);if(t.empty)console.error("Friends document not found for the current user.");else{const e=t.docs[0].ref;c?(await $p(e,{friends:sg(p)}),u(!1)):(await $p(e,{friends:rg(p)}),u(!0))}}catch(e){console.error("Error updating following status:",e)}},children:c?"Unfollow":"Follow"}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Favorite Cafe Drink:"})," A ",r.cafeTemp," ",r.cafeMilk," ","Black"!==r.cafeMilk&&"Milk"," ",r.cafeDrink]})]}):(0,Lv.jsx)("p",{children:"Loading profile..."}),(0,Lv.jsx)("h2",{children:"Badges"}),(0,Lv.jsx)("p",{children:a?[(b=a.cafes,b>=1&&b<5?g[0]:b>=5&&b<10?g[1]:b>=10&&b<20?g[2]:b>=20?g[3]:null),(y=a.photos,y>=1&&y<5?m[0]:y>=5&&y<15?m[1]:y>=15&&y<25?m[2]:y>=25?m[3]:null),(e=>e>=1&&e<5?v[0]:e>=5&&e<10?v[1]:e>=10&&e<20?v[2]:e>=20?v[3]:null)(a.reviews)].filter(Boolean).join(", ")||"No badges yet!":"Loading badges..."}),(0,Lv.jsx)("h2",{children:"Reviews"}),i.length>0?i.map((e=>(0,Lv.jsxs)("div",{className:"review-section",children:[(0,Lv.jsx)("h3",{children:e.shop_name}),(0,Lv.jsxs)("p",{children:["Ordered a ",e.selectedTemp," ",e.selectedMilk," ","Black"!==e.selectedMilk&&"Milk"," ",e.selectedBev]}),(0,Lv.jsx)("p",{children:e.review})]},e.id))):(0,Lv.jsx)("p",{children:"No reviews found."})]})});var y,b},iS=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(1),a=to().currentUser,l=ee();(0,t.useEffect)((()=>{(async()=>{if(a)try{const e=Mp(Kf(qm,"Friends"),jp("id","==",a.uid)),t=await Zp(e);if(t.empty)console.log("No Friends document found for the current user.");else{const e=t.docs[0].data();e.friends&&Array.isArray(e.friends)?n(e.friends):console.log("No friends array found in the document.")}}catch(e){console.error("Error fetching friends:",e)}})()}),[a]),(0,t.useEffect)((()=>{(async()=>{if(e.length>0)try{const t=Kf(qm,"ShopReviews"),n=Kf(qm,"CoffeeShops"),r=[],i=new Date,o=new Date;o.setDate(i.getDate()-30);for(const s of e){const e=Mp(t,jp("userID_submitting","==",s));(await Zp(e)).forEach((e=>{const t=e.data();t.timestamp&&"function"===typeof t.timestamp.toMillis&&t.timestamp.toMillis()>o.getTime()&&r.push(mt({type:"review",id:e.id},t))}));const i=Mp(n,jp("userID_submitting","==",s));(await Zp(i)).forEach((e=>{const t=e.data();t.timestamp&&"function"===typeof t.timestamp.toMillis&&t.timestamp.toMillis()>o.getTime()&&r.push(mt({type:"shop",id:e.id},t))}))}r.sort(((e,t)=>t.timestamp.toMillis()-e.timestamp.toMillis())),s(r)}catch(t){console.error("Error fetching feed items:",t)}})()}),[e]);const c=(e,t)=>{l("/otheruser/".concat(e.slice(-4),"-").concat(t),{state:{userId:e}})},u=10*i,h=u-10,d=r.slice(h,u),f=Math.ceil(r.length/10);return(0,Lv.jsxs)("div",{className:"follower-feed",children:[(0,Lv.jsx)("h2",{children:"Friends' Activity (Last 30 Days)"}),d.length>0?d.map((e=>(0,Lv.jsxs)("div",{className:"feed-item ".concat(e.type,"-item"),children:["review"===e.type?(0,Lv.jsxs)("div",{className:"review-section",children:[(0,Lv.jsx)("h3",{className:"shop-name",children:e.shop_name}),(0,Lv.jsxs)("p",{children:["Reviewed by:"," ",(0,Lv.jsx)("strong",{onClick:()=>c(e.userID_submitting,e.user_name_submitting),style:{cursor:"pointer",color:"black",textDecoration:"underline",fontStyle:"italic"},children:e.user_name_submitting})]}),(0,Lv.jsxs)("p",{children:["Ordered a ",e.selectedTemp," ",e.selectedMilk," ","Black"!==e.selectedMilk&&"Milk"," ",e.selectedBev]}),(0,Lv.jsx)("p",{className:"personal-review",children:e.review}),(0,Lv.jsxs)("div",{className:"ratings",children:[(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Drink Rating:"})," ",e.drinkRating,"/5"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Shop Rating:"})," ",e.shopRating,"/5"]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Staff Rating:"})," ",e.staffRating,"/5"]})]})]}):(0,Lv.jsxs)("div",{className:"shop-section",children:[(0,Lv.jsx)("h3",{className:"shop-name",children:e.shop_name}),(0,Lv.jsxs)("p",{children:["Submitted by:"," ",(0,Lv.jsx)("strong",{onClick:()=>c(e.userID_submitting,e.user_name_submitting),style:{cursor:"pointer",color:"blue"},children:e.user_name_submitting})]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Address:"})," ",e.street_address,", ",e.city,","," ",e.state]}),(0,Lv.jsxs)("p",{children:[(0,Lv.jsx)("strong",{children:"Website:"})," ",(0,Lv.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:e.website})]})]}),(0,Lv.jsx)("p",{className:"timestamp",children:(0,Lv.jsxs)("small",{children:["review"===e.type?"Reviewed on: ":"Added on: ",new Date(e.timestamp.toMillis()).toLocaleString()]})})]},e.id))):(0,Lv.jsx)("p",{children:"No activity found from your friends in the last 30 days."}),r.length>10&&(0,Lv.jsxs)("div",{className:"pagination",children:[(0,Lv.jsx)("button",{onClick:()=>{i>1&&o((e=>e-1))},disabled:1===i,children:"Previous"}),(0,Lv.jsxs)("span",{children:["Page ",i," of ",f]}),(0,Lv.jsx)("button",{onClick:()=>{i<f&&o((e=>e+1))},disabled:i===f,children:"Next"})]})]})};const oS=function(e){let{navigate:n}=e;const{identifier:r}=function(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}(),[s,i]=(0,t.useState)([{name:"",roast:"",notes:"",origin:""}]),[o,a]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{try{const e=Gf(Kf(qm,"CoffeeBeans"),r),t=await Yp(e);if(t.exists()){const e=t.data();i(e.beans||[])}}catch(e){console.error("Error fetching beans: ",e)}finally{a(!1)}})()}),[r]);const l=(e,t,n)=>{const r=[...s];r[e][t]=n,i(r)},c=e=>{switch(e){case"Light":return"#B3A89D";case"Medium":return"#806D5B";case"Dark":return"#4F3E31";default:return"transparent"}};return o?(0,Lv.jsx)("div",{className:"add-beans",children:(0,Lv.jsx)("div",{className:"add-beans-container",children:(0,Lv.jsx)("h2",{children:"Loading..."})})}):(0,Lv.jsx)("div",{className:"add-beans",children:(0,Lv.jsxs)("div",{className:"add-beans-container",children:[(0,Lv.jsx)("h2",{children:s.length>0?"Edit Beans or Add New Ones":"Add Beans"}),s.map(((e,t)=>{return(0,Lv.jsxs)("div",{className:"beans-entry",style:{backgroundColor:c(e.roast),color:(n=e.roast,"Dark"===n?"#FFFFFF":"#000000")},children:[(0,Lv.jsxs)("label",{children:["Beans Name:",(0,Lv.jsx)("input",{type:"text",value:e.name,onChange:e=>l(t,"name",e.target.value),className:"add-beans-input",style:{backgroundColor:"#FFFFFF",color:"#000000"}})]}),(0,Lv.jsxs)("label",{children:["Beans Roast:",(0,Lv.jsxs)("select",{value:e.roast,onChange:e=>l(t,"roast",e.target.value),className:"add-beans-select",style:{backgroundColor:"#FFFFFF",color:"#000000"},children:[(0,Lv.jsx)("option",{value:"",children:"Select Roast"}),(0,Lv.jsx)("option",{value:"Light",children:"Light"}),(0,Lv.jsx)("option",{value:"Medium",children:"Medium"}),(0,Lv.jsx)("option",{value:"Dark",children:"Dark"})]})]}),(0,Lv.jsxs)("label",{children:['Flavor Notes (use "," between each ex. peach, pear, apple)',(0,Lv.jsx)("textarea",{value:e.notes,onChange:e=>l(t,"notes",e.target.value),placeholder:"Enter notes about the beans",className:"add-beans-textarea",style:{backgroundColor:"#FFFFFF",color:"#000000"}})]}),(0,Lv.jsxs)("label",{children:["Beans Origin:",(0,Lv.jsx)("input",{type:"text",value:e.origin,onChange:e=>l(t,"origin",e.target.value),className:"add-beans-input",style:{backgroundColor:"#FFFFFF",color:"#000000"}})]}),(0,Lv.jsx)("button",{type:"button",onClick:()=>(e=>{const t=s.filter(((t,n)=>n!==e));i(t)})(t),className:"remove-beans-button",style:{backgroundColor:"#f3709f",color:"#FFFFFF",border:"none",borderRadius:"4px",padding:"0.5rem 1rem",cursor:"pointer"},children:"Delete"})]},t);var n})),(0,Lv.jsx)("button",{type:"button",onClick:()=>{i([...s,{name:"",roast:"",notes:"",origin:""}])},className:"add-beans-button",style:{backgroundColor:"#42693E",color:"#FFFFFF",border:"none",borderRadius:"4px",padding:"0.75rem 1.5rem",margin:"1rem 0",cursor:"pointer"},children:"Add More Beans"}),(0,Lv.jsx)("button",{type:"button",onClick:async()=>{try{const e=Gf(Kf(qm,"CoffeeBeans"),r);await Jp(e,{shop_id:r,beans:s}),console.log("Beans saved successfully!"),alert("Beans saved successfully!"),n("/home")}catch(e){console.error("Error saving beans: ",e),alert("Failed to save beans. Please try again.")}},className:"save-beans-button",style:{backgroundColor:"#FFC700",color:"#000000",border:"none",borderRadius:"4px",padding:"0.75rem 1.5rem",margin:"1rem 0",cursor:"pointer"},children:"Save Beans"})]})})};function aS(){const{initAuthListener:e}=Km(),n=ee(),r=J(),s="/login"===r.pathname||"/register"===r.pathname||"/"===r.pathname;return(0,t.useEffect)((()=>{e()}),[e]),(0,t.useEffect)((()=>{Km.getState().initAuthListener()}),[]),(0,Lv.jsxs)("div",{style:{marginTop:"-10px"},children:[!s&&(0,Lv.jsx)(YC,{}),(0,Lv.jsxs)(be,{children:[(0,Lv.jsx)(ve,{path:"/",element:(0,Lv.jsx)(XC,{navigate:n})}),(0,Lv.jsx)(ve,{path:"/home",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(QC,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/profile",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(ZC,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/editprofile",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(nS,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/addreview",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(JC,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/addshop",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(tS,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/editshop",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(rS,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/otheruser/:identifier",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(sS,{})})}),(0,Lv.jsx)(ve,{path:"/feed",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(iS,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/beans/:identifier",element:(0,Lv.jsx)(lS,{component:(0,Lv.jsx)(oS,{navigate:n})})}),(0,Lv.jsx)(ve,{path:"/login",element:(0,Lv.jsx)(Mv,{navigate:n})}),(0,Lv.jsx)(ve,{path:"/register",element:(0,Lv.jsx)(Ov,{navigate:n})})]})]})}function lS(e){let{component:t}=e;const{currentUser:n,isLoading:r}=Km();return r?(0,Lv.jsx)("div",{children:"Loading!!!!"}):n?t:(0,Lv.jsx)(me,{to:"/login"})}const cS=function(){return(0,Lv.jsx)(Ee,{children:(0,Lv.jsx)(aS,{})})},uS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:o}=t;n(e),r(e),s(e),i(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,Lv.jsx)(t.StrictMode,{style:{zIndex:1},children:(0,Lv.jsx)(cS,{})})),uS()})()})();
//# sourceMappingURL=main.2267f3e0.js.map